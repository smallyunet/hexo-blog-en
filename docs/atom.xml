<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>smallyu‘s Blog</title>
  <icon>https://en.smallyu.net/favicon.png</icon>
  <subtitle>smallyu&#39;s Blog</subtitle>
  <link href="https://en.smallyu.net/atom.xml" rel="self"/>
  <link href="https://pubsubhubbub.appspot.com/" rel="hub"/>
  <link href="https://en.smallyu.net/"/>
  <updated>2025-08-06T10:54:27.844Z</updated>
  <id>https://en.smallyu.net/</id>
  
  <author>
    <name>smallyu</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>The Company Closed, I&#39;m Unemployed Again</title>
    <link href="https://en.smallyu.net/2025/05/15/The%20Company%20Closed,%20I&#39;m%20Unemployed%20Again/"/>
    <id>https://en.smallyu.net/2025/05/15/The%20Company%20Closed,%20I&#39;m%20Unemployed%20Again/</id>
    <published>2025-05-15T12:37:11.000Z</published>
    <updated>2025-08-06T10:54:27.844Z</updated>
    
    <content type="html"><![CDATA[<p>In the past month, I worked as a backend developer for a company called <a href="https://www.tantin.com/">Tantin Chain</a>, focusing on wallet backend development. During my time there, I was mainly responsible for developing a transaction record aggregation service. The core function of this aggregation service was to query transaction records for a given address from data sources upon receiving requests from the client, process the data into a format defined by the business, and return the result.</p><p>Since it involved multiple chains, and the data came from several sources, each address also needed to handle three types of transactions: regular transactions, ERC-20 transactions, and internal transactions. Plus, there was the issue of writing to the Redis cache. Therefore, a dedicated aggregation service was needed for this purpose. Currently, the service supports four data sources: Ankr, Quick Node, Blockscout, and Etherscan. The complete code is open-sourced here: <a href="https://github.com/smallyunet/tx-aggregator">smallyunet&#x2F;tx-aggregator</a></p><p>This company had close ties with Coinstore. Initially, the core team was borrowed from Coinstore, but after forming a new team by hiring externally, the Coinstore employees returned to their original positions. The newly formed team had two groups, mainly responsible for three product lines: public chain, cross-chain bridge, and wallet. After a month of development, the plan was to release the first official version today. However, unexpectedly, the company laid off all employees in the two teams—right on the day of the planned release.</p><p>Back to my own work—the transaction aggregation service was actually quite simple, probably requiring just one or two weeks to develop. For the remaining time, I was looking for things to do: optimizing multi-environment configurations, writing unit tests, writing integration tests, writing documentation, optimizing code structure… I must say, this period of work was very pleasant. I hadn’t done such an easy job in the past two years. The team atmosphere was also great and cheerful. Having been immersed in the serious blockchain field for too long, it was quite refreshing to occasionally do regular backend development.</p><p><br><br></p><h3 id="Reminder-2025-05-22"><a href="#Reminder-2025-05-22" class="headerlink" title="Reminder (2025.05.22)"></a>Reminder (2025.05.22)</h3><p>Upon investigation, we found that the Chinese name for Tantin Chain is “天体链” (Celestial Chain). Its sister division is Tantin Exchange (TTX), also known as 天体交易所. TTX was formerly called ttsmart, and the token it issues is CTC.</p><p>Just a reminder: this company originated in Cambodia and recently set up an office in Singapore. It has a strong background in pyramid schemes and a history of absconding with funds, traces of which can be found online. Everyone should avoid using Tantin’s products as much as possible to prevent personal asset losses. The company name used for recruitment is Tantin Technology. Industry professionals should also be cautious and avoid working for this company if possible, as there may be joint liability if issues arise with users later on.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;In the past month, I worked as a backend developer for a company called &lt;a href=&quot;https://www.tantin.com/&quot;&gt;Tantin Chain&lt;/a&gt;, focusing on</summary>
        
      
    
    
    
    
    <category term="Work" scheme="https://en.smallyu.net/tags/Work/"/>
    
  </entry>
  
  <entry>
    <title>Want to Develop a Minimal EVM Virtual Machine</title>
    <link href="https://en.smallyu.net/2025/05/11/Want%20to%20Develop%20a%20Minimal%20EVM%20Virtual%20Machine/"/>
    <id>https://en.smallyu.net/2025/05/11/Want%20to%20Develop%20a%20Minimal%20EVM%20Virtual%20Machine/</id>
    <published>2025-05-10T17:15:07.000Z</published>
    <updated>2025-08-06T10:55:09.744Z</updated>
    
    <content type="html"><![CDATA[<p>I’ve named this project echoevm.com. The main goal is to start from the simplest stack operations and gradually build a complete Ethereum bytecode execution environment.</p><p>Why choose this direction? Let’s analyze the technical modules of an Ethereum client:</p><ol><li>RPC: A GRPC wrapper? The focus is more on protocol design than technical implementation.</li><li>P2P: There’s an existing libp2p available — it’s mostly about node discovery and routing tables, maybe dig into Kademlia DHT?</li><li>Account system: ECDSA? Cryptography?</li><li>Transaction pool: Transaction analysis, sealed transactions, MEV protection directions.</li><li>Consensus mechanism: The design of consensus mechanisms belongs in the research realm — typically PhD-level research in labs, publishing papers, producing test data to prove cutting-edge optimizations, and finally securing funding to hire engineers for implementation.</li><li>Storage: Experts in database internals are useful anywhere; it’s not specific to blockchain.</li><li>Data structures: Study the implementation of Merkle Patricia Trees?</li><li>State synchronization: Light client direction — for example, using Celestia’s core tech to separate execution from storage, or offloading Archive node data?</li></ol><p>Overall, I lean toward doing something engineering-focused rather than academic, yet still technically challenging. It should be meaningful both for personal technical growth and for the potential outcomes. If this minimal EVM is successfully developed, it can lead to a series of follow-up achievements, and many valuable products can be built on top of it.</p><p>The conversion from Solidity to bytecode is compiler expert territory. What I aim to do is execute the bytecode — starting with the simplest operations like addition and jump, then move on to gas calculation, context switching, and ultimately be able to execute all historical Ethereum transactions.</p><br><h3 id="v0-0-2-2025-06-09"><a href="#v0-0-2-2025-06-09" class="headerlink" title="v0.0.2 (2025.06.09)"></a>v0.0.2 (2025.06.09)</h3><p>This version adds the ability to run runtime bytecode, meaning you can first deploy a contract and then call the deployed contract’s functions with specific parameters. For example:</p><pre><code>go run ./cmd/echoevm -bin ./build/Add.bin -function &#39;add(uint256,uint256)&#39; -args &quot;3,5&quot;</code></pre><p>This command executes the bytecode from the <code>./build/Add.bin</code> file and calls the <a href="https://github.com/smallyunet/echoevm/blob/v0.0.2/test/contracts/Add.sol#L7">add function</a>, passing in the arguments 3 and 5. After the program completes, it will return the computation result, which is 8.</p><br><h3 id="v0-0-1-2025-05-27"><a href="#v0-0-1-2025-05-27" class="headerlink" title="v0.0.1 (2025.05.27)"></a>v0.0.1 (2025.05.27)</h3><p>Implemented a very simple version. Now you can use <code>solc</code> to compile an <a href="https://github.com/smallyunet/echoevm/blob/v0.0.1/test/contracts/Add.sol">Add.sol</a> contract, and then have <code>echoevm</code> read the generated <code>Add.bin</code> deployment code, which will output the contract’s runtime code after deployment.</p><p>During the implementation of this version, I learned the difference between deployment code and runtime code. Typically, we first deploy a contract to the blockchain and then make calls to it. These are actually two different operations, but both use the same EVM execution. The EVM doesn’t care whether the input bytecode is for deployment or invocation; it simply handles different opcodes differently. Deployment code generally includes both the <code>CODECOPY</code> and <code>RETURN</code> opcodes, which can be used to distinguish the type of input.</p><br><h3 id="v0-0-2-2025-06-09-1"><a href="#v0-0-2-2025-06-09-1" class="headerlink" title="v0.0.2 (2025-06-09)"></a>v0.0.2 (2025-06-09)</h3><p>This version adds the ability to run runtime bytecode—that is, first deploy the contract and then call its functions, optionally passing parameters. For example:</p><pre><code>go run ./cmd/echoevm -bin ./build/Add.bin -function &#39;add(uint256,uint256)&#39; -args &quot;3,5&quot;</code></pre><p>This command executes the bytecode in <code>./build/Add.bin</code>, calls the <a href="https://github.com/smallyunet/echoevm/blob/v0.0.2/test/contracts/Add.sol#L7">add function</a> with arguments 3 and 5, and returns 8 when the program finishes.</p><br><h3 id="v0-0-3-2025-06-24"><a href="#v0-0-3-2025-06-24" class="headerlink" title="v0.0.3 (2025-06-24)"></a>v0.0.3 (2025-06-24)</h3><p>Good news—echoevm can now execute contract transactions in the first 10 000 blocks of the Ethereum mainnet! (Because there were no contract transactions in those early blocks :P)</p><p>This release introduces block-execution mode: you can run a single block or a range of blocks. You’ll need a URL that serves block data; for early Ethereum blocks, be sure to use an archive-mode node. The full command looks like this:</p><pre><code>echoevm -start-block 0 -end-block 10000 -rpc &lt;url&gt;</code></pre><p>echoevm’s bytecode support is still limited. Running more recent blocks may raise errors about unsupported opcodes; that’s expected.</p><br><h3 id="v0-0-4-2025-07-05"><a href="#v0-0-4-2025-07-05" class="headerlink" title="v0.0.4 (2025-07-05)"></a>v0.0.4 (2025-07-05)</h3><p>This version adds the ability to read bytecode directly from an artifact file—the JSON artifact generated by a Hardhat project when it compiles. Earlier versions could only read the binary file produced by <code>solc</code>. Previously, you’d compile and run like this:</p><pre><code># Compile the contract to produce bytecodenpx --yes solc --bin Add.sol -o ./build# Run echoevm to execute the bytecodego run ./cmd/echoevm run -bin ./test/bins/build/Add_sol_Add.bin -function &quot;add(uint256,uint256)&quot; -args &quot;1,2&quot;</code></pre><p>Now it’s simpler. For a standard <a href="https://github.com/smallyunet/echoevm/tree/v0.0.4/test/contract">Hardhat project</a>, every compile creates an artifact file, and echoevm can read the JSON directly:</p><pre><code># Compile the Hardhat project’s contractsnpx hardhat compile# (Optional) run the project’s testsnpx hardhat test# Run echoevm to execute the bytecodego run ./cmd/echoevm run -artifact ./test/contract/artifacts/contracts/Add.sol/Add.json -function &quot;add(uint256,uint256)&quot; -args &quot;1,2&quot;</code></pre><p>This release also adds support for more opcodes, but it’s still not enough to execute a full Ethereum block. Next we’ll add test cases incrementally by Solidity feature and examine missing opcodes—hence the focus on execution improvements in this version.</p><br><h3 id="v0-0-5-2025-07-27"><a href="#v0-0-5-2025-07-27" class="headerlink" title="v0.0.5 (2025-07-27)"></a>v0.0.5 (2025-07-27)</h3><p>This is a minor release that adds a comprehensive set of <a href="https://github.com/smallyunet/echoevm/tree/v0.0.5/test/contract/contracts">Solidity contracts</a> as test cases, covering basic data types, functions, control flow, modifiers, events, interfaces, libraries, inline assembly, and other Solidity features.</p><p>A handy command is provided; run it from the project root to see all the test results:</p><pre><code>make test-advanced</code></pre><p>All tests pass. However, echoevm still can’t execute Ethereum mainnet block 10 000 000, indicating the missing opcodes aren’t part of Solidity’s core syntax—they must come from elsewhere.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;I’ve named this project echoevm.com. The main goal is to start from the simplest stack operations and gradually build a complete</summary>
        
      
    
    
    
    
    <category term="Plan" scheme="https://en.smallyu.net/tags/Plan/"/>
    
    <category term="EVM" scheme="https://en.smallyu.net/tags/EVM/"/>
    
  </entry>
  
  <entry>
    <title>Design of an On-Chain Identity Authentication System Based on ZK and Smart Contracts</title>
    <link href="https://en.smallyu.net/2025/04/30/Design%20of%20an%20On-Chain%20Identity%20Authentication%20System%20Based%20on%20zk%20+%20Smart%20Contracts/"/>
    <id>https://en.smallyu.net/2025/04/30/Design%20of%20an%20On-Chain%20Identity%20Authentication%20System%20Based%20on%20zk%20+%20Smart%20Contracts/</id>
    <published>2025-04-30T14:18:54.000Z</published>
    <updated>2025-08-06T10:58:37.485Z</updated>
    
    <content type="html"><![CDATA[<p>I’ve named this system <strong>zkgate.fun</strong>, aiming to leverage the features of zero-knowledge proofs in combination with blockchain to create a small tool. The key function is to allow users to prove they belong to a certain group without revealing their real on-chain identity.</p><p>Here’s the current idea: the administrator starts with a list of addresses (e.g., an array of Ethereum addresses), then calculates a Merkle Root Hash based on this list and submits it to a smart contract. Individuals in the list can use a Circom circuit’s proving key to generate a zk proof for themselves, and then submit this zk proof to the smart contract.</p><p>The smart contract will use the <code>verifier.sol</code> generated from the Circom circuit to verify the zk proof and determine whether the address used to generate the proof is included in the Merkle Root Hash. The result of this verification is then returned.</p><p>With this approach, the admin doesn’t need to publicly disclose the addresses in the group, and the addresses within the group also don’t need to declare their identity. They just need to submit the zk proof generated using zero-knowledge proof to prove their membership in the group. I’ll proceed to implement this technically.</p><br><h3 id="Update-v0-1-0-2025-05-09"><a href="#Update-v0-1-0-2025-05-09" class="headerlink" title="Update v0.1.0 (2025.05.09)"></a>Update v0.1.0 (2025.05.09)</h3><p>First, a correction to the previous design: the administrator <strong>must</strong> publicly disclose the address list of the group. Otherwise, it’s impossible to generate a Merkle Tree, and users can’t locate their address’s position in the tree or generate the necessary path proof.</p><p>On a positive note, a very basic demo now works (<a href="https://github.com/smallyunet/zkgate-demo">smallyunet&#x2F;zkgate-demo</a>). While the demo lacks features (it can’t even verify address ownership in the circuit), it proves the toolchain process.</p><p>The specific implementation steps:</p><ol><li>An <a href="https://github.com/smallyunet/zkgate-demo/blob/v0.1.0/offchain/smt.js">off-chain script</a> generates <a href="https://github.com/smallyunet/zkgate-demo/blob/v0.1.0/offchain/inputs.json">inputs.json</a> from the address list and the user’s own address. This file includes the Merkle Root Hash and path information needed for verification.</li><li>The <a href="https://github.com/smallyunet/zkgate-demo/blob/v0.1.0/circuits/merkleSmtProof.circom">circuit code</a> is compiled into <a href="https://github.com/smallyunet/zkgate-demo/tree/main/circuits/build">binary files</a> used to generate witness files.</li><li>A <code>.zkey</code> file is created using the public <a href="https://github.com/smallyunet/zkgate-demo/blob/v0.1.0/circuits/run.sh#L17-L28">ptau file</a>.</li><li>From the <code>.zkey</code> file, export <a href="https://github.com/smallyunet/zkgate-demo/blob/v0.1.0/circuits/proof.json">proof.json</a>, <a href="https://github.com/smallyunet/zkgate-demo/blob/v0.1.0/circuits/public.json">public.json</a>, and <a href="https://github.com/smallyunet/zkgate-demo/blob/v0.1.0/circuits/verification_key.json">verification_key.json</a>. These three can be used for off-chain verification.</li><li>Export the <a href="https://github.com/smallyunet/zkgate-demo/blob/v0.1.0/circuits/contracts/Groth16Verifier.sol">.sol contract file</a> from the <code>.zkey</code> file and deploy it on-chain.</li><li>Use the contents of <code>prove.json</code> and <code>public.json</code> as <a href="https://github.com/smallyunet/zkgate-demo/blob/v0.1.0/hardhat/scripts/prove.js#L41">parameters</a> to call the contract’s <a href="https://github.com/smallyunet/zkgate-demo/blob/v0.1.0/circuits/contracts/Groth16Verifier.sol"><code>verifyProof</code></a> function. If the proof is valid, it returns <code>true</code>; otherwise, <code>false</code>.</li></ol><p>If an address is not in the group list, there are two cases:</p><ol><li>Attempting to generate <code>inputs.json</code> using an <a href="https://github.com/smallyunet/zkgate-demo/blob/v0.1.0/offchain/smt_non_member.js#L24">unauthorized address</a> will result in an error during proof generation.</li><li>Attempting to submit a fake <a href="https://github.com/smallyunet/zkgate-demo/blob/v0.1.0/hardhat/scripts/fakeProofWithCorrectRoot.js#L26">proof</a> to the contract will fail verification.</li></ol><p>Currently, this primitive demo uses plaintext addresses to build the proof, like:</p><pre><code class="js">const members = [  &quot;0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266&quot;,  &quot;0x70997970C51812dc3A010C7d01b50e0d17dc79C8&quot;,  &quot;0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC&quot;,];const proofKey = toField(members[0]);const &#123; siblings &#125; = await tree.find(proofKey);</code></pre><p>This checks whether <code>members[0]</code> is part of the tree built from <code>members</code>. Clearly, it is. To fake it, just replace the address:</p><pre><code class="js">const nonMemberAddress = &quot;0x1234567890123456789012345678901234567890&quot;;const proofKey = toField(nonMemberAddress);const &#123; siblings &#125; = await tree.find(proofKey);</code></pre><p>So the <code>members</code> list must be public, and the current program only checks if an address is in that list. Even if <code>members[0]</code> isn’t my address, I can still use it to build a valid proof. Then what’s the point of zk?</p><p>Next step: require users to <strong>sign a message</strong> with their private key, then recover the address from the signature <strong>inside the zk circuit</strong>, and check if the recovered address is in the members list.</p><p>Sounds simple? In reality, using a zk circuit to recover an address from an ECDSA signature is absurdly complex—like building a nuclear reactor out of Lego. No wonder zk devs are losing their hair.</p><br><h3 id="Update-v0-2-0-2025-05-13"><a href="#Update-v0-2-0-2025-05-13" class="headerlink" title="Update v0.2.0 (2025.05.13)"></a>Update v0.2.0 (2025.05.13)</h3><p>This version solves the problem of address ownership verification. The main idea is to separate the zk proof from the address ownership proof: off-chain zk proves the address’s position in the Merkle Root, while on-chain the user submits a signature of the root using their private key. The contract recovers the address from the signature and compares it with the address in the zk proof.</p><pre><code>1. zk proof includes address info -&gt; on-chain verification reveals address info2. Private key signs root -&gt; signature submitted -&gt; contract recovers address3. Compare zk proof address == recovered address</code></pre><p>Code changes:</p><ol><li>Off-chain code doesn’t need changes — the <a href="https://github.com/smallyunet/zkgate-demo/blob/v0.2.0/offchain/smt.js#L37">inputs</a> already include the key.</li><li>In the circuit code, the key is made <a href="https://github.com/smallyunet/zkgate-demo/blob/v0.2.0/circuits/merkleSmtProof.circom#L27">public</a>.</li><li>The smart contract accepts the <a href="https://github.com/smallyunet/zkgate-demo/blob/v0.2.0/hardhat/contracts/ZkGateRegistry.sol#L38">signature</a>, <a href="https://github.com/smallyunet/zkgate-demo/blob/v0.2.0/hardhat/contracts/ZkGateRegistry.sol#L49">recovers the address</a>, and compares it with the address in the proof.</li><li>The script that calls the contract must <a href="https://github.com/smallyunet/zkgate-demo/blob/v0.2.0/hardhat/scripts/prove.js#L44-L45">sign the root</a> and pass the signature to the contract.</li></ol><p>As of now, <strong>zkgate.fun</strong> allows group admins to only publish a Merkle Root Hash on-chain, keeping the full member list private. Group members just need the full list and a signature from their address’s private key to generate a zk proof and prove their membership.</p><p>The only information not hidden by zk is the user’s address, which must still be submitted for verification.</p><br><h3 id="Update-2025-05-14"><a href="#Update-2025-05-14" class="headerlink" title="Update (2025.05.14)"></a>Update (2025.05.14)</h3><p>There is an existing zk protocol supported by the Ethereum Foundation, with a mature toolchain and ecosystem, called <strong>Semaphore</strong>. Try its demo with a frontend UI here:</p><ul><li><a href="https://semaphore.pse.dev/">https://semaphore.pse.dev/</a></li></ul><p>In the first two versions of zkgate.fun, I avoided using Semaphore’s EdDSA account system, preferring to stick with Ethereum’s native ECDSA. However, only EdDSA is zk-friendly: it can use Poseidon Hash signatures that zk circuits can verify directly—unlike the “off-chain sign, on-chain recover” clumsy approach I used.</p><p>From a learning standpoint, this project taught me how zk toolchains work in just a few days. But from an industry perspective, there’s no way I could outperform Semaphore on my own. Even with a frontend UI and visual interactivity, zkgate.fun would just end up like <a href="https://demo.semaphore.pse.dev/">Semaphore’s Demo</a>, but technically inferior.</p><p>Therefore, I’ve decided to stop developing <strong>zkgate.fun</strong>. The domain will expire in a year and will not be renewed.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;I’ve named this system &lt;strong&gt;zkgate.fun&lt;/strong&gt;, aiming to leverage the features of zero-knowledge proofs in combination with</summary>
        
      
    
    
    
    
    <category term="zk" scheme="https://en.smallyu.net/tags/zk/"/>
    
    <category term="planning" scheme="https://en.smallyu.net/tags/planning/"/>
    
  </entry>
  
  <entry>
    <title>Design of the Web3 Tipping System giveme.wtf</title>
    <link href="https://en.smallyu.net/2025/04/29/About%20the%20Design%20of%20the%20Web3%20Tipping%20System%20giveme.wtf/"/>
    <id>https://en.smallyu.net/2025/04/29/About%20the%20Design%20of%20the%20Web3%20Tipping%20System%20giveme.wtf/</id>
    <published>2025-04-29T11:26:45.000Z</published>
    <updated>2025-08-06T10:38:27.633Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Product-Form"><a href="#Product-Form" class="headerlink" title="Product Form"></a>Product Form</h3><p>giveme.wtf is a domain I just registered, intended as a small Web3 tipping tool. Similar Web2 platforms include:</p><ul><li><a href="https://buymeacoffee.com/">https://buymeacoffee.com/</a></li><li><a href="https://linktr.ee/">https://linktr.ee/</a></li></ul><p>The difference is that the personal page on giveme.wtf will display Web3 wallet receiving addresses and QR codes, much like a personal PayPal payment link. It will support multiple chain address formats including Bitcoin, Ethereum, Dogecoin, etc., and users can choose freely.</p><p>giveme.wtf will not act as an intermediary for funds; it will simply display tipping address information. For example, visiting giveme.wtf&#x2F;{username} will show the receiving address info set up by the user, including Ethereum address text and QR code. That’s it.</p><p>Of course, on giveme.wtf&#x2F;{username}, users can also set a simple bio, avatar, domain, social media, etc., like a small personal homepage, making it more shareable.</p><h3 id="Technical-Implementation"><a href="#Technical-Implementation" class="headerlink" title="Technical Implementation"></a>Technical Implementation</h3><ul><li>Registration</li></ul><p>Users register with a MetaMask wallet. After connecting the wallet, they can set a unique, globally-managed username via a smart contract. This requires a transaction to submit the desired username to the contract.</p><ul><li>Profile Info</li></ul><p>Once the EVM address is bound to the username, users can set their profile info including avatar, bio, wallet addresses, etc.</p><p>After entering the info, the frontend sends it to the backend, which saves it on an IPFS node (pinned for long-term), and returns the CID to the frontend.</p><p>The frontend, after receiving the CID, initiates another contract interaction to write the username-&gt;CID mapping into the smart contract. This step can be combined with registration or kept separate, since users may want to register without setting a profile.</p><ul><li>Display</li></ul><p>The on-chain username-&gt;CID is the authoritative data. The frontend fetches the CID from the contract based on the username in giveme.wtf&#x2F;{username}, then queries the IPFS gateway for the data and renders the page.</p><p>Profiles are minimal JSON data, very small in size. To speed up gateway queries, Cloudflare’s Web3 gateway CDN can be used.</p><ul><li>Network Selection</li></ul><p>The smart contract is deployed on Base.</p><h3 id="Extensions-and-Optimizations"><a href="#Extensions-and-Optimizations" class="headerlink" title="Extensions and Optimizations"></a>Extensions and Optimizations</h3><p>Later, on-chain data can be used to generate statistics like which receiving addresses are using the tipping system, total amount tipped, and make a leaderboard categorized by username or chain.</p><p>Ranking can boost the exposure of the bio under each username. Upvote your idol to keep them at the top.</p><p>We can also add 24-hour leaderboards or competitive ranking formats.</p><p>The system could also be extended into a social network. Tipping history could form relationship graphs, and even evolve into an IM tool with auto group creation, etc.</p><h4 id="Username-Recovery"><a href="#Username-Recovery" class="headerlink" title="Username Recovery"></a>Username Recovery</h4><p>A drawback of MetaMask registration is what happens if a wallet is lost—does that mean username control is lost too? A recovery mechanism can be designed, such as allowing each username to set a list of recovery addresses. Any address in this list can reclaim control and update the CID. This is aimed at lost wallets.</p><p>What if the wallet gets hacked? Wouldn’t the hacker just change the recovery list? Yes, once a hacker has control of the username, they could reinforce it by changing to their own address. Is there a way to regain control after a hack? Not in Web3.</p><h4 id="Network-Selection"><a href="#Network-Selection" class="headerlink" title="Network Selection"></a>Network Selection</h4><p>Currently, a chain must be chosen to deploy the smart contract, which ensures data integrity. Choosing a chain is tricky, as users might not hold tokens on-chain.</p><p>For example, choosing Base requires users to have ETH and also ETH on Base, which can be a big hurdle.</p><p>To solve this, gas fee abstraction can be considered—using a paymaster from ERC-4337 (which has mostly faded), or the older Meta Transaction method. However, we also have to prevent abuse and ensure we can afford to subsidize fees.</p><h4 id="Data-Availability"><a href="#Data-Availability" class="headerlink" title="Data Availability"></a>Data Availability</h4><p>In the MVP, data is stored on IPFS, but there’s only one server. IPFS is a low-level file routing protocol, and we can wrap it with a simpler layer like Filecoin, but less complex due to small data volume. PoST is complex due to encryption&#x2F;decryption for large files, but giveme.wtf’s data is small. We can just verify a Merkle Root Hash, meaning a lightweight verification and incentive system on top of IPFS. Nodes that store full data could receive rewards after periodic checks. Details of rewards are TBD.</p><h4 id="Off-Chain-Data-Caching"><a href="#Off-Chain-Data-Caching" class="headerlink" title="Off-Chain Data Caching"></a>Off-Chain Data Caching</h4><p>Querying username-&gt;CID from the contract every time is slow and uses RPC resources. We should cache this off-chain via a centralized backend that listens to contract events and writes username-&gt;CID to Cloudflare Workers KV.</p><p>Frontend should first query Cloudflare Workers KV, and fallback to the contract if unavailable.</p><p>But what if the centralized service is compromised and changes username-&gt;CID? Funds could be misdirected.</p><p>This is a data integrity problem that Optimistic Rollup also solves. Here’s a possible approach combined with Zetachain’s cross-chain logic.</p><p>First, the off-chain caching service builds a Merkle Tree using all username-&gt;CID data. The resulting Merkle Root Hash is the integrity proof and is regularly submitted on-chain. Frontend checks this root hash on-chain to verify if the cached CID is tampered.</p><p>Also, multiple indexer programs can agree on a TSS key. Only this key can submit Merkle Root Hashes. They will only agree if all their root hashes match—effectively multi-signature.</p><p>Finally, introduce a cool-down + challenge period. After submission, the root hash doesn’t take effect immediately. Anyone can challenge it. If successful, the new root is invalidated, and the old one remains. Designing a reliable challenge mechanism is complex, but it’s something to optimize in the future.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h3 id=&quot;Product-Form&quot;&gt;&lt;a href=&quot;#Product-Form&quot; class=&quot;headerlink&quot; title=&quot;Product Form&quot;&gt;&lt;/a&gt;Product Form&lt;/h3&gt;&lt;p&gt;giveme.wtf is a domain I just</summary>
        
      
    
    
    
    
    <category term="web3" scheme="https://en.smallyu.net/tags/web3/"/>
    
    <category term="Plan" scheme="https://en.smallyu.net/tags/Plan/"/>
    
  </entry>
  
  <entry>
    <title>Looking Back on My Past Failed Career Experiences</title>
    <link href="https://en.smallyu.net/2025/04/27/Looking%20Back%20on%20My%20Past%20Failed%20Career%20Experiences/"/>
    <id>https://en.smallyu.net/2025/04/27/Looking%20Back%20on%20My%20Past%20Failed%20Career%20Experiences/</id>
    <published>2025-04-26T16:59:41.000Z</published>
    <updated>2025-08-06T10:38:27.719Z</updated>
    
    <content type="html"><![CDATA[<p>The following content does not involve the present or future, but purely analyzes and reflects on past, already established facts.</p><ul><li>UnionPay Advantage</li></ul><p>Right after graduating, I accidentally entered a company that was incubating an alliance blockchain internally. At first, I interned in another department of UnionPay Advantage, something like the Mobile Recharge Services Department, mainly writing SQL queries to pull data. Later, they hired an outsourced employee, let me go, and passed my resume to other departments, which is how I ended up in the Tech Development Department working on blockchain.</p><p>After becoming a full-time employee, I did frontend development for a while, displaying Bitcoin market data and blockchain industry data on a big screen. Later, I shifted to regular Java backend development, building a business system. After that, I started working on application layer blockchain development using Java to interact with the underlying blockchain developed by another team. Eventually, because someone from the underlying blockchain team left, I transferred there and began learning and developing alliance blockchain technologies in Go.</p><p>In this first phase of my career, I was understandably very lost, with almost no planning for my future career path—basically doing whatever the company assigned to me.</p><p>During this time, I tried learning various programming languages, apart from <a href="/2018/10/31/Java%2011%20Tutorial%20(Translation)/">Java</a> (which I studied in university), including <a href="/2018/11/01/PHP%207,%20Making%20Code%20More%20Elegant%20(Translation)/">PHP</a>, <a href="/2018/12/02/Getting%20One%20Piece%20Update%20Information%20with%20Python/">Python</a>, <a href="/2018/12/17/Basics%20of%20Scala%20Syntax/">Scala</a>, <a href="/2019/03/15/Basic%20Syntax%20of%20Go%20Language/">Go</a>, <a href="/2019/07/06/A%20Simplified%20Version%20of%20Scala/">Kotlin</a>, <a href="/2019/08/19/Overview%20of%20Basic%20Rust%20Syntax/">Rust</a>, <a href="/2019/11/26/What%20is%20a%20Monad%20in%20Haskell/">Haskell</a>, <a href="/2020/03/31/Understanding%20the%20Actor%20Model%20Through%20Erlang/">Erlang</a>, etc., but only superficially—mainly syntax and small demos. After dabbling in multiple languages, I realized programming concepts and syntax are often quite similar.</p><p>I also tried learning other fields, such as <a href="https://github.com/smallyunet/data-engrg-cookbook">big data analysis</a> and <a href="https://github.com/smallyunet/advanced-java">advanced Java topics</a>, but I never persisted or delved deeply.</p><p>I actively switched jobs after some time, because after working on the underlying blockchain for a while, I realized that alliance blockchains were largely built on top of Tendermint consensus, with layers of miscellaneous additions like simultaneous support for MySQL, TiDB, MongoDB, LevelDB, etc., as data sources. Our company’s focus shifted to certification tests by the China Academy of Information and Communications Technology (CAICT), complying with various test standards to earn certificates.</p><p>During work, I also explored Hyperledger Fabric, developed a DID program based on Hyperledger Indy, and kept records of the <a href="https://slide-share.smallyu.net/">PPTs</a> I created.</p><p>After these experiences, I gradually realized that alliance chains and public blockchains are entirely different technical systems. Alliance chains aren’t real blockchains, which later led to my strong <a href="/2021/09/29/%E8%81%94%E7%9B%9F%E9%93%BE%E6%AF%94%E5%85%AC%E6%9C%89%E9%93%BE%E5%B7%AE%E5%9C%A8%E5%93%AA%E5%84%BF/">prejudice against alliance chains</a>. Thus, I voluntarily moved to a company working on public chain projects.</p><ul><li>Onchain</li></ul><p>Onchain is actually a very powerful company. In China, if you were involved in blockchain (at least two years ago) and hadn’t heard of Onchain, there were only two possibilities: 1. You weren’t really doing blockchain development. 2. You hadn’t truly entered the industry.</p><p>When I first joined Onchain, I still didn’t really understand blockchain, even though I had grasped the PBFT process and knew how VBFT consensus worked. Technically, I knew the “big four” components of blockchains—consensus, database, storage, and one more.</p><p>You might not know Onchain, but you can’t be unaware of NEO, ONT, and projects like WING and FLM—they all originated from Onchain. Our project was based on ONT nodes.</p><p>Once you learn about NEO, you inevitably hear about its founder Da Shu, then trace back to the 2017 ICO boom, Ethereum co-founder Vitalik’s fundraising in China, angel investor and Bitcoin billionaire Li Xiaolai, Guo Hongcai who forked Ethereum and helped Binance, and eventually get familiar with names like Zhao Changpeng, Li Lin, Sun Yuchen, Du Jun—and truly understand the crypto world.</p><p>The biggest issue in this job was that Da Shu was too wealthy, giving our project team great salaries with almost zero workload or pressure. I learned a lot during this time, including concepts like <a href="/2022/12/14/Example%20and%20Explanation%20of%20S-PDP%20File%20Proof/">PDP Proof</a> and <a href="/2022/12/20/Differences%20Between%20Proof%20of%20Storage_Space_Replication/">PoST</a>. Unfortunately, the project never launched, and we were laid off when Da Shu abandoned the Chinese market to move to the U.S.</p><p>My experience at UnionPay Advantage and Onchain made me mistakenly believe I had blockchain development skills, and I constantly planned my career around blockchain development.</p><ul><li>Equilibrium Hash</li></ul><p>This was a startup I left after just two weeks. Normally, such a short stint would be negligible, but the company’s mission and its appeal are worth mentioning.</p><p>A professor from the University of Finance and Economics, Zhou Pingzuo, who was also an expert at the central bank, proposed a method using Nash Equilibrium (game theory) to achieve blockchain consensus. This company aimed to engineer this theory. If it had been feasible, it would’ve been my dream job. But as it turned out, it wasn’t reliable.</p><ul><li>Fusionist</li></ul><p>You may not have heard of Fusionist, but you might know about ACE, which launched on Binance at the end of 2023, peaked at $16, and now sits around $0.6, ranked around 600th in market cap. To be clear, the game developers at Fusionist were genuinely hardworking; the coin price wasn’t their fault—blame the investors.</p><p>Ironically, I left Fusionist because I felt I was merely <em>using</em> blockchain, not <em>developing</em> it. Yet to this day, the most tangible result of my career is helping build the ACE mainnet.</p><p>I’ve always believed using blockchain is much simpler than developing it. Running an open-source node is like using an iPhone—you wouldn’t call iPhone users “tech geniuses,” right? Similarly, running an Ethereum node doesn’t make one a great engineer.</p><p>I left Fusionist deliberately, accepting the maximum loss to show my determination to correct my career path. Having both the will and ability to pivot is, I think, pretty cool.</p><p>Not being able to contribute more significantly to a major blockchain like ACE remains a regret.</p><ul><li>Pell Network</li></ul><p>After Fusionist, I firmly believed in <a href="/2024/09/11/Why%20You%20Shouldn't%20Pursue%20Smart%20Contract%20or%20DeFi%20Development/">not doing smart contract development</a> and <a href="/2024/09/12/Why%20You%20Shouldn't%20Engage%20in%20Secondary%20Development%20of%20Ethereum/">not doing secondary development on Ethereum</a>. These two decisions essentially ruled out most Web3 jobs. So what was left? I already had the answer in mind, and coincidentally found a job opportunity: Cosmos development.</p><p>I wasn’t keen to <em>actively</em> learn Cosmos SDK, but was happy to <em>use</em> it if the work demanded. Using Cosmos SDK to develop a chain, however, still falls into the trap of “using blockchain instead of developing blockchain.” Cosmos SDK is fundamentally an SDK designed to lower the barrier for developers—it doesn’t require deep knowledge of consensus algorithms, transaction mechanics, or blockchain architecture, much like smart contract platforms.</p><p>The Pell Chain project wasn’t difficult. I even arrogantly wrote about <a href="/2024/10/15/Understanding%20the%20Technical%20Architecture%20of%20Any%20Blockchain%20Project/">how to understand the technical architecture of any blockchain project</a>. Pell Chain inherited much of its complexity from Zeta Chain’s cross-chain logic since it was forked from Zeta Chain.</p><p>I learned a lot during this time, especially from my Leader’s “big tech” style of management, which gave me a taste of what working in a big tech company might be like. Even though I never joined a big tech company, after seeing the money floating in the crypto industry, I lost all desire for it.</p><p>I left Pell Network voluntarily too. When an environment is bad for you, having the will and ability to leave is, again, pretty cool.</p><h3 id="What-Ifs"><a href="#What-Ifs" class="headerlink" title="What Ifs"></a>What Ifs</h3><p>Throughout my career, there were many times when I voluntarily gave up potential opportunities.</p><p>If I had seriously learned smart contract development from the start, maybe I’d now be proficient in EVM, SOL, APT, and other platforms’ smart contract languages, with several live contracts under my belt—there’s a huge demand for smart contract developers in Web3.</p><p>If I had jumped into DeFi development early and stuck with it, I might now deeply understand how DEXes work, from Uniswap to AAVE to cross-chain bridges—skills needed by both CEX and DEX projects.</p><p>If I had committed to Cosmos SDK from the beginning, I could have become a seasoned Cosmos developer by now, familiar with all its quirks and contributing code to the ecosystem.</p><p>If I had persistently studied Ethereum’s source code, I might now be capable of optimizing parts of Ethereum clients and contributing meaningfully to Layer 2 development efforts.</p><p>If I had stayed in alliance chain development, I might have ended up at a major project like Chang’an Chain or Tencent Blockchain, working quietly but happily.</p><p>If I had never encountered blockchain at all and just focused on being a backend developer in the traditional internet sector, I’d likely now be proficient with databases, caching, middleware, and wouldn’t fumble on interview questions about Go’s GMP scheduling principles.</p><p>What if…</p><h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><p>Overall, my past career experiences have been a huge failure. I spent years trying to become a true blockchain developer but never even touched the threshold—only working on the peripheries.</p><p>And with the industry’s evolution, after 2019 the Layer 1 blockchain wars were basically over. By around 2023, with Binance, Tron, and Huobi leaving China, and Da Shu abandoning the Chinese market, there were almost no legitimate blockchain development companies left here. </p><p>The world no longer needs “blockchain developers.”</p><p><br><br></p><h3 id="Appendix"><a href="#Appendix" class="headerlink" title="Appendix"></a>Appendix</h3><h4 id="UChains-Technical-Architecture"><a href="#UChains-Technical-Architecture" class="headerlink" title="UChains Technical Architecture"></a>UChains Technical Architecture</h4><p>UChains is a blockchain project incubated within a traditional payment company. The project’s Team Leader left the company in 2019 and later co-founded ChainMaker (长安链) as a partner. When ChainMaker was first launched, many technical features bore strong similarities to UChains. Later on, ChainMaker developed quite successfully, collaborated with Tencent, and gained significant recognition.</p><p>The technical architecture of UChains was previously mentioned in “<a href="/2022/09/03/VRF%20+%20BFT%20Consensus%20Causing%20Transaction%20Failure%20Issues/">VRF + BFT Consensus Causing Transaction Failures</a>“.</p><p>The core of UChains is based on Tendermint Core, with the code directly integrated into the project and heavily customized. The main improvements include:</p><ul><li>VRF-based proposer node selection</li><li>Layered consensus (switching consensus groups)</li><li>Limited smart contract support</li><li>Support for different types of databases</li><li>Heterogeneous multi-chain support</li></ul><h4 id="SaveFS-Technical-Architecture"><a href="#SaveFS-Technical-Architecture" class="headerlink" title="SaveFS Technical Architecture"></a>SaveFS Technical Architecture</h4><p>SaveFS, also known as saveio, was a blockchain project incubated within Onchain. When Onchain was dissolved in 2022, the entire SaveFS project was shut down.</p><p>Technical aspects related to SaveFS were previously discussed in “<a href="/2022/08/27/One%20Year%20Work%20Review/">A Year in Review</a>“.</p><p>The SaveFS project was relatively complex, essentially integrating elements from the following projects:</p><ul><li>Ontology</li><li>Lightning Network</li><li>IPFS</li></ul><p>Why the term “essentially integrating”? Back then, NEO became a very successful project under the banner of “China’s Ethereum,” and it is speculated that SaveFS inherited this kind of ambition, aiming to become something like “China’s Filecoin.”</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;The following content does not involve the present or future, but purely analyzes and reflects on past, already established</summary>
        
      
    
    
    
    
    <category term="Work" scheme="https://en.smallyu.net/tags/Work/"/>
    
  </entry>
  
  <entry>
    <title>People Who Hype Cursor Usually Lack Technical Skills</title>
    <link href="https://en.smallyu.net/2025/04/12/People%20Who%20Hype%20Cursor%20Usually%20Lack%20Technical%20Skills/"/>
    <id>https://en.smallyu.net/2025/04/12/People%20Who%20Hype%20Cursor%20Usually%20Lack%20Technical%20Skills/</id>
    <published>2025-04-12T12:33:38.000Z</published>
    <updated>2025-08-06T10:38:27.726Z</updated>
    
    <content type="html"><![CDATA[<p>The title is a bit clickbaity—don’t take it too seriously. What I mean is that we shouldn’t focus too much on the tools we use. It’s simple logic: only when your own engineering skills fall short of what Cursor can do would you think Cursor is amazing and can do everything. Of course, that’s kind of an empty statement.</p><p>In fact, Cursor’s code completion isn’t much better than GitHub Copilot’s. They both use the same underlying models—either Claude or GPT. In terms of engineering fine-tuning, both Cursor and Copilot work by using some files as context for ongoing conversation.</p><p>Cursor is slightly better than Copilot in that it actively searches and references other files in the current project directory. That’s genuinely useful—you don’t have to tell it which files to reference; it tries on its own. Copilot, as a plugin, lacks this ability. That’s definitely a strong point for Cursor. If your project has a lot of reusable code, Cursor can really shine.</p><p>But sometimes Cursor feels overly “smart.” It even creates new files in your project without your consent, which means you have to keep an eye on whether it’s modifying files you didn’t intend to change. In contrast, Copilot (in GoLand) is just a plugin that offers code suggestions—you choose whether to use them. Copilot in VS Code now offers a similar experience to Cursor, where it gives you the option to accept or reject changes.</p><p>So in comparison: Cursor and Copilot use the same large language models (nobody really thinks Cursor trained its own model, right?), but Cursor has more control at the project level, while Copilot, true to its name, acts more like an assistant. That’s their biggest difference.</p><p>Now back to the models themselves. o1 is the best model so far—at least from my daily experience. I often use o1 to precisely pinpoint bugs in my code, while other models tend to give incorrect or vague explanations for the same issue, including o3-mini-high and 4o.</p><p>For example, when calling a smart contract, the original command was:</p><pre><code>cast call requestPrice(string) &quot;BTC&quot; —-rpc-url=http://eth:8545</code></pre><p>Later, I needed to call another function that takes one more argument, so I copied the code and changed it to:</p><pre><code>cast call requestPrice(string) &quot;BTC&quot; &quot;USD&quot; —-rpc-url=http://eth:8545</code></pre><p>Did you notice the issue right away? Actually, 4o did give a correct analysis, just not precise—it listed three possible causes. But o1 got it right straight away.</p><p>Of course, differences between models aren’t always this clear-cut—just happened to have this example in mind. What I want to say is, from daily use, o1 is the most reliable model.</p><p>I seriously suspect that the people hyping up Cursor are those who haven’t really used AI before, and only realized how powerful generative AI has become after using Cursor—so they’re thrilled. And when they need generative AI, their first reaction isn’t to open ChatGPT or Gotk3, but to jump into Cursor’s code panel and start chatting.</p><p>So in reality, those hyping Cursor are mistaking the power of generative AI for the power of Cursor itself, which is why they think Cursor is exceptionally good.</p><p>I’ve been strongly recommended Cursor more than once at work, even told to stop using GoLand, with people saying things like “GoLand is trash” and “Cursor is the best.”</p><p>First of all, I’ve always thought that choice of editor is a personal preference—why make a big deal out of it? Second, if people think your choice of editor reflects a hierarchy or sense of superiority, that’s just childish. Lastly, I use GoLand for two simple reasons: 1) the arrows clearly show interface implementation relationships; 2) the forward&#x2F;backward navigation shortcuts are very handy. These two reasons help me quickly understand and follow the code.</p><p>This leads to a difference: people who use GoLand tend to focus more on code logic. When looking for specific parts of code, they prefer jumping through code relationships like interface implementations. On the other hand, Cursor (VS Code) users focus more on the project’s directory structure, filenames, and file locations—because Cursor lacks solid code navigation features, they have to rely on the structure to piece things together.</p><p>As for code autocompletion, GoLand with the Copilot plugin handles everyday needs just fine. Most of the time, what needs completing is something like a log statement. For more complex, logic-heavy code, I’m hesitant to rely on AI.</p><p>Maybe the reason some people recommend Cursor to me is they assume I don’t know how to use AI, or think I don’t know how to use Cursor (?). That’s odd. I tried ChatGPT back in 2023 when it first blew up and even wrote <a href="/2023/03/30/Don't%20Underestimate%20ChatGPT/">Don’t Underestimate ChatGPT</a>. Nowadays, I use ChatGPT all the time—both for work and in life.</p><p>All in all, my point is: it’s totally fine to like Cursor or to use Cursor. Just don’t hype Cursor too much.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;The title is a bit clickbaity—don’t take it too seriously. What I mean is that we shouldn’t focus too much on the tools we use. It’s</summary>
        
      
    
    
    
    
    <category term="AI" scheme="https://en.smallyu.net/tags/AI/"/>
    
  </entry>
  
  <entry>
    <title>On Code Review Etiquette</title>
    <link href="https://en.smallyu.net/2025/03/25/On%20Code%20Review%20Etiquette/"/>
    <id>https://en.smallyu.net/2025/03/25/On%20Code%20Review%20Etiquette/</id>
    <published>2025-03-25T13:45:43.000Z</published>
    <updated>2025-08-06T10:38:27.722Z</updated>
    
    <content type="html"><![CDATA[<p>Previously, I recommended two blog posts by Yin Wang:</p><ul><li>“<a href="https://www.yinwang.org/blog-cn/2015/03/03/how-to-respect-a-programmer">How to Respect a Programmer</a>”</li><li>“<a href="https://www.yinwang.org/blog-cn/2015/03/11/git-etiquette">Git Etiquette</a>”</li></ul><p>Due to a lack of standardized practices in my past work experiences, I didn’t have a proper understanding of Code Review. Recently, triggered by a colleague’s emotional remarks on this topic, I started to pay more attention to the issue of Code Review.</p><h3 id="Basic-Etiquette-Don’t-Use-FYI"><a href="#Basic-Etiquette-Don’t-Use-FYI" class="headerlink" title="Basic Etiquette: Don’t Use FYI"></a>Basic Etiquette: Don’t Use FYI</h3><p>Google’s published Code Review guidelines, “<a href="https://google.github.io/eng-practices/review/reviewer/standard.html">The Standard of Code Review</a>,” are extremely instructive and comprehensive. Even the process-related issues I currently encounter can be addressed by following this guideline. Of course, this requires that all team members have first agreed upon and understood this guideline, instead of assuming everyone in the company already knows and follows it.</p><p>The guideline (TSCR) already covers process issues and etiquette, so I won’t repeat them here. What caught my attention is a small section: “<a href="https://google.github.io/eng-practices/review/reviewer/comments.html#label-comment-severity">Label comment severity</a>,” which talks about categorizing the importance of comments in Code Review, using prefixes so the author can clearly understand which comments must be addressed and which are optional.</p><p>Other than mandatory comments (which don’t require a prefix), Google’s guideline lists three types of prefixes — all from the reviewer’s perspective and none of them block approval or merging:</p><ul><li><code>Nit</code> (Nitpick): You should change it, but I can accept it if you don’t.</li><li><code>Optional</code>: Just a suggestion, feel free to decide.</li><li><code>FYI</code> (For Your Information): No changes required for this PR, but I find this point interesting — something you can look into later.</li></ul><p>Every time I see “For Your Information,” I instinctively translate it into a common phrase from traditional Chinese culture: “It’s for your own good.”</p><p>Anyone who grew up in Chinese society — even without harsh parenting — likely understands the weight of this phrase.</p><p>For your own good, you must study hard<br>For your own good, you can’t play games<br>For your own good, you must take the civil service exam<br>For your own good, you should get married early<br>For your own good, you have to have children<br>…</p><p>Sometimes, parents use “for your own good” as an excuse to satisfy their desire to control. Other times, they may sincerely mean well but offer poor advice due to limited vision.</p><p>In short, “for your own good” carries a very negative connotation in Chinese. Bringing such language into the workplace is even more absurd. Although “For Your Information” isn’t literally “for your own good,” to avoid misunderstanding, it’s best to avoid this phrasing altogether.</p><p>So, the basic etiquette of Code Review is: don’t use FYI.</p><h3 id="Why-“For-Your-Own-Good”-Is-Often-Wrong"><a href="#Why-“For-Your-Own-Good”-Is-Often-Wrong" class="headerlink" title="Why “For Your Own Good” Is Often Wrong"></a>Why “For Your Own Good” Is Often Wrong</h3><h4 id="Conclusion-First"><a href="#Conclusion-First" class="headerlink" title="Conclusion First"></a>Conclusion First</h4><p>Because no one can truly understand another person.</p><p>Do parents truly understand their children? Do married couples really know what their partner is thinking? Do police investigators fully grasp the minds of the suspects they question? Can psychology experts guess why their girlfriend is mad in the morning? And most importantly — do you really understand yourself?</p><p>So we can draw a conclusion that has nothing to do with technology: out of courtesy, we should avoid telling others “it’s for your own good.”</p><h4 id="A-Concrete-Example"><a href="#A-Concrete-Example" class="headerlink" title="A Concrete Example"></a>A Concrete Example</h4><p>In a recent project, I submitted code that implemented a simple event bus. Both the event’s Publish and Subscribe functions used RW locks to ensure thread-safe map access:</p><pre><code class="Go">func (eb *EventBus) Publish(event Event) &#123;    eb.mu.RLock()    defer eb.mu.RUnlock()    if ch, exists := eb.channels[event]; exists &#123;        ch &lt;- event    &#125;&#125;</code></pre><p>The Code Review suggestion I received was to use <code>sync.Map</code> instead:</p><pre><code class="Go">func (eb *EventBus) Publish(event Event) &#123;    if ch, ok := eb.channels.Load(event); ok &#123;        // Note: Type assertion needed here        ch.(chan Event) &lt;- event    &#125;&#125;</code></pre><p>At most, this was a Nit-level comment. I wasn’t particularly concerned, and it was easy to deal with.</p><p>The real issue was that I heard something along the lines of “for your own good” — essentially, “for your own good, you need to understand the difference between RW locks, mutexes, and sync.Map, and then choose the best implementation for the event bus scenario and be able to explain it logically to others.”</p><p>From a technical growth perspective, I personally don’t mind this kind of issue. But this kind of thing feels like textbook answers often used in job interviews. As interviews have evolved in recent years, more and more people have grown tired of such rigid, textbook-style questioning.</p><p>Of course, people who obsess over these low-level technical differences likely have a deep passion for technology — and that’s not a bad thing. We should respect all genuine effort and seriousness about technology. But tech has many different dimensions.</p><h4 id="My-Interests"><a href="#My-Interests" class="headerlink" title="My Interests"></a>My Interests</h4><p>Am I someone who has technical passion? Maybe — sometimes. Otherwise, I wouldn’t have quit Fusionist without a backup job, giving up a salary higher than my current one (even including tokens). Whether it’s tech or anything else, all of us want to chase things we find interesting.</p><p>From my past experiences, here are some tech topics I care about and enjoy exploring just out of curiosity:</p><ul><li><p>What’s the fundamental difference between PoW and PoS? Is PoW better than PoS?</p><ul><li>“<a href="/2024/04/14/Why%20PoW%20is%20More%20Decentralized%20than%20PoS/">Why PoW Is More Decentralized than PoS</a>”</li></ul></li><li><p>How does Ethereum’s PoS differ from Cardano’s PoS?</p><ul><li>Why is Cardano’s PoS considered purer? Why is Ethereum’s PoS more decentralized?</li></ul></li><li><p>What are the pros and cons of PBFT? How can PBFT be optimized?</p><ul><li>“<a href="/2025/01/05/All%20BFT%20Consensus%20Blockchains%20Are%20Centralized/">All BFT Consensus Blockchains Are Centralized</a>”</li><li>“<a href="/2024/06/09/Why%20Ethereum%20Casper%20Needs%20EIP-7251/">Why Ethereum Casper Needs EIP-7251</a>”</li><li>“<a href="/2024/06/03/PBFT%20in%20Blockchain%20Doesn't%20Require%20a%20Second%20Vote/">PBFT in Blockchain Doesn’t Need a Second Round of Voting</a>”</li></ul></li><li><p>How do different types of blockchains handle forks?</p><ul><li>“<a href="/2023/07/01/Understanding%20Blockchain%20Consensus%20Mechanisms/">Understanding Blockchain Consensus Mechanisms</a>”</li><li>“<a href="/2024/08/22/How%20PoS%20Blockchains%20Handle%20Forks/">How PoS Blockchains Handle Forks</a>”</li></ul></li><li><p>What are some interesting potential applications of blockchain?</p><ul><li>“<a href="/2023/05/18/Pebbling-Game/">Pebbling Game</a>”</li><li>“<a href="/2023/02/22/A%20Mechanism%20for%20Generating%20Random%20Numbers%20on%20the%20Blockchain/">A Mechanism for Generating Random Numbers on Blockchain</a>”</li><li>“<a href="/2022/12/27/%22Designing%20a%20'Guess%202_3%20of%20the%20Average'%20dApp%20Game%22/">2&#x2F;3 Average Guessing dApp Game Design</a>”</li></ul></li></ul><p>Are these topics useful? Not really. No interviewer ever asked about them, and they’re rarely useful at work. I just explore them for fun. The answers to these questions aren’t readily available online, not even ChatGPT can give precise answers. Only after studying, reading papers, and combining with personal experience can one form a technical opinion — whether right or wrong.</p><p>So maybe out of mental inertia, I rarely care about overly basic programming questions. Everyone’s different — you can’t force someone to care about something just because of an FYI.</p><h4 id="FYI-Be-a-Good-Writer"><a href="#FYI-Be-a-Good-Writer" class="headerlink" title="FYI: Be a Good Writer"></a>FYI: Be a Good Writer</h4><p>(Yes, I just said don’t use FYI, and here I go again.)</p><p>There’s a memorable chapter in the book “<a href="https://www.joecotellese.com/posts/rework-book-summary/">Rework</a>” titled “Hire great writers.” The point was not about publishing articles or writing reports at work — but that good writers often have a clear and logical way of expressing problems, which is very helpful at work.</p><p>Back to tech — today, writing technical articles is quite common. If someone has a strong understanding of lock usage, they could write a solid piece explaining different types of locks and the best use cases. Share it on various platforms, gain thousands of followers, and if the insights keep coming, maybe even publish a book or open source it as a free e-book… FYI… don’t take it too seriously.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Previously, I recommended two blog posts by Yin Wang:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;“&lt;a</summary>
        
      
    
    
    
    
    <category term="Programmer" scheme="https://en.smallyu.net/tags/Programmer/"/>
    
  </entry>
  
  <entry>
    <title>Suppose We Launch an Ethereum PoS Network Called Oiia Network</title>
    <link href="https://en.smallyu.net/2025/01/28/Suppose%20We%20Launch%20an%20Ethereum%20PoS%20Network%20Called%20Oiia%20Network/"/>
    <id>https://en.smallyu.net/2025/01/28/Suppose%20We%20Launch%20an%20Ethereum%20PoS%20Network%20Called%20Oiia%20Network/</id>
    <published>2025-01-28T15:26:40.000Z</published>
    <updated>2025-08-06T10:38:28.701Z</updated>
    
    <content type="html"><![CDATA[<p>OIIA OIIA (Spinning Cat) is a recently popular meme featuring a spinning cat. Compared to DOGE on PoW chains, OIIA aims to be the cat-themed memecoin on a PoS chain.</p><p>Unlike memecoins issued by platforms like pump.fun or tokens like $Trump, OIIA tokens will be entirely generated through PoS mining. There is no pre-allocation (as verified by the genesis file), meaning tokens not mined cannot be purchased with money.</p><h3 id="Network-Motivation"><a href="#Network-Motivation" class="headerlink" title="Network Motivation"></a>Network Motivation</h3><ol><li><a href="/2025/01/10/The%20Best%20Way%20to%20Issue%20a%20Cryptocurrency/">The Best Way to Issue Cryptocurrency</a></li><li>Oiia will provide tools that make it easier to set up Ethereum PoS networks, further lowering the barrier to entry.</li></ol><h4 id="Why-Users-Should-Participate"><a href="#Why-Users-Should-Participate" class="headerlink" title="Why Users Should Participate"></a>Why Users Should Participate</h4><p>If participants lack relevant experience, they can benefit as learners by:</p><ol><li>Learning how to set up a complete Ethereum PoS network.</li><li>Understanding how to launch and maintain an Ethereum Validator node, including staking and unstaking processes.</li><li>Becoming proficient in using Ethereum ecosystem tools for nodes.</li><li>Identifying and solving usability issues in Ethereum ecosystem tools, contributing to the broader Ethereum ecosystem.</li></ol><h4 id="Why-Not-Use-Ethereum-Testnets"><a href="#Why-Not-Use-Ethereum-Testnets" class="headerlink" title="Why Not Use Ethereum Testnets"></a>Why Not Use Ethereum Testnets</h4><p>As Ethereum network learners, why choose Oiia Network over testnets like Sepolia?</p><p>The reason lies in Oiia Network’s identity as a memecoin.</p><h3 id="Network-Specifications"><a href="#Network-Specifications" class="headerlink" title="Network Specifications"></a>Network Specifications</h3><h4 id="Technical-Foundation"><a href="#Technical-Foundation" class="headerlink" title="Technical Foundation"></a>Technical Foundation</h4><p>Oiia Network uses Ethereum clients Geth + Lighthouse as initial nodes. Only the startup configuration and genesis file are modified—no code changes are made.</p><h4 id="Chain-ID-and-Network-ID"><a href="#Chain-ID-and-Network-ID" class="headerlink" title="Chain ID and Network ID"></a>Chain ID and Network ID</h4><p>Decimal:</p><pre><code>20220915</code></pre><p>Hexadecimal:</p><pre><code>0x1348BF3</code></pre><h4 id="Initial-Validators"><a href="#Initial-Validators" class="headerlink" title="Initial Validators"></a>Initial Validators</h4><p>The initial validator count is 128, the minimum scale for network launch. This number will be directly written into the <code>genesis.ssz</code> file.</p><h4 id="Initial-Faucet"><a href="#Initial-Faucet" class="headerlink" title="Initial Faucet"></a>Initial Faucet</h4><p>Since initial participation is expected to be limited, a reserve of 128 × 32 &#x3D; 4096 OIIA will be allocated as the faucet balance and placed in the faucet address.</p><p>The faucet will distribute tokens via PoW Faucet (web-based mining). </p><p>The faucet aims to provide small amounts of tokens for testing the network and incentivizing early Validators to join (although acquiring 32 OIIA from the faucet alone will be challenging). If 128 solo stakers participate, it would be a significant success, and the 4096 OIIA reserve should suffice.</p><h4 id="Initial-Token-Supply"><a href="#Initial-Token-Supply" class="headerlink" title="Initial Token Supply"></a>Initial Token Supply</h4><p>To avoid issues like Ethereum Foundation’s token sales, OIIA will not pre-allocate any tokens to developers or DAOs. Pre-allocation often raises suspicion across networks.</p><p>Ethereum’s PoS consensus has no upper limit on token supply. Thus, the initial supply is limited to 4096 OIIA. All post-launch circulation will come from mining rewards, similar to Bitcoin.</p><p>In summary, based on the genesis file of Oiia Network, apart from the 4096 OIIA reserved for the airdrop (not reflected in the genesis file for the 128 Validator nodes, valued at 4096 OIIA), no additional tokens will be pre-allocated to any address.</p><h4 id="How-to-Become-a-Validator"><a href="#How-to-Become-a-Validator" class="headerlink" title="How to Become a Validator"></a>How to Become a Validator</h4><p>Since the initial token supply is very limited and the faucet cannot provide enough OIIA, users can apply to become a Validator through the community. The community will transfer 32 OIIA directly from the faucet address to the applicant’s address.</p><h4 id="Network-Launch-Progress"><a href="#Network-Launch-Progress" class="headerlink" title="Network Launch Progress"></a>Network Launch Progress</h4><p>As there are no commercial objectives, the network launch will proceed at a relaxed pace.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;OIIA OIIA (Spinning Cat) is a recently popular meme featuring a spinning cat. Compared to DOGE on PoW chains, OIIA aims to be the</summary>
        
      
    
    
    
    
    <category term="OIIA" scheme="https://en.smallyu.net/tags/OIIA/"/>
    
  </entry>
  
  <entry>
    <title>The Best Way to Issue a Cryptocurrency</title>
    <link href="https://en.smallyu.net/2025/01/10/The%20Best%20Way%20to%20Issue%20a%20Cryptocurrency/"/>
    <id>https://en.smallyu.net/2025/01/10/The%20Best%20Way%20to%20Issue%20a%20Cryptocurrency/</id>
    <published>2025-01-09T16:39:12.000Z</published>
    <updated>2025-08-06T10:38:28.702Z</updated>
    
    <content type="html"><![CDATA[<p>A few days ago, a well-known figure from a non-Internet-related industry issued a memecoin on pump.fun. Over the past two days, there has been public discussion about migrating the memecoin to a dedicated blockchain, such as launching a new chain while preserving original addresses and balances.</p><p>The motivation behind this memecoin is simple: the issuer needs to raise funds to support their activities. However, due to the nature of these activities, many wallets have blacklisted the memecoin.</p><p>Of course, we won’t discuss the motivations behind issuing a cryptocurrency here. Instead, we’ll focus on the technical methods of issuing a cryptocurrency and compare them.</p><h3 id="The-Best-Method"><a href="#The-Best-Method" class="headerlink" title="The Best Method"></a>The Best Method</h3><p>To start with the conclusion: the most reliable technical solution for issuing a cryptocurrency is to use an Ethereum client to run a blockchain with a different Chain ID from Ethereum.</p><h3 id="Why-Not-Pump-fun"><a href="#Why-Not-Pump-fun" class="headerlink" title="Why Not Pump.fun"></a>Why Not Pump.fun</h3><p>Pump.fun is an excellent platform that allows for one-click token issuance while ensuring contract security, no rug pulls, no presales, and no security vulnerabilities. This makes it much more convenient and secure than writing a smart contract from scratch.</p><p>Pump.fun’s greatest strength is that tokens can be traded immediately using a bonding curve mechanism to define prices. This allows a token to be tradable even with very few traders, which is something other issuance methods cannot achieve.</p><p>However, pump.fun has its drawbacks. Firstly, it operates in the SOL ecosystem. It’s unclear why pump.fun chose Solana over Ethereum initially. Before purchasing a newly issued token, buyers need to understand and own SOL. While SOL is widely recognized, why should buyers have to learn about it first?</p><p>Secondly, if a token’s market cap is below $100K, it is tied to the pump.fun platform. Without visiting the pump.fun website, there is no way to trade it. If the site or domain disappears, the token loses its trading entry, which is detrimental to long-term development. Tokens with a market cap above $100K can enter Raydium, but how many buyers understand Raydium? This creates reliance on a DEX platform.</p><p>Thus, while pump.fun offers convenience, users must bear the risks of the platform and the Solana blockchain. Will Solana exist long-term? How long is “long”?</p><p>Pump.fun accurately positions itself as a memecoin issuance platform.</p><h3 id="Why-Not-PoW"><a href="#Why-Not-PoW" class="headerlink" title="Why Not PoW"></a>Why Not PoW</h3><p>PoW is the most decentralized form of blockchain technology, but the cost of launching a PoW chain is too high. There are no ready-made technical frameworks to reuse, requiring hardcore technical expertise. Additionally, maintenance costs are high—if no one mines, the issuer has to mine themselves, and the hash rate cannot be too low.</p><h3 id="Why-Not-Cosmos"><a href="#Why-Not-Cosmos" class="headerlink" title="Why Not Cosmos"></a>Why Not Cosmos</h3><p>Cosmos-based projects often carry negative connotations such as BFT (Byzantine Fault Tolerance) and consortium chains, making it an unattractive choice.</p><p>ATOM, Cosmos’s native token, is only ranked around #50 in market cap. The ecosystem has its niche use cases, but if there’s no compelling reason to use Cosmos, it’s best to avoid it.</p><p>Additionally, Cosmos’s ecosystem is underdeveloped—there is still no wallet like MetaMask that can connect to any RPC. Using Cosmos would bring many challenges.</p><h3 id="Why-Not-Polkadot-x2F-Avalanche"><a href="#Why-Not-Polkadot-x2F-Avalanche" class="headerlink" title="Why Not Polkadot &#x2F; Avalanche"></a>Why Not Polkadot &#x2F; Avalanche</h3><p>Even blockchain professionals struggle to fully understand and use Polkadot and Avalanche. The issue isn’t that they are incomprehensible, but rather that they have a high learning curve.</p><p>For example, Polkadot’s Existential Deposit mechanism is perplexing—why does it even exist? There are many other unknown pitfalls, making it a risky choice.</p><h3 id="Why-Not-Ethereum-Layer-2"><a href="#Why-Not-Ethereum-Layer-2" class="headerlink" title="Why Not Ethereum Layer 2"></a>Why Not Ethereum Layer 2</h3><p>Ethereum Layer 2 (L2) solutions were not designed for token issuance but rather for projects to earn protocol fees. L2s extend Ethereum, but their native tokens are still ETH.</p><p>While L2 technology is open-source and functional, it requires centralized operation and continuous fault proof submissions to Layer 1. Moreover, transaction fees must be paid in real ETH, which can be expensive. If there aren’t enough users, transaction fees alone could be a financial burden.</p><h3 id="Why-Not-Issuing-an-ERC-20-Token-on-Ethereum"><a href="#Why-Not-Issuing-an-ERC-20-Token-on-Ethereum" class="headerlink" title="Why Not Issuing an ERC-20 Token on Ethereum"></a>Why Not Issuing an ERC-20 Token on Ethereum</h3><p>Most people cannot write smart contracts safely. Security vulnerabilities are a major risk—even if the issuer believes the contract is secure, buyers may struggle to verify its safety. Identifying secure contracts is difficult, making this method unadvisable.</p><p>What about issuing an ERC-20 token on Layer 2? The problem is choosing which L2 network to use. While L2 fees are lower, data between different L2s is not interoperable. In a way, L2 solutions fragment Ethereum rather than strengthen it.</p><h3 id="Why-Ethereum"><a href="#Why-Ethereum" class="headerlink" title="Why Ethereum"></a>Why Ethereum</h3><p>There are undeniable facts:</p><ol><li>Ethereum’s EVM is the most widely recognized and used smart contract standard in the blockchain industry.</li><li>Ethereum’s PoS is the most decentralized consensus mechanism aside from PoW.</li><li>Ethereum’s dominance is unshakable – ETH killers may surpass Ethereum in some metrics, but the EVM standard will remain.</li><li>Ethereum’s community and ecosystem are more active, with better infrastructure than other blockchains.</li><li>New blockchain projects aim to be EVM-compatible rather than replacing EVM.</li></ol><p>Given these facts, the best way to launch a blockchain network is to use an Ethereum client, modify the configuration files and startup parameters, and launch a Layer 1 network.</p><p>From a network operations perspective, even if the Ethereum client is never upgraded again, the network can still run stably for a long time.</p><p>Regarding transaction fees—if the token price is low, fees will be cheap. Thus, fees are unlikely to become an insurmountable issue.</p><h3 id="How-to-Solve-Initial-Trading-and-Airdrop-Issues"><a href="#How-to-Solve-Initial-Trading-and-Airdrop-Issues" class="headerlink" title="How to Solve Initial Trading and Airdrop Issues"></a>How to Solve Initial Trading and Airdrop Issues</h3><p>Apart from pump.fun and PoW chains, all other token issuance methods face the problem of initial liquidity—the token won’t be immediately listed on CEX or DEX platforms. How can buyers purchase it? What can they use to buy it?</p><p>The only viable solution is ICO-style presales, where the network officially launches at the Token Generation Event (TGE). Although this process often involves controversies and disputes, using Ethereum nodes ensures that the Genesis file clearly defines every address, making the network credible and widely accepted.</p><p>Once the network genesis is established without issues, the rest can be managed through the network’s own inflation model, allowing it to operate smoothly in the long run.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;A few days ago, a well-known figure from a non-Internet-related industry issued a memecoin on pump.fun. Over the past two days, there</summary>
        
      
    
    
    
    
    <category term="Blockchain" scheme="https://en.smallyu.net/tags/Blockchain/"/>
    
  </entry>
  
  <entry>
    <title>All BFT Consensus Blockchains Are Centralized</title>
    <link href="https://en.smallyu.net/2025/01/05/All%20BFT%20Consensus%20Blockchains%20Are%20Centralized/"/>
    <id>https://en.smallyu.net/2025/01/05/All%20BFT%20Consensus%20Blockchains%20Are%20Centralized/</id>
    <published>2025-01-05T03:57:59.000Z</published>
    <updated>2025-08-06T10:38:27.633Z</updated>
    
    <content type="html"><![CDATA[<p>First, let’s rank consensus mechanisms in terms of decentralization. This ranking is almost indisputable:</p><p>PoW &gt; PoS &gt; DPoS &gt; BFT</p><p>Now, let’s compare PoS and BFT from the perspective of handling forks.</p><p>Due to the nature of the BFT algorithm, all chains using BFT consensus do not have forks, whether soft or hard forks. A chain without forks means that there is only one version of the network at any given time, and this version is determined by the project issuer. Even if the issuer is not an official entity, this version can only come from a centralized organization. Therefore, blockchains using BFT consensus are centralized.</p><p>What happens if the network issuer makes an unacceptable change?</p><p>Under PoS consensus, validators can choose either the old rules or the new rules. Both versions can coexist until most validators reach a consensus and the network regains consistency. If validators never reach consensus, the network will keep forking indefinitely.</p><p>Under BFT consensus, validators can also choose between the old and new rules, but if one side reaches half of the validators, the network will stop. The network will only restart once validators reach an offline agreement.</p><p>In other words, when a fork should theoretically occur, BFT networks simply halt. This is why networks like Solana and SUI have experienced outages.</p><p>At this point, you can understand that the centralization in BFT networks means that there cannot be two simultaneous networks. While other consensus mechanisms also rarely result in such situations, they at least allow for the possibility.</p><p>To clarify further, the centralization of BFT networks means that if a certain proportion of validators want to stop the network, they can. The only way to restore the network is to start a new one (which is essentially a form of hard fork).</p><p>What are the implications of this? In the Ethereum network, even if the majority of nodes go offline, as long as a few remain, the network can continue to operate. However, BFT networks have a fault tolerance of less than half—if half of the validators go offline, the network completely shuts down, making it impossible to transfer any on-chain assets.</p><p>From an investment perspective, if you plan to hold a cryptocurrency long-term, which type of network do you think is safer and better protects your assets?</p><p>However, it is important to note that network reliability does not necessarily come from decentralization. Coinbase’s Base network, for example, derives its reliability from U.S. government regulation and partial compliance. Many exchanges and government institutions store funds in Coinbase Prime’s custodial service, making the Base network relatively reliable as well.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;First, let’s rank consensus mechanisms in terms of decentralization. This ranking is almost indisputable:&lt;/p&gt;
&lt;p&gt;PoW &amp;gt; PoS &amp;gt; DPoS</summary>
        
      
    
    
    
    
    <category term="BFT" scheme="https://en.smallyu.net/tags/BFT/"/>
    
  </entry>
  
  <entry>
    <title>Predictions for the Blockchain Industry in 2025</title>
    <link href="https://en.smallyu.net/2024/12/16/Predictions%20for%20the%20Blockchain%20Industry%20in%202025/"/>
    <id>https://en.smallyu.net/2024/12/16/Predictions%20for%20the%20Blockchain%20Industry%20in%202025/</id>
    <published>2024-12-16T15:04:43.000Z</published>
    <updated>2025-08-06T10:38:27.727Z</updated>
    
    <content type="html"><![CDATA[<p>Events in 2024:</p><ol><li><p>Bitcoin halving, Bitcoin spot ETF approval, Bitcoin reaching new highs.</p></li><li><p>Trump endorsing BTC, Musk endorsing DOGE.</p></li><li><p>Bitcoin narratives cooled down, inscriptions and runes were ignored, Layer 2 technologies failed to gain traction (Lightning Network, Taproot, RGB, RGB++), and no reliable Layer 2 projects emerged (Nervos, Merlin, Nubit, Fractal Bitcoin).</p></li><li><p>Ethereum’s Cancun upgrade introduced Blob, significantly reducing Layer 2 costs. However, depositing from Layer 2 to exchanges still requires a 25-minute waiting period, which creates a poor user experience. Since reorganization is possible, transactions remain unsafe.</p></li><li><p>NFT markets disappeared, with Coinbase and Binance shutting down NFT trading platforms.</p></li><li><p>DEXX exchange was hacked, resulting in tens of millions of funds stolen from thousands of users. Both the exchange and users were of Chinese background, with many being beginners.</p></li></ol><hr><p>Predictions for 2025:</p><ol><li><p>Bitcoin price will hit a new high of $140,000.</p></li><li><p>Bitcoin does not need OP_CAT.</p></li><li><p>Ethereum’s dominance will remain unshakable; all ETH Killers will lack potential, including Solana, Ton, Tron, Polkadot, Cardano, Avalanche, Cosmos, and SUI.</p></li><li><p>The existing public chain landscape will remain unchanged, and no new high-market-cap Layer 1 blockchain will emerge.</p></li><li><p>New blockchains with integrated technology will appear, incorporating low-cost features as native functionalities, such as oracles, random numbers, on-chain governance, Subnet, WebAssembly, DID, etc. To boost their appeal, they will also ride the ZK and AI hype, only to discover that ZK has no real effect and has no actual connection to AI.</p></li><li><p>Cross-chain functionality will remain a rigid demand, but no decentralized solution will succeed in practice, now or in the future.</p></li><li><p>New blockchains will inevitably be EVM-compatible, and new projects will prioritize EVM support.</p></li><li><p>Ecosystem-oriented projects will continue to emerge, following the technical frameworks of specific blockchains to pursue their own goals. Ethereum, Polkadot, Cosmos, Internet Computer, and Avalanche all provide such ecosystem environments.</p></li></ol><hr><p>As an ordinary person wanting to participate in blockchain, there are only 3 things you can do:</p><ol><li><p>Dollar-cost average into Bitcoin.</p></li><li><p>Dollar-cost average into Bitcoin.</p></li><li><p>Dollar-cost average into Bitcoin.</p></li></ol>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Events in 2024:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Bitcoin halving, Bitcoin spot ETF approval, Bitcoin reaching new highs.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Trump endorsing</summary>
        
      
    
    
    
    
    <category term="Blockchain" scheme="https://en.smallyu.net/tags/Blockchain/"/>
    
  </entry>
  
  <entry>
    <title>The Economic Challenges of Restaking Projects</title>
    <link href="https://en.smallyu.net/2024/11/18/The%20Economic%20Challenges%20of%20Restaking%20Projects/"/>
    <id>https://en.smallyu.net/2024/11/18/The%20Economic%20Challenges%20of%20Restaking%20Projects/</id>
    <published>2024-11-18T15:13:15.000Z</published>
    <updated>2025-08-06T10:38:28.712Z</updated>
    
    <content type="html"><![CDATA[<p>Restaking is a relatively early-stage field, with one of the more notable projects being Eigen Layer. It gained considerable attention for a time because Eigen Layer hired researchers from the Ethereum Foundation with high salaries. Public opinion speculated that these incentives led Ethereum Foundation members to promote a shift toward centralization in Ethereum’s development.</p><p>Eigen Layer has made significant waves. Undeniably, Restaking’s business model is feasible, as Eigen Layer has already set the path. Its operational model does not invite much skepticism.</p><p>However, returning to the definition of Restaking, certain questions remain worth pondering. For example, why Restaking instead of Staking?</p><p>The core issue of Restaking projects is not technological but economic. In other words, Restaking projects lack technological barriers but are constrained by business model barriers. The key lies in whether they can operate effectively within business collaborations.</p><h3 id="Why-Restaking"><a href="#Why-Restaking" class="headerlink" title="Why Restaking?"></a>Why Restaking?</h3><p>The reason is simple: limited returns. As a staking user, I can stake ETH to obtain stETH and earn a stable 3% staking yield. On top of that, I can stake stETH on Eigen Layer, earning additional rewards if available. Even if there are no extra rewards, I still have a guaranteed 3% yield.</p><p>But what about Staking? This poses a dilemma. Holding ETH, should I pursue the stable 3% yield from stETH or opt for the unreliable returns from Eigen Layer projects?</p><p>This brings us to a critical question: where does Eigen Layer’s revenue come from?</p><p>Staking rewards on PoS chains are native and highly stable. What about Eigen Layer? Its rewards must come from users utilizing AVS (Active Verification Services). So, what services does AVS provide?</p><h3 id="The-Theory-Behind-Restaking"><a href="#The-Theory-Behind-Restaking" class="headerlink" title="The Theory Behind Restaking"></a>The Theory Behind Restaking</h3><p>Here’s a theoretical framework:</p><p>For PoS chains, users stake tokens to give validators staking weight, enabling validators to validate block data.<br>In Restaking projects, users stake tokens to give operators staking weight, enabling operators to validate arbitrary computational tasks.</p><p>Doesn’t this sound appealing? PoS chains are merely a subset of Restaking projects, which implies significant potential for Restaking.</p><p>This theory holds some merit. However, on closer scrutiny, the comparison should be with DPoS (Delegated Proof of Stake) consensus rather than PoS. In terms of decentralization, DPoS is less decentralized than PoS.</p><h3 id="Comparing-Restaking-with-DPoS"><a href="#Comparing-Restaking-with-DPoS" class="headerlink" title="Comparing Restaking with DPoS"></a>Comparing Restaking with DPoS</h3><p>Would Restaking projects have a significant advantage over DPoS? Let’s consider another question: why has DPoS primarily been used for block data validation rather than for verifying other types of data?</p><p>The answer is straightforward: there’s no data more important than user assets. For example, is the accuracy of tomorrow’s weather forecast more critical than the balance of a bank account? Historically, DPoS has served only one scenario: validating block transaction data. Finding a use case more critical than asset data is exceedingly difficult.</p><p>With this in mind, let’s return to the issue of Restaking yields. If DPoS offers a 3% staking yield, how much could Restaking provide? Theoretically, less than 3%, because the data validated by Restaking is unlikely to surpass the importance of asset data.</p><p>This is why Restaking projects must adopt Restaking rather than direct Staking—they cannot compete with Staking yields. By building on Staking, Restaking transforms into something different.</p><h3 id="Revenue-Sources-for-Restaking"><a href="#Revenue-Sources-for-Restaking" class="headerlink" title="Revenue Sources for Restaking"></a>Revenue Sources for Restaking</h3><p>In essence, the staking yields of both DPoS and Restaking originate from users of the service.</p><p>In DPoS, one group of users stakes tokens to become validators, while another group relies on these validators for asset security. Users thus allow the DPoS chain to mint 3% additional tokens as block rewards. While this increases the total supply, effectively taxing all participants, it sustains the system.</p><p>In Restaking, one group of users stakes tokens to become operators, while another group relies on these operators for data validation. The basic logic resembles that of DPoS. Here, the “other group” refers to users of AVS services, who ultimately fund the returns in Restaking.</p><p>Restaking’s yields cannot materialize out of thin air—they come directly from users. The payment mechanism can be straightforward: users pay directly for services. For instance, invoking an AVS service might cost $0.10 per transaction. Such direct billing eliminates the need for adjustments in token supply.</p><h3 id="Economic-Feasibility"><a href="#Economic-Feasibility" class="headerlink" title="Economic Feasibility"></a>Economic Feasibility</h3><p>How much user payment is sufficient? Suppose there is a staking pool of 1 million stETH. To provide a 1% annual return to stakers, assume 10,000 users call AVS services once daily. </p><p>At this point, another question arises: which user would willingly pay for such a service? On Ethereum L1, even a $1 transaction fee is considered exorbitant. Many people hesitate to pay $9 for an iQiyi subscription, and countless developers refuse to buy legitimate licenses for tools like IDEA despite using them daily.</p><p>Of course, as long as the bubble doesn’t burst, everyone’s wealth seems to grow. In a bull market, no one appears to be losing money. As long as one can exit before the bubble bursts, everything will appear rosy.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Restaking is a relatively early-stage field, with one of the more notable projects being Eigen Layer. It gained considerable attention</summary>
        
      
    
    
    
    
    <category term="Restaking" scheme="https://en.smallyu.net/tags/Restaking/"/>
    
  </entry>
  
  <entry>
    <title>Understanding the Technical Architecture of Any Blockchain Project</title>
    <link href="https://en.smallyu.net/2024/10/15/Understanding%20the%20Technical%20Architecture%20of%20Any%20Blockchain%20Project/"/>
    <id>https://en.smallyu.net/2024/10/15/Understanding%20the%20Technical%20Architecture%20of%20Any%20Blockchain%20Project/</id>
    <published>2024-10-15T15:43:36.000Z</published>
    <updated>2025-08-06T10:38:28.714Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Basic-Structure"><a href="#Basic-Structure" class="headerlink" title="Basic Structure"></a>Basic Structure</h3><p>The most basic blockchain is just a blockchain itself, with the capability of consensus-based block production. It may have many nodes or only one node, and each node provides an RPC interface for receiving transactions:</p><img src="1.png" width="60%"><p>With the advent of Ethereum, blockchain transactions are not only transactions but also have the ability to execute smart contracts:</p><img src="2.png" width="60%"><p>There will always be an external program to interact with smart contracts, which initiates transactions:</p><img src="3.png" width="60%"><p>From this point, it’s important to clarify two types of actions:</p><ol><li>Any interaction with the blockchain, whether submitting or querying transactions, is considered on-chain interaction.</li><li>Any action without interaction with the blockchain is considered off-chain behavior.</li></ol><p>Initiating interaction with a smart contract is always considered on-chain interaction. Similarly, no matter what language the external program initiating the transaction is written in, whether it’s Javascript or Golang, it’s called the smart contract SDK:</p><img src="4.png" width="60%"><p>In addition to Ethereum’s EVM contracts, there may also be contracts from other virtual machines (SVM, WASM), or Cosmos’s direct operation of the state database (Native contracts). These can be uniformly understood as on-chain smart contracts:</p><img src="5.png" width="60%"><p>Any on-chain contract requires an off-chain program to initiate transactions to achieve certain functions.</p><p>When the smart contract has specific logic, it may trigger some events, and these events are often listened to and processed by off-chain nodes:</p><img src="6.png" width="60%"><p>These off-chain nodes can be named anything, written in any language, as long as they capture events from the contract. Generally, there are two ways to listen to events:</p><ol><li>Actively poll by continuously requesting the node’s interface to check for new events.</li><li>Passively accept events, for example, through a long connection established via WebSocket.</li></ol><p>Once a certain event is triggered in the contract, the off-chain node listens to the event and then enters different code branches based on the event. After that, more complex operations can be carried out.</p><p>There may be multiple off-chain nodes or multiple roles, but this is not important. What matters is that they all interact with the events on the blockchain:</p><img src="7.png" width="60%"><p>Generally, off-chain nodes do not communicate with each other on their own. Instead, they follow the blockchain’s block content because off-chain nodes also need to maintain state consistency. In blockchain scenarios, the chain itself already provides a good mechanism for maintaining state consistency:</p><img src="8.png" width="60%"><p>So at this point, you realize that for a blockchain project, there are only two types of interactions between off-chain nodes and on-chain nodes:</p><ol><li>Sending data to the blockchain through transactions.</li><li>Querying events from the blockchain by listening to events.</li></ol><p>Cosmos has a project that supports EVM contracts and also provides the <code>evm_hook</code> interface. When an EVM contract triggers an event, it will actively call an interface function. This hook function is essentially passive event listening for contract events, but instead of triggering an RPC request, it calls a function directly. The only additional complexity is that the EVM contract triggers the function of a Cosmos module, linking the implementation methods of the two contracts together:</p><img src="9.png" width="60%"><p>No matter how complex the architecture becomes, the interaction between off-chain nodes and on-chain nodes still involves only two actions.</p><p>If things get more complex, what direction will they take? Off-chain nodes will start submitting transactions to the blockchain:</p><img src="10.png" width="60%"><p>Perhaps after listening to an event, a transaction is submitted, and that transaction triggers another event, leading to further actions. But overall, the interaction between off-chain nodes and on-chain nodes still only involves two actions.</p><h3 id="Filling-in-Business-Logic"><a href="#Filling-in-Business-Logic" class="headerlink" title="Filling in Business Logic"></a>Filling in Business Logic</h3><p>With the basic technical methods in place, it’s easier to understand how to layer business logic on top of them.</p><p>When faced with complex business logic, you can always distinguish which parts involve on-chain interactions and which parts are off-chain behavior. The core difference lies in where the data state is stored — either on the blockchain or in off-chain nodes:</p><ol><li>If the data is sent to the chain through transactions, the complexity of the business depends on the logic of the contract.</li><li>If the action is taken by off-chain nodes after listening to an event, the complexity depends on the off-chain code.</li></ol><p>If the complexity exceeds the two scenarios described above, it means off-chain nodes are communicating independently of the blockchain, resulting in inconsistent states. Such off-chain nodes can be considered to have operated outside of the blockchain project.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h3 id=&quot;Basic-Structure&quot;&gt;&lt;a href=&quot;#Basic-Structure&quot; class=&quot;headerlink&quot; title=&quot;Basic Structure&quot;&gt;&lt;/a&gt;Basic Structure&lt;/h3&gt;&lt;p&gt;The most basic</summary>
        
      
    
    
    
    
    <category term="Blockchain" scheme="https://en.smallyu.net/tags/Blockchain/"/>
    
  </entry>
  
  <entry>
    <title>Reflections and Plans on Work</title>
    <link href="https://en.smallyu.net/2024/10/04/Reflections%20and%20Plans%20on%20Work/"/>
    <id>https://en.smallyu.net/2024/10/04/Reflections%20and%20Plans%20on%20Work/</id>
    <published>2024-10-04T07:55:48.000Z</published>
    <updated>2025-08-06T10:38:28.693Z</updated>
    
    <content type="html"><![CDATA[<p>I previously rambled about the reasons for resigning, but after a couple of days of reflection and thinking, I believe I can now describe the reasons for resigning and my career plans more concisely. In other words, I’ve figured out why I quit and what I really want.</p><p>My previous job left me anxious about my technical skills. I constantly had to worry whether my technical abilities were regressing, whether my skill growth could keep up with my age, and whether I could find another job if I left that company.</p><p>That job could make money, but it couldn’t provide peace of mind. So, moving forward, I want a job that can provide peace of mind.</p><p>I’m less concerned about having a job right now and more worried about whether I can find a job in the future. How much I earn now is temporary; I hope I can go further on the technical path and accumulate more steadily in the field of technology.</p><p>The ideal types of jobs I want to find, in order of priority, are:</p><ol><li>Blockchain development, specifically the development of the chain itself, any chain will do.</li><li>Pure web3 projects, like SocialFi, GameFi, and the like.</li><li>Blockchain-related backend development, if I am qualified for it.</li></ol><p>The difficulty of finding these types of jobs also increases in the same order. Blockchain development positions are the fewest and have the highest requirements, while there are more blockchain-related backend development jobs, especially in various exchanges.</p><p>Based on my job search and interview experiences over the past two years, most interviewers come from a traditional backend development background, as can be seen from the questions they ask. It’s rare to find interviewers who can ask blockchain-related technical questions. Why is that?</p><p>I blindly speculate that those working in blockchain development haven’t become interviewers yet, or, more likely, the ones sitting in the interviewer’s seat got there due to historical or other reasons. The blockchain industry hasn’t yet developed a full pipeline of talent before the bear market eliminated many people.</p><p>(So far, the most challenging question I’ve encountered was “Why does PBFT need a second round of voting?” I was asked this two or three times last year. Interestingly, the interviewers who asked this question gave different answers. I later realized this is a complex and controversial issue that isn’t as superficial as it seems. I even wrote an article titled “<a href="/2024/06/03/PBFT%20in%20Blockchain%20Doesn't%20Require%20a%20Second%20Vote/">PBFT in Blockchain Does Not Need a Second Round of Voting</a>“ to describe my understanding of the issue.)</p><p>I am uncertain about my career direction—actually, everyone should feel uncertain. Blockchain has only existed for about ten years, and it’s been just five or six years since the 2017 explosion of altcoins, which is not long enough for an industry to develop a complete career system.</p><p>What should I learn technically? In what direction should I go deeper? There are no definite answers, no precedents, and no one can predict the upcoming trends.</p><p>Especially in web3 companies, where changes happen quickly, innovations occur fast, and companies shift rapidly. New narratives arise during bull markets, but many companies can’t survive the bear market. Instability is the natural state of web3 companies.</p><p>In such a situation, for employees without strong backgrounds, the only thing they can rely on is their technical skills, so continuous improvement of technical abilities is essential. As for which direction to improve, that’s another question. At least it’s clear that one cannot depend on the company.</p><p>So, what if I can’t find a job?</p><p>If, after several months, I am certain that across Beijing and the entire world, including remote work, there is no job that I am qualified for, I might need to switch to a different mode.</p><p>I will need to reassess and reflect on my technical skills, reacquaint myself with and study the current state of the blockchain industry, and adjust my understanding and expectations according to the market. I’ll learn what’s needed and do what I can do.</p><p>This will be an interesting journey, although it will be full of pain. If I win, I will become stronger. If I lose, we’ll see how badly I lose.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;I previously rambled about the reasons for resigning, but after a couple of days of reflection and thinking, I believe I can now</summary>
        
      
    
    
    
    
    <category term="Work" scheme="https://en.smallyu.net/tags/Work/"/>
    
  </entry>
  
  <entry>
    <title>Why You Shouldn&#39;t Engage in Secondary Development of Ethereum</title>
    <link href="https://en.smallyu.net/2024/09/12/Why%20You%20Shouldn&#39;t%20Engage%20in%20Secondary%20Development%20of%20Ethereum/"/>
    <id>https://en.smallyu.net/2024/09/12/Why%20You%20Shouldn&#39;t%20Engage%20in%20Secondary%20Development%20of%20Ethereum/</id>
    <published>2024-09-12T07:29:05.000Z</published>
    <updated>2025-08-06T10:38:28.725Z</updated>
    
    <content type="html"><![CDATA[<p>The reasoning is simple. Ethereum has a core development team. The Ethereum Foundation, at its center, provides funding to various Ethereum client development teams, who in turn develop for Ethereum. Vitalik came to China to raise funds, and after securing the money, formed a development team in another country. After a year of intensive development, Ethereum was born. Back in the day, the Ethereum Foundation participated in Ethereum’s ICO at less than $1, and now the price of ETH has increased thousands of times. That’s how the Ethereum Foundation got its money.</p><p>The Ethereum ecosystem is mainly composed of three parts: Layer 1, Layer 2, and ecosystem projects. (Staking-related projects don’t require your development. Does Restaking have anything to do with tech?)</p><p>For Layer 1, there are several major client teams: the execution layer includes Geth, Nethermind, Besu, Erigon, and Reth, while the consensus layer includes Prysm, Lighthouse, Teku, Nimbus, and Lodestar. Regardless of the relationship between these teams and Ethereum, if you or your company claims to want to conduct secondary development based on Ethereum clients, then what exactly do you want to develop?</p><p>If it’s an improvement beneficial to the Ethereum network itself, such as improving performance or optimizing data structures, you can directly submit an Issue or PR to Ethereum, or even establish a cooperative relationship, allowing the official Ethereum client version to support your optimizations. Moreover, the founding teams of these clients are still actively developing. Do you think you have a reason to outperform the “insiders” in terms of either client functionality or performance, whether as an individual or as a company?</p><p>For example, take parallel EVM, which aims to speed up EVM transaction execution. This is a challenge even the Geth team has been unable to solve. Can any small team just casually pull it off?</p><p>If it’s a modification that benefits your own chain but not Ethereum, and you expect the Ethereum development team not to accept your proposals and improvements, then the issue becomes even stranger. What makes your chain’s requirements so unique that these “self-owned” developments are necessary? Ethereum is already quite complete. In such a scenario, it seems you need to reevaluate the entire endeavor starting from the initial requirements.</p><p>On the Layer 2 side, the major teams include Polygon, Optimism, Zksync, and others. Why have Ethereum Layer 2 solutions become so popular and successful? Because Layer 2 is the direction endorsed by Vitalik. Why has the ENS project gained widespread adoption? Because ENS is a project approved by Vitalik. Why was there a buzz around AA wallets for a while? Because it was brought up by Vitalik’s soulbound tokens concept. You can see from Vitalik’s blog that all major current ecosystem projects have direct ties to Vitalik himself. The founders of these projects can all talk to Vitalik.</p><p>Vitalik is the big boss behind the entire Ethereum ecosystem. So, if you say you want to create a project within the Ethereum ecosystem, is technical ability your primary concern? What determines if a project will succeed? First, you look at whether Ethereum’s roadmap aligns with this direction. Then, see which project in this direction is leading within the Ethereum ecosystem. And then? You’ll realize that it has nothing to do with you. The Ethereum Foundation didn’t give you money, so why are you getting involved?</p><p>From a developer’s perspective, if you want to participate in Ethereum ecosystem development, what do you need the Ethereum core team for? If you want to improve Op Stack’s Fault Proofs, what do you need Optimism’s core team for? As an outsider, you’re spending time and resources just to carry water for others?</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;The reasoning is simple. Ethereum has a core development team. The Ethereum Foundation, at its center, provides funding to various</summary>
        
      
    
    
    
    
    <category term="Programmer" scheme="https://en.smallyu.net/tags/Programmer/"/>
    
  </entry>
  
  <entry>
    <title>Why You Shouldn&#39;t Pursue Smart Contract or DeFi Development</title>
    <link href="https://en.smallyu.net/2024/09/11/Why%20You%20Shouldn&#39;t%20Pursue%20Smart%20Contract%20or%20DeFi%20Development/"/>
    <id>https://en.smallyu.net/2024/09/11/Why%20You%20Shouldn&#39;t%20Pursue%20Smart%20Contract%20or%20DeFi%20Development/</id>
    <published>2024-09-11T12:51:35.000Z</published>
    <updated>2025-08-06T10:38:28.726Z</updated>
    
    <content type="html"><![CDATA[<p>Currently, when the job market mentions “contract development,” it generally refers to “EVM contract development on Ethereum.” However, in reality, Ethereum is not the only blockchain. There are potentially hundreds of blockchains, and Ethereum is not the only one with smart contracts. Solana has SVM, Polkadot uses Wasm, Cosmos achieves smart contract functionality through its parallel chains, and there are many other implementations.</p><p>So, do you see the issue? If a programmer claims to be a “contract developer,” they are confining themselves to a narrow direction. Solidity is a scripting language created by the Ethereum team, and “contract development” means entrusting your career to this immature scripting language. At the very least, we should be “programmers,” not just “Solidity programmers,” right?</p><p>A programmer can do some contract development work when needed, but a contract developer can only develop contracts. How high is the learning curve for Solidity itself? Generally, you can start writing in about half a week.</p><p>Then there’s DeFi development, as most people doing contract development are learning DeFi development. The problem here is that, whether it’s Centralized Finance or Decentralized Finance, the core is still “finance,” and “decentralized” is just an adjective modifying finance.</p><p>What is “finance”? It’s an entirely different field from being a “programmer.” The world’s elites are engaged in finance on Wall Street, so can a programmer, who has switched careers, truly grasp finance? Aren’t current DeFi projects all related to leverage, staking, and lending? Wasn’t Luna’s collapse caused by excessive leverage? How many capital firms were involved behind Luna? Can the average person fully understand the reasons behind Luna’s collapse? Probably not, and even professional financial analysts might struggle to get clear answers after long analysis.</p><p>In other words, professional finance experts are not necessarily programmers, and programmers are almost never professional finance experts. The financial industry is deep; it’s not something you can grasp just by learning to code and picking up Solidity, and certainly not something a programmer aspiring to DeFi can easily master.</p><p>Furthermore, even if a programmer understands DeFi, what can they do with that knowledge? They can end up working for the big capital players, implementing whatever business logic is assigned to them. Is there room for creativity? Are you going to design your own financial logic? That’s laughable. The ones who have control over vast amounts of capital are never programmers, and programmers never have control over vast amounts of capital.</p><p>What I mean is, if a programmer wants to understand finance deeply and express unique insights into the entire financial industry, it’s… almost impossible. It’s extremely difficult, and anyone capable of doing that won’t be a programmer. However, if you just want to understand a particular technical field and share some opinions, it’s still possible. At least you won’t need to own (or manage assets for others) a vast amount of capital.</p><p>What if a programmer who understands finance starts their own financial company? Are you sure?</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Currently, when the job market mentions “contract development,” it generally refers to “EVM contract development on Ethereum.” However,</summary>
        
      
    
    
    
    
    <category term="Programmer" scheme="https://en.smallyu.net/tags/Programmer/"/>
    
  </entry>
  
  <entry>
    <title>Recent Job Search Record</title>
    <link href="https://en.smallyu.net/2024/09/11/Recent%20Job%20Search%20Record/"/>
    <id>https://en.smallyu.net/2024/09/11/Recent%20Job%20Search%20Record/</id>
    <published>2024-09-11T09:00:00.000Z</published>
    <updated>2025-08-06T10:38:27.729Z</updated>
    
    <content type="html"><![CDATA[<p>The Web3 industry is mostly made up of startups and entrepreneurial teams, so there’s little point in documenting so-called interview experiences. Unlike large internet companies, these startups haven’t yet developed standardized processes for selecting employees. I also hope my target companies can be more pragmatic. If I can pass an interview by cramming for two days, but fail if I don’t, then what’s the point of the interview? Moreover, passing or failing the interview doesn’t really mean anything; it’s not like a standardized exam where scores are compared—it’s just a mismatch of intentions between the two parties. So I don’t plan to document specific interview questions, only the companies I interviewed with and my brief impressions.</p><ul><li><a href="https://lumoz.org/">Lumoz</a></li></ul><p>They work on a Baas platform and claim to have collaborated with Merlin Chain. I declined the second interview after the first.</p><p>On one hand, I dislike Baas platforms—the term itself sounds outdated, and it’s a B2B business, which generally isn’t profitable. The work mainly involves deploying some L2 networks, which is pretty boring and has nothing to do with the Computer Layer mentioned on their website.</p><p>On the other hand, I think Merlin Chain is a scam, so any platform collaborating with such a project can’t be that great either. Merlin Chain used Ethereum’s code to make a BTC L2. Isn’t that absurd? Moreover, it’s run by Chinese people, and the project is filled with “Chinese wisdom.”</p><ul><li><a href="https://rss3.io/">RSS3</a></li></ul><p>RSS3 is an OP L2 network currently aiming to improve the TPS of its execution layer client, with two optimization directions: parallel EVM and database optimization.</p><p>I remember that L2’s TPS used to be limited by the specific size of each transaction on L1. After blobs were introduced, I’m not sure if the TPS bottleneck for L2 is now at the DA level.</p><ul><li><a href="https://web3.bitget.com/en/">Bitget Wallet</a></li></ul><p>Bitget Wallet’s user growth department places a lot of emphasis on Web2 skills, including middleware usage and programming language details.</p><ul><li><a href="https://www.nubit.org/">Nubit</a></li></ul><p>A Bitcoin L2 project. The HR interview included some written tests, mainly basic questions like “How does Bitcoin’s 21M cap come about?” Whoever made this test must really love blockchain and “gets” it. I quite like that vibe.</p><p>During the technical interview, I learned more about the project. It’s not actually a Bitcoin L2 but rather a Bitcoin DA. They built a chain using Cosmos and used Bitcoin’s block height as a data index, marking when DA data is uploaded to the chain.</p><p>If other chains use this chain as a DA layer to upload data, an index is needed to find their own DA data, and Bitcoin’s block height serves as the index. So this project is merely riding the Bitcoin wave and doesn’t really have much to do with Bitcoin.</p><ul><li><a href="https://baike.baidu.com/item/%E4%BA%A6%E6%9D%A5%E4%BA%91/23681499">Elastos</a></li></ul><p>If you can call it an interview. It was very hasty, just a 10-minute phone chat. The task was for a 3-month project related to Bitcoin, setting up a Bitcoin node, and developing some middleware. The project timeline was 1 month for research, 1 month for development, and 1 month for delivery. After the project ends, the team disbands. Unfortunately, I forgot to ask what the specific project entailed.</p><p>I want to mention my feeling about projects with such defined timeframes. There are two scenarios: either the initiator is very capable, with extensive project management and development experience, and the project itself isn’t very technical or challenging, allowing them to control the timeline precisely. The second scenario is that the initiator wants to make quick money but lacks both technical skills and funds, and is ignorant of the project’s difficulty or how to form a long-term team. Given that the project timeline includes research, it’s clear this company falls into the latter category.</p><ul><li><a href="https://group.hashkey.com/en">HashKey Group</a></li></ul><p>This was one of the better interview experiences. The interviewer seemed quite experienced, asking questions as they came to mind, at least keeping the conversation on the same wavelength, rather than coming off as rigid.</p><p>They were hiring for an exchange wallet, so the candidate needed to understand various blockchains, especially the ins and outs of sending and receiving transactions. Concerns about forks, rollbacks, and backend development (like middleware and database issues) were also raised.</p><p>From both <a href="/2023/06/29/%E6%9C%80%E8%BF%91%E6%89%BE%E5%B7%A5%E4%BD%9C%E7%9A%84%E8%AE%B0%E5%BD%95%EF%BC%886%E6%9C%88%E4%BB%BD%EF%BC%89/">last year’s</a> and this year’s interview experiences, I’ve concluded that for exchange wallet departments, the “ideal candidate” is someone who is a “Web2 backend developer with blockchain knowledge.” This means someone with Web2 backend experience who also understands basic blockchain concepts and knows how to handle transactions.</p><p>Web2 backend development typically involves familiarity with middleware and databases, like Kafka and Redis. Interview questions might include designing and implementing a message queue or solving distributed transaction problems in MySQL—classic Web2 development issues.</p><p>Of course, I know almost nothing about Web2, so I always struggle when asked about it in interviews. Later, I just started admitting I didn’t know. If I hadn’t been in the blockchain industry, I might have delved deeper into those technologies. I remember right after graduation, I was even translating and learning some <a href="https://github.com/smallyunet/advanced-java">classic technical topics</a>.</p><p>Another good point about this interview was that the interviewer didn’t ask, “What is Go’s GMP scheduling mechanism?” I’ve been asked this many, many times and still have no interest in looking up the answer. You can search “Golang GMP” on Google or YouTube and see how many of the results are in Chinese. Who’s actually interested in this question?</p><ul><li><a href="https://www.matchain.io/">Matchain</a></li></ul><p>The HR was nice and cute, saying the project is a Cosmos-based chain with a testnet and many users, preparing to launch the mainnet.</p><p>The interviewer was pretty bad, constantly asking about L2 details. I said I didn’t know, yet they kept asking until I was speechless. They didn’t ask about anything else. I later learned they are using an opBNB L2, so it’s a BNB ecosystem project.</p><ul><li><a href="https://www.zhipin.com/gongsi/9f4beb0fb87ed3bf1nJz2t60Fw~~.html">TokenInsight</a></li></ul><p>The interview experience was decent (regardless of the result or if we were a good match). The interviewer asked questions impromptu, similar to the interviewer from HashKey Group, speaking slowly, thinking as they asked.</p><p>This company is working on a custodial wallet. They mainly asked basic blockchain concepts.</p><p>They gave a written test with a “simple” Leetcode question, asking to choose between merging sorted linked lists and reversing a linked list. I haven’t paid much attention to such topics lately or practiced coding problems, so I probably wrote the wrong code during the interview.</p><p>Interestingly, I wrote a detailed analysis of these two problems <a href="https://gub.smallyu.net/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%93%E9%A2%98/Linked%20list/%E7%BF%BB%E8%BD%AC%E9%93%BE%E8%A1%A8.html">years ago</a>.</p><p>That analysis is part of a chapter in “<a href="https://gub.smallyu.net/%E5%B0%81%E9%9D%A2.html">Ground-Up Blockchain</a>,” a book I started writing, the source code for which is here: <a href="https://github.com/smallyunet/ground-up-blockchain">smallyunet&#x2F;ground-up-blockchain</a>. The project has been abandoned for a long time.</p><ul><li><a href="https://www.gate.io/">Gate.io</a> (Spot Trading Department)</li></ul><p>A casual chat. I expected the “Exchange + Golang” role to involve a lot of Go technical details, but they only asked general, high-level questions like “What practical uses does blockchain have in real life?” I suspect the interviewer had already made up their mind to pass on me before the interview even started.</p><ul><li><a href="https://www.gate.io/">Gate.io</a> (Gate Chain Department)</li></ul><p>From the HR’s perspective, the project is a Layer 2 chain that mimics opBNB with some optimizations, and they’re also mimicking TIA in the DA area.</p><p>The technical interview was quite interesting, but I’m too lazy to go into detail :P</p><p>One interesting thing was that before the interview, the HR repeatedly advised me to prepare, review some stuff over the next couple of days. This sudden “kindness” made me a bit suspicious. I wasn’t sure what the motive was—perhaps the HR had a commission incentive?</p><p>I’ve never understood what to prepare for before an interview. Your actual work is always on your mind, and cramming for non-work-related tasks over two days won’t yield results. In short, what you know, you know; what you don’t know, you can’t learn in two or three days. So what exactly is there to prepare for?</p><p>As for employers, they should be looking at a candidate’s work experience over the past few years, not just whether they’ve crammed for two or three days.</p><h3 id="Phase-Summary"><a href="#Phase-Summary" class="headerlink" title="Phase Summary"></a>Phase Summary</h3><p>I haven’t found a job yet, and the job search isn’t over, but since this has been going on for quite some time, I think it’s necessary to wrap up this blog post for now and start a new one later. As for documenting interview experiences, it seems I’ve always recorded every <a href="/tags/%E6%89%BE%E5%B7%A5%E4%BD%9C/">job search</a> since I started working, and I’ll probably continue to do so.</p><p>This phase of the record roughly spans from July 20 to September 15.</p><p>Around July 20, I started thinking about quitting and began my first interview. September 15 is the day I officially resigned. I haven’t been sending out many resumes for the past two weeks because I haven’t fully left my current job and haven’t wanted to start a full-on job search yet.</p><p>How’s the job market this year? Well, it’s definitely not better than last year. It feels like there are even fewer job openings this year. How should one feel about this? Probably a mix of no regrets about the past, slight anxiety about the future’s uncertainty, and a blind sense of optimism about what’s ahead.</p><p>By the way, the entire cryptocurrency industry is valued at around $2 trillion. Can we find a $3000 job to sustain ourselves in this industry? Will the world give us that chance?</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;The Web3 industry is mostly made up of startups and entrepreneurial teams, so there’s little point in documenting so-called interview</summary>
        
      
    
    
    
    
    <category term="Job Hunting" scheme="https://en.smallyu.net/tags/Job-Hunting/"/>
    
  </entry>
  
  <entry>
    <title>What is the Meaning of Writing a Blog?</title>
    <link href="https://en.smallyu.net/2024/08/30/What%20is%20the%20Meaning%20of%20Writing%20a%20Blog/"/>
    <id>https://en.smallyu.net/2024/08/30/What%20is%20the%20Meaning%20of%20Writing%20a%20Blog/</id>
    <published>2024-08-30T05:25:34.000Z</published>
    <updated>2025-08-06T10:38:28.722Z</updated>
    
    <content type="html"><![CDATA[<p>When no one in the world remembers you anymore, that’s when you truly die.</p><p>If there are people in your life who are your audience, let those audiences remember you—they could be family, loved ones, friends, or colleagues.</p><p>But if there are no audiences in your life, you might want to leave some evidence that you once lived.</p><p>Perhaps, other than yourself, no one will care about the content of your blog.</p><p>But at some moment in the past, you were genuinely pondering some questions, genuinely feeling certain emotions.</p><p>You can’t share the three ways of writing a recursive function with your lover, nor can you share your insights on love with your colleagues.</p><p>You can’t share many of your joys and sorrows with your parents, nor can you expect your relatives to understand your emotions and feelings.</p><p>No one in the world will truly understand you, just as you can never truly understand others.</p><p>So, record these things and turn them into words, pictures, and videos.</p><p>Even if your physical body dies, perhaps someone will still read your words, and you could make a friend across time and space and have a spiritual conversation with them (which is the meaning of books).</p><p>If there is already someone who understands you, you don’t need to write anything down—just perform freely and let your audience remember more of you. Maybe you stay within your small social circle, sharing everything you know with everyone. Or maybe you are a successful public figure, in which case, publish more works and opinions, and there will always be followers who remember you.</p><p>But if, right now, no one understands you, no one cares about the topics you are concerned about, then write it down and wait a while—maybe someone will discover these historical relics.</p><p>Even if it’s just your future self, looking back at who you once were. Even if you’re not the last generation, let your descendants come to know the younger you.</p><p>This is the meaning of writing a blog.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;When no one in the world remembers you anymore, that’s when you truly die.&lt;/p&gt;
&lt;p&gt;If there are people in your life who are your</summary>
        
      
    
    
    
    
    <category term="Opinion" scheme="https://en.smallyu.net/tags/Opinion/"/>
    
  </entry>
  
  <entry>
    <title>My Cryptocurrency Dollar-Cost Averaging Strategy (Part 1)</title>
    <link href="https://en.smallyu.net/2024/08/28/My%20Cryptocurrency%20Dollar-Cost%20Averaging%20Strategy%20(Part%201)/"/>
    <id>https://en.smallyu.net/2024/08/28/My%20Cryptocurrency%20Dollar-Cost%20Averaging%20Strategy%20(Part%201)/</id>
    <published>2024-08-27T18:15:14.000Z</published>
    <updated>2025-08-06T10:38:27.719Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>As time goes by and my understanding of the market deepens, the dollar-cost averaging (DCA) strategy, especially the investment portfolio, may undergo significant changes. This is why I labeled this as Part One in the title. If the DCA strategy changes, there may be Part Two, Part Three, and so on. Of course, I will also explain the reasons for any changes.</p></blockquote><p>This year, I’ve been focusing more on investment topics, partly because I’ve lost some money through reckless trading.</p><p>Recently, I’ve been heavily influenced by Li Xiaolai’s ideas. The theory behind the DCA strategy is quite exciting. You can delve deeper into the topic through the following resources:</p><ul><li>“<a href="https://ri.firesbox.com/#/">The DCA Strategy that Changes Your Fate</a>” by Li Xiaolai — everything about DCA is covered in this book.</li><li><a href="https://youtu.be/tmRQImBk6NA?si=Cl7Fwiq2WcfM28P2">The DCA Strategy that Changes Your Fate: Public Class Live</a> — a YouTube video where Li Xiaolai himself interprets the theory.</li></ul><p>Besides DCA, here are a few other investment references:</p><ul><li>“<a href="https://github.com/xiaolai/the-self-cultivation-of-leeks">The Self-Cultivation of Leeks</a>” by Li Xiaolai</li><li><a href="https://www.youtube.com/@ChandlerGuoChannel">Chandler Guo’s YouTube Channel</a></li></ul><p>I want to practice the DCA investment method, which involves addressing several questions:</p><ol><li>Should I join Li Xiaolai’s investment practice group? Not necessary, especially for those with self-discipline.</li><li>Should I buy <a href="https://b.watch/">BOX</a>? Rumor has it that Li’s books must be read, his classes can be attended, but you should never buy the coins.</li><li>What method should be used for DCA? Binance’s DCA feature is sufficient, with zero fees (remember to occasionally withdraw to a wallet).</li><li>What is the frequency of DCA? Daily, because prices fluctuate rapidly. If the frequency is too low, the cycle becomes too long.</li><li>What is the duration of the DCA? I have currently planned to DCA for one year.</li><li>What are the targets for DCA?</li></ol><p>I did not blindly follow the selection and proportion of targets in Li Xiaolai’s BOX. Initially, Li Xiaolai’s BOX had a high proportion of EOS, which proved to be a failure, so EOS is no longer included in the BOX. Currently, the latest situation is that BTC accounts for 92% of the BOX’s composition. Additionally, XIN has always been a component of BOX, showing that personal biases can influence decisions, as most of us probably don’t even know what XIN is, while Li Xiaolai has consistently chosen this coin for years.</p><p>The targets and allocation proportions I chose are:</p><table><thead><tr><th align="center">No.</th><th align="center">Target</th><th align="center">Proportion</th><th align="center">Tag</th><th align="center">Risk</th><th align="center">Max Supply</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">BTC</td><td align="center">50%</td><td align="center">PoW, UTXO</td><td align="center">Low</td><td align="center">✅</td></tr><tr><td align="center">2</td><td align="center">ETH</td><td align="center">10%</td><td align="center">Smart Contract Platform</td><td align="center">Medium</td><td align="center">❌</td></tr><tr><td align="center">3</td><td align="center">LTC</td><td align="center">5%</td><td align="center">PoW, UTXO</td><td align="center">High</td><td align="center">✅</td></tr><tr><td align="center">4</td><td align="center">DOGE</td><td align="center">5%</td><td align="center">PoW, UTXO</td><td align="center">High</td><td align="center">❌</td></tr><tr><td align="center">5</td><td align="center">BCH</td><td align="center">5%</td><td align="center">PoW, UTXO</td><td align="center">High</td><td align="center">✅</td></tr><tr><td align="center">6</td><td align="center">ADA</td><td align="center">5%</td><td align="center">PoS, UTXO</td><td align="center">High</td><td align="center">✅</td></tr><tr><td align="center">7</td><td align="center">SOL</td><td align="center">5%</td><td align="center">Smart Contract Platform</td><td align="center">High</td><td align="center">❌</td></tr><tr><td align="center">8</td><td align="center">FIL</td><td align="center">5%</td><td align="center">PoSt</td><td align="center">Very High</td><td align="center">❌</td></tr><tr><td align="center">9</td><td align="center">TON</td><td align="center">5%</td><td align="center">Smart Contract Platform</td><td align="center">Very High</td><td align="center">❌</td></tr><tr><td align="center"><del>10</del></td><td align="center"><del>XEC</del></td><td align="center"><del>3%</del></td><td align="center"><del>PoW, UTXO</del></td><td align="center"><del>Very High</del></td><td align="center"><del>✅</del></td></tr><tr><td align="center"><del>11</del></td><td align="center"><del>DASH</del></td><td align="center"><del>2%</del></td><td align="center"><del>PoW, UTXO</del></td><td align="center"><del>Very High</del></td><td align="center"><del>✅</del></td></tr><tr><td align="center">10</td><td align="center">XMR</td><td align="center">5%</td><td align="center">PoW, UTXO</td><td align="center">Very High</td><td align="center">❌</td></tr></tbody></table><p>(Updated on 2024.09.26)</p><p>You can view this collection of coins in this public <a href="https://coinmarketcap.com/watchlist/66d339a5c316be09d04b7b16/">Watchlist</a>, which links to the CoinMarketCap website. You’ll notice that nearly all of the coins have a market cap ranking within the top 100, following the fourth principle from “<a href="/2024/05/04/%E7%82%92%E5%B8%81%E6%8A%95%E8%B5%84%E7%9A%84%E5%B0%8F-tips/">Some Small Tips for Crypto Investing</a>”.</p><p>In my DCA portfolio, BTC is always the top choice, making up 50% of the total allocation. Additionally, five PoW coins make up 20% of the portfolio, meaning PoW coins collectively account for 70%. Most PoW coins have a capped supply.</p><p>Due to the saying “Bitcoin is gold, Litecoin is silver,” LTC has been relatively strong. DOGE and LTC are like close allies, sharing the same mining algorithm. The <a href="https://www.litecoinpool.org/">mining pool</a> mines both of these coins simultaneously, so the prices of LTC and DOGE cannot be simply estimated like the “shutdown price” of BTC miners. Moreover, DOGE is the leader among memecoins, has a long history, and is favored by Elon Musk, making it hard to ignore. Thus, LTC and DOGE are included together.</p><p>BCH emerged as a workaround for high transaction fees during the Bitcoin Cash era (2017). Has the Blocksize War truly ended? BCH represents the large block faction, so it is included here. BTC has moved away from its “electronic cash” purpose to become a “store of value.” I believe the debate on this issue is not entirely over. BCH later forked into BSV, so why isn’t BSV included? BSV’s ecosystem is small, and it includes some active but uninformed projects (like Note). Additionally, BSV’s founder is wanted by the authorities, among other reasons.</p><p>DASH and XEC are the least justifiable choices, being so obscure that many people have never heard of them, and they are also the highest risk. XEC is included because the <a href="https://github.com/bitcoin-cash-node/bitcoin-cash-node">node code</a> of BCH is forked from XEC’s code, which suggests that XEC has decent technical capabilities. DASH is a fork of LTC and was more of a filler choice because many old wallets, like Unstoppable, primarily support PoW coins, and DASH is among them. Additionally, Binance’s mining pool service supports only a few coins, including DASH, so DASH is included as a high-risk alternative for “electronic cash.”</p><p>Then there’s ADA, which has strong academic credentials and a pure PoS consensus model using the UTXO model, making it an alternative to BTC in the PoS consensus space. Moreover, ADA’s technology is continuously updated, and if PoS wins out one day, ADA is undoubtedly a key player. Therefore, I anticipate a better future for ADA.</p><p>FIL, on the other hand, falls under the category of distributed storage. Computer science has two major directions: distributed computing and distributed storage. ETH claims to be the “World Computer” and takes on the role of distributed computing, while FIL is the leader in the storage space. It’s worth noting that libp2p was developed by Filecoin, and many blockchains like ETH use the p2p module directly from libp2p. Additionally, the widely used IPFS was developed by Filecoin Labs. Thus, FIL has strong research and development capabilities, and there might be a day when it achieves significant breakthroughs.</p><p>Finally, we have the smart contract platforms. Honestly, I don’t like smart contracts much; many people equate smart contracts with blockchain or think that only blockchains that support smart contracts are true blockchains. When it comes to holding coins, coins on smart contract platforms are merely <a href="/micro-blog/#2024-31">fuel</a> without a capped supply, so why bother hoarding them? However, smart contract platforms are popular, have many users, and their prices remain high. ETH, SOL, and TON all support smart contracts and are currently highly watched, so I allocated some proportion to them.</p><p>Additionally, here are the reasons some popular coins were not included:</p><table><thead><tr><th align="center">Coin</th><th align="center">Reason for Exclusion</th></tr></thead><tbody><tr><td align="center">BNB</td><td align="center">It’s a platform token, not a chain.</td></tr><tr><td align="center">DOT</td><td align="center">No max supply, high APR.</td></tr><tr><td align="center">ATOM</td><td align="center">No max supply, high APR.</td></tr><tr><td align="center">AVAX</td><td align="center">No max supply, no obvious advantages.</td></tr><tr><td align="center">APT, SUI</td><td align="center">BFT consensus type.</td></tr><tr><td align="center">All ERC-20 tokens</td><td align="center">Not chains.</td></tr><tr><td align="center">All Memecoins</td><td align="center">No long-term value.</td></tr><tr><td align="center">Inscriptions, Runes</td><td align="center">BTC transaction fees are too high.</td></tr></tbody></table><p>Wish myself good luck!</p><h3 id="Update-2024-09-26"><a href="#Update-2024-09-26" class="headerlink" title="Update (2024.09.26)"></a>Update (2024.09.26)</h3><p>XEC and DASH have been removed from the original portfolio. In the previous selection, XEC and DASH were already two assets with insufficient reasons for inclusion, and their total market cap rankings were around 100 or even lower, with poor community engagement.</p><table><thead><tr><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th></tr></thead><tbody><tr><td align="center"><del>10</del></td><td align="center"><del>XEC</del></td><td align="center"><del>3%</del></td><td align="center"><del>PoW, UTXO</del></td><td align="center"><del>Very High</del></td><td align="center"><del>✅</del></td></tr><tr><td align="center"><del>11</del></td><td align="center"><del>DASH</del></td><td align="center"><del>2%</del></td><td align="center"><del>PoW, UTXO</del></td><td align="center"><del>Very High</del></td><td align="center"><del>✅</del></td></tr></tbody></table><p>More importantly, XMR is now used to replace the combined 5% allocation that was previously held by them. XMR is one of the <a href="https://x.com/DarkDotFail/status/1765104459913330820">main currencies</a> used on the dark web, which only accepts BTC and XMR. XMR has strong privacy protection features. In the dark web’s application domain, XMR, XEC, and DASH are frequently <a href="https://x.com/Altcoinbuzznews/status/1746989440373784958">discussed together</a> as three comparable cryptocurrencies. If we were to choose one from these three, XMR would be the first choice.</p><table><thead><tr><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th></tr></thead><tbody><tr><td align="center">10</td><td align="center">XMR</td><td align="center">5%</td><td align="center">PoW, UTXO</td><td align="center">Very High</td><td align="center">❌</td></tr></tbody></table>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;As time goes by and my understanding of the market deepens, the dollar-cost averaging (DCA) strategy, especially the</summary>
        
      
    
    
    
    
    <category term="Dollar-Cost Averaging Strategy" scheme="https://en.smallyu.net/tags/Dollar-Cost-Averaging-Strategy/"/>
    
  </entry>
  
  <entry>
    <title>How PoS Blockchains Handle Forks</title>
    <link href="https://en.smallyu.net/2024/08/22/How%20PoS%20Blockchains%20Handle%20Forks/"/>
    <id>https://en.smallyu.net/2024/08/22/How%20PoS%20Blockchains%20Handle%20Forks/</id>
    <published>2024-08-22T09:41:01.000Z</published>
    <updated>2025-08-06T10:38:27.699Z</updated>
    
    <content type="html"><![CDATA[<p>Mainstream public blockchains can be classified into three categories based on their consensus mechanisms: PoW, PoS, and PBFT. The choice of consensus mechanism largely determines the network’s TPS, degree of decentralization, and node scale.</p><p>Apart from PoW, the other two consensus mechanisms, PoS and PBFT, face a fundamental issue: how to recover when the network experiences a soft fork. Since PoS and PBFT do not require computational power to generate blocks, they cannot use the same longest chain rule as PoW.</p><h3 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h3><h4 id="Consensus-Overview"><a href="#Consensus-Overview" class="headerlink" title="Consensus Overview"></a>Consensus Overview</h4><p>PoW-based chains include BTC, BCH, BSV, LTC, DOGE, ZEC, and others. PoW uses the longest chain rule, where nodes facing multiple forked chains simply choose the one with the highest block height. Since generating each block requires significant computational power, the cost of attacking the network is high.</p><p>PoS-based chains include ETH, BNB, TRON, DOT, TON, ADA, AVAX, NEO, and others. Almost all current smart contract platform chains use PoS consensus.</p><p>PBFT-based chains include ATOM, SOL, TON, ONT, APT, SUI, etc. Among them, Cosmos is the most well-known, Solana shows potential to surpass Ethereum, and The Open Network has also developed well this year.</p><p>You might find it strange to classify SOL under PBFT. Isn’t SOL based on PoH consensus? Doesn’t SOL have staking features, such as earning rewards through staking in the Solflare wallet? TON also has staking and rewards, right?</p><p>These are two separate issues.</p><p>Firstly, Solana indeed developed and uses a BFT-like consensus called <a href="https://solana.com/news/8-innovations-that-make-solana-the-first-web-scale-blockchain">Tower BFT</a>. PoH is used to solve the clock problem on the Solana chain, not as a complete consensus mechanism.</p><p>Secondly, when it comes to PoS+BFT consensus, should it be classified as PoS or BFT? The above classification mainly refers to PoS, dPoS, PoS Casper, etc., while anything involving BFT is classified under PBFT for distinction. For instance, Cosmos also has staking and reward features, but few people would say Cosmos uses PoS.</p><h4 id="About-Forks"><a href="#About-Forks" class="headerlink" title="About Forks"></a>About Forks</h4><p>When dealing with forks in PoS and PBFT consensus, there are two aspects to consider.</p><p>One aspect is whether the staker list (called <code>Validators</code> in Ethereum, <code>Stakeholders</code> in Cardano) is consistent. Since PoS and PBFT generally use VRF to select a node from a candidate list as the block producer, what are the similarities and differences in handling this issue?</p><p>The other aspect is the rule for choosing the chain when the network forks (called <code>Forkchoice</code> in Ethereum, <code>Chain selection rule</code> in Cardano).</p><h3 id="Inconsistent-Staker-List"><a href="#Inconsistent-Staker-List" class="headerlink" title="Inconsistent Staker List"></a>Inconsistent Staker List</h3><h4 id="Consortium-Chains"><a href="#Consortium-Chains" class="headerlink" title="Consortium Chains"></a>Consortium Chains</h4><p>Let’s start with the simplest, consortium chains. Consortium chains do not have coins, so there is no staking involved, only pure PBFT.</p><p>As the name suggests, consortium chains have very high entry barriers. You need to be reviewed or authorized to become a consortium member. Technically, this means that to join the network, it must be done with the knowledge of other nodes. For example, all nodes’ configuration files contain a list of network members, defining the public keys and corresponding indexes of the network nodes. To add a node, all other nodes need to update their configuration files.</p><p>When a node produces a block, it randomly selects one from this list using VRF as the block producer. Generally, VRF returns a simple number corresponding to the index in the public key list, and the block producer signs the block with this public key.</p><p>This method is somewhat cumbersome but is characteristic of consortium chains. In this mode, the staker list is unlikely to be inconsistent. If it is, it means a configuration file error. A configuration error will always be wrong, making it easy to troubleshoot.</p><h4 id="Cosmos"><a href="#Cosmos" class="headerlink" title="Cosmos"></a>Cosmos</h4><p>Cosmos Hub uses a consensus called <a href="https://docs.cometbft.com/v0.37/introduction/">CometBFT</a>. The basic process involves spending no less than 180 ATOM to register as a Validator, after which you may be selected as a block producer.</p><p>Since BFT consensus requires voting before block production, if there is indeed an inconsistency in the staker list within the network, two blocks might be produced at the same block height by different nodes, and other nodes in the network would vote on these blocks.</p><p>There are two scenarios here: a normal network and an abnormal network.</p><p>In a normal network, when two blocks are produced, only one of them can receive more than 2&#x2F;3 of the votes; it’s impossible for both blocks to receive more than 2&#x2F;3 of the votes. So, before block production, nodes with inconsistent staker lists are already excluded from the process, ensuring that they don’t affect subsequent procedures.</p><p>In an abnormal network, where a node cannot perceive the presence of other nodes, even if its staker list matches a few nodes in the current sub-network, the other nodes will not cast their votes. Unless the entire sub-network is isolated and the staker list coincidentally shares the same error, that sub-network would be isolated, playing alone on a local network. Network anomalies themselves are abnormal situations, isolated from the outside world.</p><h4 id="Cardano"><a href="#Cardano" class="headerlink" title="Cardano"></a>Cardano</h4><p>Cardano’s PoS is the purest form of PoS, without a voting mechanism. Cardano’s consensus has undergone <a href="https://iohk.io/en/blog/posts/2022/06/03/from-classic-to-chronos-the-implementations-of-ouroboros-explained/">multiple evolutions</a> (there’s a lot to it, and I haven’t finished reading it).</p><p>The rule in the Cardano network is that anyone can stake any amount into Stake pools to become a <a href="https://docs.cardano.org/about-cardano/learn/delegation/">Delegator</a>. These Delegators share the pool’s rewards in proportion to their staked amount but do not have the right to produce blocks.</p><p>In the Cardano network, the entities with the right to produce blocks are Stake pools. In other words, nodes that may be selected as block producers are already on the <a href="https://preprod.cexplorer.io/pool">pool list</a>. There aren’t many of them, around 300 at present, and each slot randomly selects one to produce a block.</p><p>So what happens if there is an inconsistency in the Stake pools list among nodes after registration? Cardano’s documentation <a href="https://developers.cardano.org/docs/operate-a-stake-pool/introduction-to-cardano#how-it-works">describes</a> that when two blocks are produced in the same slot, the Chain Selection Rule is activated. This means that when a second block is produced, the chain has already forked, and all nodes will activate the chain selection rule to recover.</p><h4 id="Ethereum"><a href="#Ethereum" class="headerlink" title="Ethereum"></a>Ethereum</h4><p>To become a Validator in Ethereum, you need to spend 32 ETH to register your node information on the <a href="https://etherscan.io/address/0x00000000219ab540356cbb839cbe05303d7705fa">staking contract</a>, after which all Validators retrieve the staker list from the contract.</p><p>How do you ensure that other Validators have synchronized the staker information from the contract to their local node? You can find a field called <a href="https://github.com/ethereum/consensus-specs/blob/v1.3.0/specs/phase0/validator.md#eth1-data">Eth Data</a> in any block on the Beacon Chain explorer, such as <a href="https://beaconcha.in/block/20584195">this block</a>. This field is crucial for the staker list. When a validator is selected as the block producer, it packages the current staker list synchronized by the node, including the total number of stakers and the Deposit root information, into the block.</p><p>The Ethereum network updates the staker list approximately every 17 hours. During this period, new validators are only added to the network if the Eth Data field in more than half of the blocks contains the new validator. </p><p>Thus, the process of adding Validators to Ethereum is long and strict. The staker list is difficult to be inconsistent under such rules.</p><h3 id="Chain-Selection-After-Forks"><a href="#Chain-Selection-After-Forks" class="headerlink" title="Chain Selection After Forks"></a>Chain Selection After Forks</h3><h4 id="Ethereum-1"><a href="#Ethereum-1" class="headerlink" title="Ethereum"></a>Ethereum</h4><p>If multiple forks occur in Ethereum, the choice is relatively easy because Ethereum has a voting mechanism. Each block contains the number of validators that voted for it. When a fork occurs, simply selecting the block with the most votes should suffice.</p><p>In fact, Ethereum’s fork choice is based on a <a href="https://ethos.dev/beacon-chain">checkpoint mechanism</a>. Each block is a slot, every 32 slots form an epoch, and each epoch is a checkpoint. A checkpoint that receives more than 2&#x2F;3 of the votes becomes justified. When the checkpoint after the next one also becomes justified, the current checkpoint is considered finalized. Therefore, in Ethereum, a transaction takes 15 minutes to be marked as finalized.</p><p>The checkpoints mentioned here are the basis for <a href="https://arxiv.org/abs/1710.09437">FFG</a> fork choice. Each chain will choose the one with more checkpoints, so Ethereum’s consensus does not select the chain with the most blocks, but the one with the most checkpoints. The chain with the most checkpoints is the main chain.</p><h4 id="Cardano-1"><a href="#Cardano-1" class="headerlink" title="Cardano"></a>Cardano</h4><p>Cardano currently uses a <a href="https://developers.cardano.org/docs/operate-a-stake-pool/introduction-to-cardano/#what-if-for-some-reason-there-is-a-fork">Chain selection rule</a> provided by the <a href="https://dl.acm.org/doi/10.1145/3243734.3243848">Ouroboros Genesis</a> version.</p><p>The previous version of Ouroboros Genesis was <a href="https://link.springer.com/chapter/10.1007/978-3-319-78375-8_3">Ouroboros Praos</a>. The Praos version introduced a rule called <code>maxvalid</code>, and the Genesis version made some improvements to this rule by incorporating the <code>moving checkpoint</code> feature, resulting in a new rule called <code>maxvalid-mc</code>.</p><p>The moving checkpoint is a simple concept: when facing multiple forked chains, if the fork does not exceed <code>k</code> blocks, the chain with the longest length is selected. If the fork exceeds <code>k</code> blocks, it is ignored entirely. This means the local chain will only select the longest chain within the <code>k</code> blocks range. The range of <code>k</code> blocks is referred to as the moving checkpoint. The advantage of this restriction is that it helps avoid the longest chain attack. Of course, Cardano established this rule through a series of academic analyses and practical tests.</p><h4 id="Cosmos-1"><a href="#Cosmos-1" class="headerlink" title="Cosmos"></a>Cosmos</h4><p>In PBFT chains like Cosmos, as long as the staker list is consistent under normal network conditions, forks will not occur.</p><h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>In summary, each consensus mechanism has detailed rules for handling forks, and these rules have been tested in real-world scenarios by established public blockchains. The specific implementation of fork recovery is closely tied to the design philosophy of each blockchain.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Mainstream public blockchains can be classified into three categories based on their consensus mechanisms: PoW, PoS, and PBFT. The</summary>
        
      
    
    
    
    
    <category term="Consensus Mechanism" scheme="https://en.smallyu.net/tags/Consensus-Mechanism/"/>
    
  </entry>
  
  <entry>
    <title>Interactive Immersive Theater</title>
    <link href="https://en.smallyu.net/2024/08/18/Interactive%20Immersive%20Theater/"/>
    <id>https://en.smallyu.net/2024/08/18/Interactive%20Immersive%20Theater/</id>
    <published>2024-08-18T03:08:40.000Z</published>
    <updated>2025-08-06T10:38:27.709Z</updated>
    
    <content type="html"><![CDATA[<p>My girlfriend has been in the hospital for over a month due to food poisoning. I haven’t seen her for a long time, and it’s also been a while since I went out for fun. Yesterday, I went to experience a rather enjoyable interactive immersive theater (of course, it was her idea) called “The Legend of Longmen,” at a venue near Sanlitun Gongti.</p><p>I’ve played murder mystery games many times and have also experienced immersive theater several times, but this was my first time playing an entirely interactive immersive theater. Before playing, I thought it was a bit expensive—less than 3 hours of gameplay costing 500 yuan per person. However, after playing, I didn’t think it was overpriced. There were only 7 players in total, accompanied by more than a dozen NPCs who interacted with us throughout the experience. The realistic set, spanning several hundred square meters across two floors, made the price reasonable.</p><p>During a casual chat with the front desk guy before the game started, I learned that this year has been tough for the entertainment industry. The venue hosting “The Legend of Longmen,” Mengjing Immersive Theater, is doing relatively well in Beijing, considering many similar establishments have closed down over the past two years. He mentioned, “Nowadays, people are worried about how to survive tomorrow; who would spend money on such entertainment games?”</p><p>I can relate to this, especially when it comes to murder mystery games. A few years ago, when murder mysteries were booming, not only were new venues popping up constantly, but new scripts were also being created, bringing innovation in genres and gameplay, with diverse and intriguing plots. However, from last year to this year, there has been a noticeable decline in the number of players and groups participating in murder mysteries. Often, I find it hard to find a session to join, and even if there is one, it’s usually a classic old script. These scripts are beginner-friendly, fun, and safe, but the lack of new content makes it feel like the murder mystery genre is becoming a sunset industry. Due to the lack of new scripts, I recently played “Snow Village Serial Killer” three times.</p><p>Regarding interactive immersive theater, there are two key terms: “interactive” and “immersive theater.”</p><p>Murder mystery games are highly interactive, as the whole process involves players engaging with each other. The setting is simple; everyone is in one room with a table, and that’s it. There are also “big role-play” murder mystery games, where although it’s still within one room, there are two or three DMs (Dungeon Masters) who act out certain scenarios from the script, enhancing the player’s immersion. These role-play games are mostly emotional scripts, where the number of men and women is equal, and players form couples based on their in-game identities, experiencing various types of relationships—romantic, familial, or friendly. Emotional scripts were my favorite type, as they were my main source of fun, but later I couldn’t play them anymore and had to switch to hardcore detective scripts, which didn’t bring the same level of enjoyment :P</p><p>There’s another type of murder mystery game called “real-scene investigation.” These games are mostly faction-based or detective-oriented, with simpler scripts. Real-scene faction games are suitable for corporate team-building events because they accommodate large groups, have low difficulty, and involve player competition. Detective scripts, on the other hand, can be a bit dull; despite the real-scene setting, you still end up sitting at a table solving the mystery, which can be quite boring. Therefore, I feel that real-scene investigation games might not have much of a future.</p><p>Then there’s immersive theater, which comes in two forms. One has fixed seating, with multiple stage areas in the venue. Actors perform across different stage areas, sometimes right next to or behind you, and they may randomly interact with some audience members—asking a question, playing a small game, or dancing together on stage (essential for extroverts). This type of immersive theater has the most distinct hierarchy, with different ticket prices corresponding to different seats, and actors giving more attention to those who paid more. There used to be a famous murder mystery venue called Fanxing on Line 6, which later transformed into Fanxing Drama Village, where many of these seated immersive theaters are performed. What I can’t understand is why someone would pay 1,800 yuan for a front-row seat when the back-row tickets are only 180 yuan, just to play a small game in front of everyone or have a few words with an NPC. Haven’t they played murder mystery games? You can satisfy any game craving for 100 yuan.</p><p>The other type of immersive theater has no fixed seating and is more of a follow-along experience. The performance space is large and realistic, with actors performing at their own pace. The audience can watch from anywhere in the venue, standing beside or in front of the actors. To follow the story, you usually stick to one or two actors to see what happens to their characters. In these performances, actors have limited interaction with the audience, with some communication, but the focus is still on the performance.</p><p>The interactive immersive theater falls somewhere between a murder mystery game and immersive theater. It has a realistic set, and the actors interact with you throughout the experience—they’re both acting and playing along. In terms of cost, a tabletop murder mystery game is around 150 yuan, a role-play murder mystery game is about 300 yuan, and while immersive theater has more actors and a larger venue, it can accommodate over 20 people, so the price isn’t too high—around 400 yuan, with some tickets costing 300 or 200 yuan, depending on how much of the performance you watch. Overall, interactive immersive theater is the most expensive, costing 500 yuan per person.</p><p>Interactive immersive theater also has some drawbacks, such as relatively simple plots. It might be beginner-friendly, but if you’ve played many murder mystery games, the story can feel a bit thin. After all, a murder mystery game lasts 6 hours and involves reading tens of thousands of words, with buildups, twists, and conflicts. Immersive theater is shorter and can’t fit as much content, so as long as you have fun, it’s good enough.</p><p>Here is the promotional poster displayed at the entrance of “The Legend of Longmen”:</p><img src="1.png" width="40%"><p>Reading personal background information before the game starts:</p><img src="5.png" width="40%" style="display: inline-block;margin-left:5%"><img src="6.png" width="40%" style="display: inline-block;margin-left:5%"><p>The tightly shut gates of Ningyuan City:</p><img src="2.png" width="40%"><p>Behind the gates is the realistic set:</p><img src="3.png" width="40%" style="display: inline-block;margin-left:5%"><img src="4.png" width="40%" style="display: inline-block;margin-left:5%"><p>As with all immersive theaters, no photos are allowed of the set or actors after the show starts.</p><p>After the game, we had a simple meal—Hunan cuisine—at Xiaoxiangge in the sunken plaza of Sanlitun Soho. The two of us spent 180 yuan, which is relatively cheap.</p><img src="7.png" width="40%"><p>I previously wrote about “<a href="/2023/03/11/%E5%9C%A8%E5%8C%97%E4%BA%AC%E5%90%83%E4%B8%80%E9%A1%BF%E9%A5%AD%E8%A6%81%E8%8A%B1%E5%A4%9A%E5%B0%91%E9%92%B1/">How Much Does It Cost to Eat in Beijing?</a>,” where I mentioned that a meal costs 180 yuan per person. Now, it seems this isn’t too far off. If you’re eating on the fifth or sixth floor of a mall, that’s about what you’d expect. 180 yuan might be a bit high, and 150 yuan per person might be more reasonable, avoiding waste. Two people ordering three dishes is about right.</p><h3 id="Others"><a href="#Others" class="headerlink" title="Others"></a>Others</h3><p>Managing and reading PDFs on MacOS has always been a problem. I used to use <a href="https://github.com/Future-Scholars/paperlib">paperlib</a>, which was pretty good but couldn’t import non-academic PDFs, among other usability issues, so I stopped using it. A few days ago, I uninstalled paperlib, and the PDFs I had imported were archived on GitHub at <a href="https://github.com/smallyunet/paperlib_backup.git">smallyunet&#x2F;paperlib_backup</a>. If needed in the future, I should be able to re-import them using software.</p><p>I discovered that <a href="https://www.zotero.org/">Zotero</a> is a tool similar to paperlib but more powerful and user-friendly. Zotero is developed by a company, whereas paperlib is purely a personal project. Zotero also allows you to publicly share your <a href="https://www.zotero.org/smallyuz/library">library</a> with a single click.</p><p>Additionally, this book “<a href="https://saifedean.com/tbs">The Bitcoin Standard</a>“ seems quite popular. I bought a pirated copy online and plan to read it. On Apple Books, this book costs about $29, but the pirated physical copy only cost ¥29, which is quite a deal. I suspect there’s a publicly available PDF online that the seller printed.</p><img src="8.png" width="40%"><p>I still prefer reading paper documents over screens on computers or tablets—it’s better for my eyes and body. If my finances allowed, I would even consider buying a printer to print out all the PDFs I want to read.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;My girlfriend has been in the hospital for over a month due to food poisoning. I haven’t seen her for a long time, and it’s also been a</summary>
        
      
    
    
    
    
    <category term="Life" scheme="https://en.smallyu.net/tags/Life/"/>
    
  </entry>
  
  <entry>
    <title>Recalling My Experience Attending Training Classes in University</title>
    <link href="https://en.smallyu.net/2024/08/04/Recalling%20My%20Experience%20Attending%20Training%20Classes%20in%20University/"/>
    <id>https://en.smallyu.net/2024/08/04/Recalling%20My%20Experience%20Attending%20Training%20Classes%20in%20University/</id>
    <published>2024-08-03T19:08:54.000Z</published>
    <updated>2025-08-06T10:38:27.728Z</updated>
    
    <content type="html"><![CDATA[<p>Due to excessive brain stimulation from coffee, I inadvertently thought of this topic. I just mentioned the issue regarding <a href="/micro-blog/#2024-42">webpage styles</a>, including how the V2EX webpage displays poorly on the iPad mini 5 in portrait mode, and I also remembered that my current company has a blog with very rudimentary styling. I once directly pointed out the very obvious styling errors in it, but they have not been fixed. Since I have a blog myself, I usually pay great attention to optimizing its style. Although my blog’s overall style is copied from Wang Yin’s blog, I’ve made some improvements in the details. If my blog had obvious styling issues, I wouldn’t be able to stand it and would fix it immediately. So I guess that although some styling errors seem to be a matter of just a line or two of code to me, they might seem difficult to someone without relevant experience, which is why they haven’t been resolved.</p><p>This reasoning might be similar to how Steve Jobs, having had experience in the printing industry, paid great attention to the aesthetic display of fonts on Apple devices. Apple even designed its own better-performing fonts rather than using Microsoft’s. In fact, from the perspective of non-professional users like us, we might not even notice the difference in fonts, but professionals care a lot.</p><p>So, back to the issue of webpage styling, I began to wonder where my experience with webpage styles came from. I have a solid grasp of native HTML tags and CSS styles, but these experiences seem to be from a long time ago… Also, today I saw a post on V2EX titled “<a href="https://www.v2ex.com/t/1062263#reply63">After working for 9 years, I’m still struggling. Does anyone have any advice?</a>“. The description in the post gave me a sense of familiarity with the “struggle”, reminiscent of how girls in my university class would ask me questions. They all had something in common—it sounded like they were learning programming through rote memorization, which made me reflect on the long process of learning and hands-on coding that I went through…</p><p>I’ve always considered attending a training class to be a shameful experience, so I never wanted to mention it. But now, many years have passed, and my training class was during my university years, unlike those who attend training programs after graduation to find a job as a programmer. Training after graduation often isn’t driven by interest, leading to poor technical skills. Moreover, training classes aiming to help attendees find jobs often teach them how to fake resumes and interviews, giving the entire group of trainees a bad reputation. (In fact, the classmates in my training class were also very poor in terms of skill.)</p><p>The training class I attended was part of a school-approved 3+1 model, meaning we spent the first 3 years attending regular classes on campus, and in the 4th year, we took training courses off-campus, which allowed us to graduate normally without attending school classes. Of course, we had to pay the training fee of 18,000 RMB per person (the school leaders definitely took a kickback). The teachers who taught us at the training class were the regular teachers from our university’s computer science department, so there was no issue with the course content; it just focused more on hands-on coding rather than theory. Since I wasn’t a computer science major and was very interested in programming, I chose this path.</p><p>In terms of the timeline, we started in the second half of our junior year, taking a bus for over an hour every weekend to attend off-campus classes, then in the first half of our senior year, we had classes every day, which meant we spent a full year in the training class. In the second half of our senior year, I started my internship in Beijing and began working. The training courses mainly covered basic technologies such as HTML, CSS, JavaScript, Oracle, Java, and Java Web. During this learning process, the most important thing wasn’t the course content but the learning experience. The most memorable moment was when I spent an afternoon in the dormitory watching videos and coding. My roommate, who was about to go to class, was surprised when he returned and asked, “Have you been sitting here all afternoon without moving?” It wasn’t until he said that I realized several hours had passed without me noticing.</p><p>I found that I still have some of my study records from that time, which are preserved in <a href="https://github.com/smallyunet/Java1006/tree/main">Java1006</a> and <a href="https://github.com/smallyunet/java1008">Java1008</a>. I remember when I was learning Vue.js, I followed a tutorial step by step and created a decent e-commerce app. When I was learning React.js, I also made a chat app. Unfortunately, I don’t know what I was thinking at the time—I felt it wasn’t technically significant enough to keep in my repository. I thought I would surely write more valuable, self-developed code in the future, so I deleted it. Later, when I wanted to find it again, I couldn’t. Looking back now, it was actually a valuable learning record. This incident taught me not to easily delete my online content; even if I don’t want it now, I might need it someday. That’s why I never delete anything from my blog once it’s written.</p><p>Not everything in the training class was good. For example, something ridiculous was that when we first joined, they made us practice typing using Jinshan Typing Tutor, and we even had daily speed typing competitions, where <a href="https://github.com/smallyunet/Java1006/blob/main/TypingSpeed/2018.03/README.md">we had to do it every day</a>. Of course, I was always the fastest, although looking back now, it seems pretty laughable.</p><p>The training courses were actually quite simple. I already knew the HTML, CSS, and JavaScript sections before taking the classes. I had self-taught <a href="http://old-blog.smallyu.net/indexadbc.html?id=56">PHP and MySQL</a> long before and even followed tutorials to create an HTML version of <a href="https://old-blog.smallyu.net/indexfddb.html?id=52">Music Visualization</a>. After the training courses, there was an assignment to <a href="https://github.com/smallyunet/Java1006/blob/main/CSS/Templates/README.md">replicate a website</a>, where the teacher would pick a few websites, and students had to hand-code HTML and CSS to create an identical website. I still have the two webpages I created at that time—<a href="https://smallyunet.github.io/Java1006/CSS/Templates/demo1/">Website 1</a> and <a href="https://smallyunet.github.io/Java1006/CSS/Templates/demo2/">Website 2</a>.</p><p>The most helpful part of the training for me was the Java section. Our major didn’t offer a Java course (we had courses on microcomputers, circuits, etc.), but the training class gave me a solid understanding of Java. The classes were taught by our university’s computer science professors. After each class, we had to complete some <a href="https://github.com/smallyunet/Java1008/blob/main/CoreJava/README.md">practice assignments</a>, and I also wrote some simple <a href="https://www.yuque.com/smallyu/usualroad/java-language-foundation">study notes</a>. Although I haven’t written Java code in a long time, I did formally learn object-oriented programming and used Java for about a year at work. In contrast, although I later used Go as my working language, I never formally studied it.</p><p>Besides the experience in the training class, another important part was my self-study, mainly using <a href="https://www.imooc.com/">Mooc</a> to watch online courses and follow along with the videos to code. The content was quite varied—I studied whatever I felt like. One number that stands out is 650 hours, which is the total length of time I’ve spent studying on Mooc. Looking back, I think it’s quite a significant amount. Of course, this record is from many years ago, and I no longer need Mooc tutorials after starting work.</p><img src="mooc.png" style="width:100%;" /><p>Overall, with the training class experience combined with self-study, I gained quite a bit of coding experience, so I’m not too worried about not meeting the “qualified programmer” level when it comes to actual coding. However, I do lack in computer theory and algorithms; for instance, I still can’t distinguish between a heap and a stack. When asked in interviews where a variable is specifically allocated, I simply say I don’t know. The interviewer takes a look at my major and understands, “Oh, you’re not a computer science major.” Mainly, I’ve never encountered a job that required such knowledge to complete. Maybe I’ll take some courses to fill in the gaps out of interest in the future, but it definitely won’t be for the sake of interviews.</p><p>As for algorithms, I tried solving problems on <a href="https://leetcode.cn/u/smallyu/">LeetCode</a> a long time ago, but my approach wasn’t effective—I solved a bunch of easy problems. On one hand, it was to avoid getting too frustrated at the beginning and to get a feel for things, and on the other hand, I didn’t have much time to focus on difficult problems while working. This is also a significant shortcoming.</p><img src="leetcode.png" style="width:50%;" /><p>It’s daylight now—time to sleep.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Due to excessive brain stimulation from coffee, I inadvertently thought of this topic. I just mentioned the issue regarding &lt;a</summary>
        
      
    
    
    
    
    <category term="Memories" scheme="https://en.smallyu.net/tags/Memories/"/>
    
  </entry>
  
  <entry>
    <title>Why Ethereum Casper Needs EIP-7251</title>
    <link href="https://en.smallyu.net/2024/06/09/Why%20Ethereum%20Casper%20Needs%20EIP-7251/"/>
    <id>https://en.smallyu.net/2024/06/09/Why%20Ethereum%20Casper%20Needs%20EIP-7251/</id>
    <published>2024-06-09T15:57:17.000Z</published>
    <updated>2025-08-06T10:38:28.723Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://arxiv.org/abs/1710.09437">Casper the Friendly Finality Gadget</a> is the consensus mechanism currently used by Ethereum, a type of PoS implementation. This relationship is similar to how Bitcoin uses SHA-256 for mining while Dogecoin uses Scrypt. Other PoS implementations include Cardano’s Ouroboros.</p><p><a href="https://eips.ethereum.org/EIPS/eip-7251">EIP-7251</a> proposes increasing the staking limit per validator from 32 ETH to 2048 ETH. This change aims to effectively reduce the number of validators and the communication load on the P2P network.</p><p>This change is urgent because Ethereum simulated a large number of stakers in a test environment. The <a href="https://notes.ethereum.org/@parithosh/bigboi-beaconchain-test-2">test results</a> show that when the number of stakers reaches 2.1 million, the network voting rate drops below 50%, preventing it from reaching a final state. This means the checkpoint mechanism fails, leaving the network in a very insecure state. Ethereum’s current number of validators has already reached <a href="https://beaconscan.com/stat/validator">1.4 million</a>. If changes are not made in time, the Ethereum network will collapse in the near future.</p><p>Why is Ethereum facing this dilemma? Isn’t PoS a consensus mechanism that can scale to large networks?</p><p>The reason lies in the fact that Ethereum Casper is an improvement on BFT, not on PoS.</p><p>Let’s first look at how Vitalik describes Ethereum Casper, emphasizing its improvements over BFT:</p><img src="1.png" /><p>Now, let’s look at the specific process of Ethereum Casper: nodes stake assets to become validators, and then a node is randomly selected to produce a block through VRF. After the block is produced, all validators vote on the validity of the block. These votes are first submitted to the committee members, who aggregate the votes and then synchronize among themselves. Committee members are randomly elected at intervals.</p><p>For those familiar with BFT but not with Ethereum Casper, learning that only blocks receiving 2&#x2F;3 of the votes can be marked as final may trigger sensitivity to the 2&#x2F;3 number. This is because 2&#x2F;3 is the voting ratio emphasized by BFT to ensure 3f+1 fault tolerance.</p><p>BFT’s voting mechanism ensures that forks do not occur in the network. Ethereum adopts this advantage of BFT, making handling fork scenarios relatively easy by judging the block with the highest vote rate as the main block. If validators vote for two blocks simultaneously, they are penalized, which is why Ethereum is the only PoS chain with a slashing mechanism. Combined with the checkpoint mechanism, Ethereum can handle very complex fork situations, identifying the main chain even if the network forks into a tree structure.</p><p>The problem is that Ethereum Casper, while adopting BFT’s strengths, also inherits BFT’s drawbacks, namely the high communication volume. BFT’s communication volume is O(n<sup>2</sup>), generally supporting a network of fewer than 100 nodes, as detailed in <a href="https://ar5iv.labs.arxiv.org/html/2303.11045">this report</a>.</p><p>We can roughly compare the message volumes of BFT and Ethereum Casper.</p><p>BFT at 100 nodes has a throughput of about 50 tps, with message inflation O(n<sup>2</sup>), leading to a message volume of:</p><pre><code>n = (100^2) * 50)  = 500000  = 0.5 M/s</code></pre><p>Ethereum Casper with 2 million validators and a 50% voting rate, with a block time of 12 seconds and 64 committees, has a message inflation O(n), resulting in a message volume of:</p><pre><code>n = 2M * 0.5 / 12 * 64  = 1000000 / 12 * 64  = 5 M/s</code></pre><p>This calculation is rough and imprecise, differing by an order of magnitude, but considering the significant differences in implementation and hardware environments, discrepancies are normal. Overall, the difference is not too large.</p><p>Thus, Ethereum’s integration of BFT’s voting mechanism results in a high communication volume. Ethereum Casper improves BFT by incorporating the Stake mechanism, supporting tens of thousands of nodes.</p><p>Notably, Ethereum Casper’s message inflation is only O(n) because it requires only one round of voting.</p><p>Additionally, the committee mechanism is somewhat similar to the layered consensus of consortium chains. Some domestic companies improve blockchain technology without the token concept, but BFT algorithms can only support dozens of nodes, leading to layered consensus based on BFT. The basic idea is to select a subset of nodes as proposal nodes to produce blocks and vote, while other nodes only receive data. The consensus group (proposal nodes) is rotated periodically.</p><p>For consortium chains, VRF + BFT + layered consensus is a relatively complete technical combination.</p><p>In contrast, Ethereum adds the Stake mechanism, where each node in a consortium chain is a validator and has a chance to produce blocks, while Ethereum requires staking a certain amount of tokens to become a validator. The committee mechanism, compared to layered consensus, retains the voting rights of each validator, only selecting representatives to aggregate votes. Layered consensus directly deprives most nodes of block-producing rights, leaving it to a few nodes.</p><p>Thus, Ethereum’s consensus can be simply understood as Stake + VRF + BFT + committee mechanism.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://arxiv.org/abs/1710.09437&quot;&gt;Casper the Friendly Finality Gadget&lt;/a&gt; is the consensus mechanism currently used by</summary>
        
      
    
    
    
    
    <category term="BFT" scheme="https://en.smallyu.net/tags/BFT/"/>
    
    <category term="Ethereum" scheme="https://en.smallyu.net/tags/Ethereum/"/>
    
  </entry>
  
  <entry>
    <title>PBFT in Blockchain Doesn&#39;t Require a Second Vote</title>
    <link href="https://en.smallyu.net/2024/06/03/PBFT%20in%20Blockchain%20Doesn&#39;t%20Require%20a%20Second%20Vote/"/>
    <id>https://en.smallyu.net/2024/06/03/PBFT%20in%20Blockchain%20Doesn&#39;t%20Require%20a%20Second%20Vote/</id>
    <published>2024-06-03T03:09:21.000Z</published>
    <updated>2025-08-06T10:38:27.722Z</updated>
    
    <content type="html"><![CDATA[<p>Why does PBFT require two rounds of voting, and what is the role of the second vote? This question has puzzled me for a long time.</p><h3 id="Reverse-Deduction"><a href="#Reverse-Deduction" class="headerlink" title="Reverse Deduction"></a>Reverse Deduction</h3><p>From this perspective, in what situations does the second vote play a role? It only plays a role when the results of the second vote differ from the first. If the second vote’s results are strictly consistent with the first, then there is no need for a second vote.</p><p>So, in what situations would the second vote’s results differ from the first? Only when malicious nodes exist and deliberately cast different votes in the second voting phase will the results differ.</p><p>This is the conventional operational flowchart of traditional PBFT, where node 3 is a faulty or malicious node and does not respond from beginning to end:</p><img src="1.png" width="70%"><p>This is the flowchart with the prepare phase removed, retaining only one voting process, where node 3 is still a faulty node and does not respond:</p><img src="2.png" width="60%"><p>The key is that in this scenario, nodes 0, 1, and 2 are honest nodes and will never cast malicious votes or abstain, so the result of the commit phase will be consistent with the prepare phase. Thus, even if the prepare phase is removed, the system will eventually reach a consensus.</p><p>Node 3 has always been a malicious node. If, during the commit phase, any of the nodes 0, 1, or 2 cast votes that differ from the prepare phase, it means that there are more than one malicious node in the system, exceeding the fault tolerance capability.</p><h3 id="Forward-Understanding"><a href="#Forward-Understanding" class="headerlink" title="Forward Understanding"></a>Forward Understanding</h3><p>To prove that the second vote is necessary is equivalent to stating that without the second vote, the system will not function correctly.</p><p>Logically, even if the second vote has various benefits, such as increasing the system’s fault tolerance through redundancy, quickly identifying errors, and promptly adjusting to a consistent state, it does not prove that the second vote is indispensable. For example, in the high-voted answer in <a href="https://cs.stackexchange.com/questions/54152/why-is-the-commit-phase-in-pbft-necessary">Why is the commit phase in PBFT necessary?</a>, many points are mentioned, but it mainly explains the design and function of the commit phase from a positive perspective.</p><p>A more plausible explanation I’ve found is here: <a href="https://stackoverflow.com/questions/51125238/pbft-why-cant-the-replicas-perform-the-request-after-2-3-have-prepared-why-do">PBFT: Why can’t the replicas perform the request after 2&#x2F;3 have prepared? Why do we need the commit phase?</a> </p><p>It mentions that without the commit phase, nodes cannot ensure the order of request execution during a view change.</p><p>I think the description on StackOverflow differs from the meaning of the high-voted answer. The high-voted answer implies that nodes’ execute phases become inconsistent without the commit phase, with some being faster and others slower. However, even with two rounds of voting, nodes might fail after the commit phase but before execution, causing execution differences. Therefore, this type of failure is not the critical scenario.</p><p>A more reasonable scenario is mentioned in the paper <a href="https://pmg.csail.mit.edu/papers/bft-tocs.pdf">Practical Byzantine Fault Tolerance and Proactive Recovery</a>. During a view change, different requests might use the same sequence number and be packaged into different views.</p><blockquote><p>Replicas may collect prepared certificates in different views with the same sequence number and different requests. The commit phase solves this problem as follows.</p></blockquote><h3 id="Single-Vote-Process"><a href="#Single-Vote-Process" class="headerlink" title="Single Vote Process"></a>Single Vote Process</h3><p>This scenario is based on a single vote process, meaning there is no prepare phase.</p><h4 id="Scenario-Setup"><a href="#Scenario-Setup" class="headerlink" title="Scenario Setup"></a>Scenario Setup</h4><p><strong>View V1</strong></p><ol><li>R1 proposes proposal P and broadcasts it to R2, R3, and R4.</li><li>Proposal P is executed by R2, R3, and R4, but not by R1.</li></ol><pre><code>R1: –R2: P –&gt; Execute PR3: P –&gt; Execute PR4: P –&gt; Execute P</code></pre><p><strong>View Switch to V2</strong></p><ol><li>Assume R1 fails, and the view switches to V2.</li><li>R2 proposes a new proposal P’.</li><li>R2 proposes a new proposal P’ and broadcasts it to R1, R3, and R4.</li><li>The new proposal P’ is executed by all replicas.</li></ol><pre><code>R1: --      P&#39; --&gt; Execute P&#39;R2: P --&gt; Execute P      P&#39; --&gt; Execute P&#39;R3: P --&gt; Execute P      P&#39; --&gt; Execute P&#39;R4: P --&gt; Execute P      P&#39; --&gt; Execute P&#39;</code></pre><h4 id="Specific-Example"><a href="#Specific-Example" class="headerlink" title="Specific Example"></a>Specific Example</h4><p>Assume proposals P and P’ are operations on the same account balance:</p><ul><li>Proposal P: Increase account A’s balance by 10 units.</li><li>Proposal P’: Decrease account A’s balance by 5 units.</li></ul><p>The order of operations and results in views V1 and V2 are as follows:</p><p><strong>View V1</strong></p><pre><code>R1: Account A balance = 100 (P not executed)R2: Account A balance = 110 (P executed)R3: Account A balance = 110 (P executed)R4: Account A balance = 110 (P executed)</code></pre><p><strong>View V2</strong></p><pre><code>R1: Account A balance = 100 (P not executed) –&gt; Execute P’ –&gt; Account A balance = 95R2: Account A balance = 110 (P executed) –&gt; Execute P’ –&gt; Account A balance = 105R3: Account A balance = 110 (P executed) –&gt; Execute P’ –&gt; Account A balance = 105R4: Account A balance = 110 (P executed) –&gt; Execute P’ –&gt; Account A balance = 105</code></pre><h4 id="Scenario-Analysis"><a href="#Scenario-Analysis" class="headerlink" title="Scenario Analysis"></a>Scenario Analysis</h4><p>Let’s repeat this sentence: Different requests (R2) use the same sequence number (R1 thinks it is P) and are packaged into different views (P’). The same sequence number should refer to the execution order, indicating which request is to be executed at the current time.</p><p>In the above scenario, the final state is indeed inconsistent due to node A’s failure.</p><h3 id="Two-Votes"><a href="#Two-Votes" class="headerlink" title="Two Votes"></a>Two Votes</h3><p>How does the two-vote process solve the problem in the above scenario?</p><ol><li>If node A fails after receiving the prepare result and before starting the commit, all nodes will not enter the execute phase.</li><li>If node A fails after receiving the commit result and before starting the execute, node A will retry executing P based on the commit result, then execute P’.</li></ol><h4 id="Scenario-Analysis-1"><a href="#Scenario-Analysis-1" class="headerlink" title="Scenario Analysis"></a>Scenario Analysis</h4><p>Did you notice a bit of unfairness in point 2?</p><p>In the two-vote scenario, node A can retry executing P based on the commit result.</p><p>In the single-vote scenario, node A does not retry executing P based on the commit result but directly executes P’.</p><p>Therefore, the two-vote process does not completely avoid state inconsistencies caused by node failures before execution. It merely adds an extra communication step to repeatedly confirm that other nodes’ states are consistent with its expectations, reducing the risk of state inconsistency.</p><p>The two-vote process advances the time for detecting faults. If node A does not cast a vote in the commit phase, other nodes will know that node A has failed, rather than waiting until they have executed and then discovering that node A has not executed. More confirmation means more security, reducing the cost of system rollback after execution and trying to agree as much as possible before execution. This is probably the greatest role of the two-vote process.</p><p>Overall, the second vote never seems to demonstrate an indispensable significance but merely brings some benefits and enhances system security. This issue might be similar to why TCP requires three-way handshakes to establish a connection. Wouldn’t two be enough? Perhaps even one is sufficient, but it could cause some problems. Three confirmations are sufficiently secure.</p><h3 id="Stateless-vs-Stateful"><a href="#Stateless-vs-Stateful" class="headerlink" title="Stateless vs. Stateful"></a>Stateless vs. Stateful</h3><p>Why does PBFT require repeated confirmations to avoid state inconsistencies after execution? Maybe because any system rollback is a very cautious task, so the cost of communication before execution is increased.</p><h4 id="Stateless"><a href="#Stateless" class="headerlink" title="Stateless"></a>Stateless</h4><p>Returning to the single-vote scenario above, under what circumstances would the faulty node A not execute P’?</p><ol><li>Node A knows it failed to execute P.</li><li>Node A must execute P before executing P’.</li></ol><p>If these two conditions are met, even with a single vote, the same effect as the two-vote process can be achieved.</p><p>For stateless systems, if a node only records a final number, it would be quite difficult. The node knows it has not executed P and then receives a P’, but cannot distinguish whether P’ should be executed after P or is on an equal level with P.</p><p>The normal sequence is:</p><pre><code>O -&gt; P -&gt; P&#39;</code></pre><p>For node A, knowing it has not executed P but receives a P’:</p><pre><code>O -&gt; (P&#39;)?</code></pre><p>Should it execute? Node A does, and the state becomes chaotic.</p><p>For this reason, the execution in stateless systems is very cautious.</p><h4 id="Stateful"><a href="#Stateful" class="headerlink" title="Stateful"></a>Stateful</h4><p>Blockchain is a stateful system that naturally records its execution records (blocks) and enforces the ordering of requests (block hash, parent hash).</p><p>When a node receives a block, it can determine the position of the block, whether it should be executed in the current round, and whether it is missing blocks, promptly synchronizing the blocks from other nodes.</p><p>Therefore, in the context of blockchain, if the goal is merely to achieve the final state consistency of most nodes, a second vote is not necessary.</p><h3 id="Doubts"><a href="#Doubts" class="headerlink" title="Doubts"></a>Doubts</h3><p>Why does PBFT require two votes? This question lies at the knowledge boundary of GPT-4. If you ask it in detail, it will start making up answers, which is typical of GPT-4 when it does not know the answer.</p><p>With my limited internet search capabilities, I have never found a convincing reason that proves the second vote in PBFT is necessary.</p><p>After repeated deductions, the conclusion I have reached is that a second vote is not necessary, and a single vote can also achieve the same majority node consistency.</p><p>But why, for so long, have PBFT and various variants such as Tendermint and HotStuff retained the two-vote process? Why has no one ever questioned the necessity of the second vote?</p><p>Where exactly am I wrong? Perhaps my understanding of PBFT is not deep enough, and I have not touched upon the scenarios where the second vote truly plays a role. But if such scenarios exist, why can’t I find material that directly describes these scenarios?</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Why does PBFT require two rounds of voting, and what is the role of the second vote? This question has puzzled me for a long</summary>
        
      
    
    
    
    
    <category term="BFT" scheme="https://en.smallyu.net/tags/BFT/"/>
    
  </entry>
  
  <entry>
    <title>Developer&#39;s Mindset</title>
    <link href="https://en.smallyu.net/2024/05/30/Developer&#39;s%20Mindset/"/>
    <id>https://en.smallyu.net/2024/05/30/Developer&#39;s%20Mindset/</id>
    <published>2024-05-30T05:46:26.000Z</published>
    <updated>2025-08-06T10:38:27.645Z</updated>
    
    <content type="html"><![CDATA[<p>Prelude: “<a href="https://www.yinwang.org/blog-cn/2015/02/01/creative-thinking">Creative Thinking</a>“ — Wang Yin</p><hr><p>I’ve noticed a phenomenon: when you say A is good, someone will say A is not as good as B, so A is not good.</p><p>The first case is when you say SOL’s technology is better than BNB’s, it will spark controversy. Some people use the fact that SOL has experienced several outages to prove that SOL’s technology is not good. Others say that trading coins is not technology-driven but capital-driven, and that technology is not important. These viewpoints reflect their respective positions.</p><p>From a developer’s perspective, no one would regard BNB as a blockchain because it is a platform coin, with centralized node operations and an operational model that is not blockchain-like. Technically, it forked Geth’s code with some modifications, and adopted PoS earlier than Geth to increase control over the entire chain. After ETH completes the Cancun upgrade, BNB also imitated and implemented its own BIP-4844, clearly belonging to the same technical system as ETH.</p><p>Another perspective is that after ETH’s ETF is close to approval, people start discussing whether the next ETF will be for DOGE, SOL, or even DOT, but no one mentions BNB, which fully demonstrates that BNB is different from other public chains and not in the same track. To determine whether two products belong to the same track, one can see if there is a competitive relationship where one must die for the other to live. If BNB uses ETH’s technology but hopes ETH dies, it is illogical. The normal logic should be hoping ETH gets better, and BNB will also benefit.</p><p>From a user’s (trader’s) perspective, it doesn’t matter what technology you use or how good your technology is. A meme can be in the top ten in market value, a dog with a hat can be worth billions, I will go where the investors are, I will buy what capital speculates, FOMO is the way to go.</p><p>The second case is when you say SOL’s technology is good, others will say ETH is better, so SOL is not good.</p><p>It’s the same issue of perspective. From a user’s point of view, there are countless reasons to compare the pros and cons of two projects. When you say A is good, someone can always find a B that is better than A or a C that is better than A in some aspect. Using such techniques, they can defeat anyone or any project. There is also a huge space for controversy and a hierarchy of disdain, just like whether PHP is the best language in the world.</p><p>But from a developer’s perspective, if I want to develop a chain, my chain needs to compare technology and compete for the market with SOL. Can I do better than SOL? Certainly not. So, from this standpoint, isn’t it reasonable for me to say SOL’s technology is pretty good?</p><p>SOL here is just an example. Actually, any established public chain in the top 100 of CMC has some highlights, especially those that pioneered and tried different consensus algorithms. They may not be as well-known as ETH and SOL, but they have also achieved good results.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Prelude: “&lt;a href=&quot;https://www.yinwang.org/blog-cn/2015/02/01/creative-thinking&quot;&gt;Creative Thinking&lt;/a&gt;“ — Wang Yin&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;I’ve</summary>
        
      
    
    
    
    
    <category term="Mindset" scheme="https://en.smallyu.net/tags/Mindset/"/>
    
  </entry>
  
  <entry>
    <title>Key Points of Issuing Cryptocurrency</title>
    <link href="https://en.smallyu.net/2024/05/26/Key%20Points%20of%20Issuing%20Cryptocurrency/"/>
    <id>https://en.smallyu.net/2024/05/26/Key%20Points%20of%20Issuing%20Cryptocurrency/</id>
    <published>2024-05-26T14:31:26.000Z</published>
    <updated>2025-08-06T10:38:27.718Z</updated>
    
    <content type="html"><![CDATA[<p>First, here are two additional tips about investing in cryptocurrencies:</p><ol><li><p>Whether you are using Bitcoin, fiat currency, or another cryptocurrency as your base, it mainly depends on what you have on hand and which currency is easily accessible. The logic of having no silver bullet applies in any situation.</p></li><li><p>With ETH’s ETF halfway approved, it implies that the SEC might accept PoS, but the ETF funds cannot be used for staking (I still don’t understand why). Previously, I mentioned selecting from the top 100 on CMC, and it might need another condition: the cryptocurrency should not have been labeled as a security by the SEC. Maybe after personnel changes or new laws pass, cryptocurrencies will no longer be under the SEC’s jurisdiction. However, at least it shows that under the same standards, many cryptocurrencies have obvious problems. ETH has always been in an ambiguous state, so its current situation with the ETF is quite complicated.</p></li></ol><p>There are actually only a handful of safe and reliable cryptocurrencies. For example, DOT has a low profile, and the SEC has never defined DOT, but its staking rate has reached 57% of its circulation, maintaining an annual yield of 17%. I still can’t understand what this situation implies, what the consequences of a high staking rate are, and why DOT’s yield can be so high. If all holders receive the annual yield equally, wouldn’t it be equivalent to inflation, causing the price to drop? For the network, the higher the staking rate, the safer it is. However, the fewer coins in circulation, the less useful the coin is, and it cannot even be used for transaction fees. Such incomprehensible cryptocurrencies are also not worth buying.</p><p>Now, about issuing cryptocurrencies. Recently, I inadvertently listened to a recording of Li Xiaolai that was circulating online, and it was quite enlightening.</p><p>The core point of all cryptocurrencies is just one: to distribute the coins in a valuable way. The price of the coin is determined by what the holders believe it is worth. As long as holders do not sell, the price will not fall. Including BTC, it is distributed through mining, every 10 minutes, a fixed amount regardless of how many participants, with one winner every 10 minutes, adding randomness and encouraging active participation.</p><p>ETH is also distributed through mining, with block rewards every 12 seconds given to miners, similar to BTC. ETH’s two major black marks are:</p><ol><li>The development team pre-mined an unknown amount, and the ICO distributed tokens at a low price to many people in a black-box manner.</li><li>The unlimited issuance model, with no cap on the total supply, potentially causing inflation and implying that the development team can print money continuously.</li></ol><p>Li Xiaolai issued a coin called Caddy, collaborating with a community of millions of real users, selling it to them at one-tenth the price and encouraging them to like, share, and hype news online. Li Xiaolai himself said that to successfully plan a coin, being an influencer with traffic and influence is a crucial condition. Li Xiaolai, being an influencer, frequently publishes books, gives speeches, and is a well-known teacher at New Oriental, has a strong background.</p><p>The point about being an influencer ultimately attracts a large number of fans, who recognize the coin, and the coin reaches these fans at a certain price. Therefore, whether it’s mining, early airdrops, exchange LaunchPools, or incentive distributions, the goal is to distribute the coins to holders in a valuable way. Holders must pay a price for the coin to have value. Giving it away broadly for free makes the coin worthless, but pegging it one-to-one with the dollar makes it a stablecoin. This value must be controlled, neither too specific nor non-existent.</p><p>Additionally, tenfold or hundredfold coins have no logic. ETH’s hype is generally attributed to two main reasons: one is a national policy at the time that prevented BTC from being withdrawn from exchanges. The other is a Ponzi scheme using ETH with a daily interest rate of 1%, where many users bought ETH from exchanges and transferred it to the Ponzi scheme, driving up the price. Interestingly, during this period, ETH’s price increased by over a thousand times, and the Ponzi scheme could sustain itself for three years without collapsing.</p><p>FIL was once heavily mined in China, with its price soaring to 200. Why was the price so high? It was also due to a Ponzi scheme. Later, mining was banned in China, and now FIL has no vitality left, despite its genuinely good technology. Another example is NEO, which also rose by hundreds of times without a good technical foundation, having only a dozen centralized nodes and being written in C#, claiming to be the Chinese version of Ethereum. The main reason for its rise was also a financial scheme. The founders didn’t hold many coins, and even now, it’s evident that the coin price is periodically manipulated by the scheme.</p><p>So, technology is not the absolute priority. Technology serves as a basis for horizontal comparison. For instance, among several projects called ETA, ETB, ETC, and ETH, even a Ponzi scheme would choose a relatively reliable coin with something to hype. Then it’s up to fate.</p><p>As for gossip, many news reports state that Li Xiaolai was once the richest person in the crypto world, buying six-figure amounts of Bitcoin at a quarter of the market price, holding it for years through multiple bull and bear cycles, and finally selling it at a high price. But it’s not that simple. You can find many of Li Xiaolai’s Bitcoin lectures online, showing that he did not just buy and hold but understood Bitcoin’s complex knowledge, gave lectures, and logically believed in Bitcoin before entering the crypto world. This teaches us not to buy blindly, but to look carefully before buying, not just buying a token with a nice code on the exchange or based on promotional articles. Those who genuinely make money have a deep logical foundation and do a lot of homework.</p><p>Another version of the gossip is that Li Xiaolai organized a Bitcoin fund, raising tens of thousands of Bitcoins for private investments in mining, exchanges, and stocks, which resulted in heavy losses, with many people losing money and forming a rights group. Later, he invested in EOS and made back the money, paying off the debts at a discount. Li Xiaolai boasted about having six-figure Bitcoins, but he didn’t. The police couldn’t find them during a search, and Li Xiaolai is still restricted from leaving the country. Who knows if he really has Bitcoins? If he does, he can’t be let out. This teaches us that no one gets rich by trading cryptocurrencies. Li Xiaolai was already wealthy, and despite that, he kept engaging in various operations, investing, and running funds. Making money always involves doing things, not expecting to get rich from trading cryptocurrencies by just buying and holding. Even those who participated in Li Xiaolai’s Bitcoin fund were skeptical about Bitcoin’s future value, with many dropping out along the way. So, what about now?</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;First, here are two additional tips about investing in cryptocurrencies:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Whether you are using Bitcoin, fiat currency,</summary>
        
      
    
    
    
    
    <category term="Cryptocurrency" scheme="https://en.smallyu.net/tags/Cryptocurrency/"/>
    
  </entry>
  
  <entry>
    <title>Small Tips for Cryptocurrency Investment</title>
    <link href="https://en.smallyu.net/2024/05/04/Small%20Tips%20for%20Cryptocurrency%20Investment/"/>
    <id>https://en.smallyu.net/2024/05/04/Small%20Tips%20for%20Cryptocurrency%20Investment/</id>
    <published>2024-05-04T12:44:13.000Z</published>
    <updated>2025-08-06T10:38:28.701Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-BTC-is-the-Industry-Baseline"><a href="#1-BTC-is-the-Industry-Baseline" class="headerlink" title="1. BTC is the Industry Baseline"></a>1. BTC is the Industry Baseline</h3><p>The existence of Bitcoin underpins the entire cryptocurrency industry. If Bitcoin were ever to be discredited, deemed unsafe, not decentralized, or valueless, the whole industry would collapse. Bitcoin has never been surpassed. In fact, except for Bitcoin, all other cryptocurrencies are altcoins, especially in the eyes of veteran miners who have experienced the era of Bitcoin alone. Altcoins started as Bitcoin imitators, trying to make certain changes, including Ethereum. Vitalik also dabbled with colored coins, started chains from PoW, and raised funds in China. Everything started from Bitcoin.</p><h3 id="2-PoW-is-Resilient"><a href="#2-PoW-is-Resilient" class="headerlink" title="2. PoW is Resilient"></a>2. PoW is Resilient</h3><p>Around April 12, 2024, due to multiple factors, generally believed to be due to skirmishes between two countries potentially leading to war, all cryptocurrencies fell by an average of about 20%. Binance’s Gainer leaderboard was entirely red, which can be simply referred to as the 412 incident.</p><p>Observing the price changes during this period, it is evident that PoW-based coins generally fell less than PoS-based coins. Led by BTC, Doge, LTC, BCH, ZEC, ETC, and ETHW all showed smaller declines. After all, PoW chains involve miners investing real computational power and hardware costs, making them reluctant to sell at low prices. PoS, on the other hand, involves staking a lot of money into servers, generating money from money, which comes relatively easily. ETH, DOT, ADA, COSMOS, and many others—about 50 of the top 100 on CMC—are PoS-based with staking functions.</p><h3 id="3-BTC-Standard"><a href="#3-BTC-Standard" class="headerlink" title="3. BTC Standard"></a>3. BTC Standard</h3><p>The basic logic of crypto trading is based on the BTC standard, meaning trading altcoins against Bitcoin’s rate. Suppose you initially have 1 BTC and believe Doge’s upcoming rise will outperform BTC. You convert BTC to Doge, wait for Doge to rise by 20%, and then convert all Doge back to BTC. Your BTC has now increased from 1 to 1.2. This is the essence of the BTC standard.</p><p>From then on, you will ignore market fluctuations, undeterred by bull or bear markets, focusing only on the amount of Bitcoin you have—be it 1, 1.2, or 0.8. Regardless of how BTC’s price changes against fiat, it will double every four years, dropping before rising again, achieving all-time highs repeatedly.</p><p>Trading based on fiat standards usually ends in losses, with many suffering significant losses. This specifically refers to spot trading; avoid contracts entirely.</p><h3 id="4-Choose-from-CMC-Top-100"><a href="#4-Choose-from-CMC-Top-100" class="headerlink" title="4. Choose from CMC Top 100"></a>4. Choose from CMC Top 100</h3><p>Focus as much as possible on coins ranked in the top 100 on Coin Market Cap (CMC) and select from these. The reasons are twofold: the probability of a severe crash is lower, and support from the ecosystem is better. Lower-ranked coins can pose issues like wallet incompatibility, making transactions difficult. Or, a contract address change (as happened recently with an AI sector coin) can leave you stuck, as the old contract still runs at 20% of the price, while the new one operates at 80%.</p><h3 id="5-Founder’s-Departure-Marks-Decentralization"><a href="#5-Founder’s-Departure-Marks-Decentralization" class="headerlink" title="5. Founder’s Departure Marks Decentralization"></a>5. Founder’s Departure Marks Decentralization</h3><p>BTC is unique because its founder remained anonymous from the start, which was a very smart move. This anonymity allowed BTC to be widely speculated upon. Why are there so many asset types on BTC, like colored coins, RGB++, Taproot Assets, inscriptions, runes, and L2 assets still competing? Because no one can come forward to define a roadmap for Bitcoin, and no one knows how it should develop next.</p><p>In contrast, ETH’s founder actively participates in global conferences and gives talks, outlining Ethereum’s roadmap and guiding L2’s technological direction. When ETH was attacked by hackers, the founder led the community to fork away the attack history and transitioned the consensus mechanism from PoW to PoS. Such influence shows that ETH is centralized. ETH cannot pass the Howey test and is likely to be classified as a security under SEC standards.</p><p>If you created a coin and promoted it, it would seem inappropriate. However, if a coin is decentralized, you can promote it freely. You just like Doge, you can promote it as you wish.</p><p>BSV’s CW also lost a lawsuit this year. Some in the community see this as positive, believing CW’s departure signifies BSV becoming truly community-driven. Regardless of BSV’s future, the departure of the founder is a significant indicator.</p><p>Another example is ETC and ETHW. Both were forked by Baory, a controversial figure, but their market value, price, and TVL are notable. During the 412 incident, these two coins showed resilience. Although buying them is risky due to lack of technical updates and low GitHub activity, their prices remain intriguing. ETC and ETHW are truly without founders and are PoW coins.</p><p>Additionally, since Ethereum transitioned from PoW to PoS, the ETH&#x2F;BTC exchange rate has been declining, from nearly 0.1 to around 0.05 now.</p><h3 id="6-Others"><a href="#6-Others" class="headerlink" title="6. Others"></a>6. Others</h3><p>Let’s take a simple comparison of the CMC top 10:</p><ol><li>BTC: Industry baseline, market cap dominance of 50%</li><li>ETH: Creator of EVM and DeFi market, with a vast ecosystem, market cap dominance of 16%</li><li>USDT: The most widely used stablecoin, backed by US Treasury reserves</li><li>BNB: The largest exchange platform token</li><li>SOL: PoH+DPoS consensus mechanism, centralized, relies on a few sequencers to order transactions before handing them to validators for packaging</li><li>USDC: The safest stablecoin, backed by gold reserves</li><li>XRP: RPCA consensus mechanism</li><li>DOGE: PoW consensus, the largest meme coin, favored by Musk</li><li>TON: Chain issued by Telegram</li><li>ADA: Founded by a famous figure, developed using Haskell, UTXO + PoS</li></ol>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h3 id=&quot;1-BTC-is-the-Industry-Baseline&quot;&gt;&lt;a href=&quot;#1-BTC-is-the-Industry-Baseline&quot; class=&quot;headerlink&quot; title=&quot;1. BTC is the Industry</summary>
        
      
    
    
    
    
    <category term="Crypto Trading" scheme="https://en.smallyu.net/tags/Crypto-Trading/"/>
    
  </entry>
  
  <entry>
    <title>Why PoW is More Decentralized than PoS</title>
    <link href="https://en.smallyu.net/2024/04/14/Why%20PoW%20is%20More%20Decentralized%20than%20PoS/"/>
    <id>https://en.smallyu.net/2024/04/14/Why%20PoW%20is%20More%20Decentralized%20than%20PoS/</id>
    <published>2024-04-13T16:50:00.000Z</published>
    <updated>2025-08-06T10:38:28.725Z</updated>
    
    <content type="html"><![CDATA[<p>I want to compare PoW and PoS from the perspective of entry barriers.</p><p>We often describe a blockchain as either permissionless or permissioned. This means whether becoming a block-producing node requires authorization or not.</p><p>PoW is universally recognized as a consensus mechanism that does not require authorization for mining. As long as you have a computer, you can join the network and start mining. If you can compute the required hash value, even if done manually, you have the right to produce blocks, and you decide which transactions to include in those blocks. Whether you can compute it is another matter.</p><p>BFT is a typical consensus mechanism that requires authorization. Many projects using BFT-like consensus directly require a CA center to issue certificates, and only nodes with certificates can undertake mining responsibilities in the network. The reason why the CA center issues a certificate to you is entirely an offline action. The authority to become a block-producing node is firmly controlled by the CA center.</p><p>There is some controversy with PoS.</p><p>The SEC once defined 66 cryptocurrencies as securities, including high-market-cap coins like SOL and ADA. However, ETH was not included, which gave many people hope and left ETH’s PoS in a somewhat ambiguous space.</p><p>A significant fact is that PoS is a permissioned consensus mechanism.</p><p>In PoS, nodes often need to stake a certain amount of tokens to become block-producing nodes, and staking these tokens is the entry barrier for PoS.</p><p>A node wanting to become a block-producing node needs to acquire many tokens. Where do these tokens come from? Either they are allocated by the project at the genesis stage or subsequently bought from miners because miners will increase the supply of tokens.</p><p>Here’s the problem: imagine an extreme scenario where all token holders are unwilling to sell their tokens. Wouldn’t the control of the entire network be in their hands? Whether they are ten people or ten thousand, it is still a closed circle. Moreover, in PoS, the more tokens you have, the greater your power, which further increases PoS’s centralization.</p><p>At this point, you might wonder, with Ethereum’s success and millions of holders, thousands of institutions managing tens of thousands of block-producing nodes, isn’t it decentralized enough?</p><p>Therefore, we must distinguish two concepts: a decentralized consensus mechanism and a decentralized blockchain. These are not the same.</p><p>Even if BFT-like consensus only supports a scale of dozens of nodes, if these nodes are distributed worldwide and held by large consortia with conflicting interests, the chain can still be considered decentralized because it is unlikely that more than two-thirds of these stakeholders will cooperate.</p><p>Similarly, Ethereum being decentralized does not mean PoS is a decentralized technology.</p><p>Why do many project teams choose PoS over PoW to issue coins? Because PoW is uncontrollable and has a high risk of being attacked. Observing the current PoW chains, almost all are forks of Bitcoin, and there are very few new ones. Most new altcoins come from Ethereum’s tech stack.</p><p>Why is PoS controllable? As long as you don’t distribute the initial funds too widely, you have control over the entire chain. Even if distributed, as long as the overall proportion is controllable, the chain remains under your control.</p><p>But then, isn’t the mining resource of Bitcoin also controlled by a few manufacturers? If they are unwilling to sell mining machines, Bitcoin would always be controlled within a certain range. Not exactly; even without advanced mining machines, you can still participate in mining. Accumulating many outdated mining machines can still yield high computational power. At least no one has the authority to deprive you of the qualification to become a block-producing node.</p><p>In contrast, PoS is different; without enough money, you do not qualify to become a block-producing node. If token holders are unwilling to sell, you cannot obtain this qualification no matter how much effort you put in. PoS is essentially a consensus mechanism where the door is closed, and everyone negotiates internally, randomly selecting a block-producing node among qualified nodes and then voting.</p><p>What if there is a PoS without an entry barrier? All nodes are block-producing nodes, and one is randomly selected each round to produce blocks. This mechanism would inevitably suffer from Sybil attacks, eventually becoming a game of competing node numbers. Competing node numbers are not necessarily bad, as the number of nodes ultimately reflects hardware resources. Nodes with more hardware resources have a higher chance of being selected. I think such a consensus mechanism has further room for thought, but it faces many practical issues, such as how to use VRF to select the next block-producing node and whether the required network bandwidth for such a large number of block-producing nodes is supported by existing technology. Also, a PoS without an entry barrier is not really PoS.</p><p>15 years have passed, and Bitcoin has never been surpassed…</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;I want to compare PoW and PoS from the perspective of entry barriers.&lt;/p&gt;
&lt;p&gt;We often describe a blockchain as either permissionless or</summary>
        
      
    
    
    
    
    <category term="Consensus Mechanism" scheme="https://en.smallyu.net/tags/Consensus-Mechanism/"/>
    
  </entry>
  
  <entry>
    <title>What a Bull Market Means for the Average Person</title>
    <link href="https://en.smallyu.net/2024/03/13/What%20a%20Bull%20Market%20Means%20for%20the%20Average%20Person/"/>
    <id>https://en.smallyu.net/2024/03/13/What%20a%20Bull%20Market%20Means%20for%20the%20Average%20Person/</id>
    <published>2024-03-13T15:58:55.000Z</published>
    <updated>2025-08-06T10:38:28.718Z</updated>
    
    <content type="html"><![CDATA[<p>If you held some cryptocurrencies during the market downturn, the biggest significance of a bull market is that it allows your limited assets to gain in value.</p><p>If you are a Bitcoin believer, the biggest significance of a bull market is to prove that your faith is correct and that your foresight from a few years ago was valid. But that’s about it if you didn’t invest a lot of money back then.</p><p>Many people now regret not buying more Bitcoin at 38K when they see it at 70K. But a year ago, would you have dared to buy Bitcoin at 38K? Probably not. Who knew how much lower it could go at that time? If I told you Bitcoin would rise to 200K in a year, would you dare to buy it now? Still, probably not. It’s simple; no one can predict the future. Only in hindsight does everyone look like a stock market genius.</p><p>Recently, Bitcoin has trended on Weibo twice. People start paying attention when prices rise. I’ve also watched ETH drop from 3400 to 1800 and then climb back to 4000. But really, what kind of change does such volatility bring? Turning 10K into 20K? It doesn’t seem to mean much.</p><p>Bull markets are often accompanied by many get-rich-quick stories. In my understanding, there are several ways to make money:</p><ol><li><p>Trading, holding spot, and value investing. This is relatively stable with controlled risks but limited returns. How much you dare to invest depends on how much investable funds you have. Don’t be fooled by whales making millions; their actual assets are at least five times more than their investments. Similarly, the returns for ordinary people are limited. Betting your house on Bitcoin is gambling. Usually, people who make and lose a lot of money do so in a cycle. Only a few can stop at the right time, and those who can already have self-control beyond human nature.</p></li><li><p>Leveraging contracts. This type of trading should be done with small amounts, like 10 or 20 bucks for fun. If you want to make money, don’t touch it. You could lose all your money and not get it back. Market makers can do it if they can control the market, but that’s not for ordinary people.</p></li><li><p>Issuing meme coins. Jumping on the current trend, anything hot can be turned into a coin: AI coin for new AI tech, ROCKET coin if Musk tweets a rocket photo. There will always be players who buy for the hype. This method relies heavily on luck. Additionally, you need some operational and technical skills, like setting up trading pools and promoting on social media, along with some graphic design skills to create a decent logo.</p><p> Even if it’s not a meme coin, issuing a low-quality token can make money as long as people are willing to play and buy it. However, this requires some costs for technology, graphics, and operations. Many get-rich-quick stories stem from such coins. I’ve seen people succeed with this, but I don’t envy them because I know I can’t make that kind of money.</p></li><li><p>Phishing websites. This is outright illegal and requires hacking skills and experience, so it’s not an option.</p></li><li><p>Airdrop hunting. Now, airdrop hunters have turned it into a small industry, participating in early projects on a large scale. This is highly random and requires luck. Many people spent money on transaction fees and ended up with nothing. Moreover, it’s about the return on investment. Some airdrop hunters make millions on a single project, but they must have substantial assets to invest. Given the opportunity, most people wouldn’t have enough money to capitalize on it. I don’t engage much in airdrop projects, perhaps due to a lack of information.</p></li><li><p>DeFi. Earning yields by staking funds on platforms to earn interest. This carries the risk of the project rug-pulling, so you need to choose reliable projects.</p></li><li><p>MEV (Miner Extractable Value). This multi-billion-dollar market is already targeted by experienced players, and making money from it might require competing on speed.</p></li><li><p>Developing a technically demanding project and being a core developer, receiving initial token allocations and waiting for their value to multiply. This method is safer but rare, especially in the current market where few dare to start new developments. Most projects are integrations of existing technologies. Projects with significant contributions in specific technical directions are not only rare but also have high technical barriers, which are beyond the reach of ordinary people.</p></li><li><p>Regular work, steady job. Working in a crypto exchange is not much different from working in an internet company, with the main differences being the non-traditional office environment and getting paid in tokens.</p></li><li><p>Mining. Mining might not be profitable anymore.</p></li></ol><p>There are two types of bull markets: one driven by favorable policies leading to price increases, and another driven by new technologies attracting more players. The current bull market is the former. Besides crazy prices, no significant new technologies or phenomena have emerged. Apart from price changes, nothing else seems to have changed. Or, you could say, we’re still in the early stages of the bull market, and those who dare should quickly invest more :P</p><p>Another point is that a bull market attracts more capital, leading to more new projects and companies, possibly creating more job opportunities. Lately, some small, obscure companies have appeared, suggesting the job market might be slightly improving. However, these small companies likely work on the usual types of projects…working anywhere is the same. For those facing layoffs, the job market might feel a bit easier.</p><p>For the average person, the current bull market doesn’t seem to mean much. Tonight, Ethereum completed the Cancun upgrade, and it’s unclear if this will trigger another Layer 2 boom. I’m not much of an Ethereum believer; Layer 2 feels incomplete to me, and Ethereum now focuses on Layer 2 development. Similarly, some companies are working on Bitcoin Layer 2 projects, which I’m also not optimistic about. Bitcoin Core isn’t interested in scaling and could make BRC-20 projects disappear entirely.</p><p>So, should we believe in Bitcoin? It seems Bitcoin doesn’t relate much to the average person either. I hope a project representing faith will emerge.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;If you held some cryptocurrencies during the market downturn, the biggest significance of a bull market is that it allows your limited</summary>
        
      
    
    
    
    
    <category term="Cryptocurrency" scheme="https://en.smallyu.net/tags/Cryptocurrency/"/>
    
  </entry>
  
  <entry>
    <title>Recent Work in the Past Six Months</title>
    <link href="https://en.smallyu.net/2024/02/17/Recent%20Work%20in%20the%20Past%20Six%20Months/"/>
    <id>https://en.smallyu.net/2024/02/17/Recent%20Work%20in%20the%20Past%20Six%20Months/</id>
    <published>2024-02-17T02:49:03.000Z</published>
    <updated>2025-08-06T10:38:28.692Z</updated>
    
    <content type="html"><![CDATA[<p>The main work over the past six months has focused on three main tasks.</p><h4 id="Building-the-Abstract-Account-ERC-4337-Project"><a href="#Building-the-Abstract-Account-ERC-4337-Project" class="headerlink" title="Building the Abstract Account (ERC-4337) Project"></a>Building the Abstract Account (ERC-4337) Project</h4><p>An AA account is essentially a smart contract that implements features such as zero fees and social recovery through additional bundler and paymaster components. ERC-4337 defines a set of standards, including the interfaces that the contract must support, how the bundler interacts with the contract, and the role of the paymaster. Currently, there are roughly three to five different implementations for each component, with some variations in details, but all follow the ERC-4337 standard.</p><p>Last year, the concept of abstract accounts gained some popularity, possibly because Vitalik mentioned Soulbound. Project teams used AA accounts as a solution for Soulbound, creating some hype. Innovations like ERC-4337, which define standards rather than change the underlying technology, generally don’t have long-lasting impacts. It’s a series of standardized usage methods. While it might provide short-term solutions, it’s not a bad thing.</p><h4 id="Using-Op-Stack"><a href="#Using-Op-Stack" class="headerlink" title="Using Op Stack"></a>Using Op Stack</h4><p>Since Optimism open-sourced the entire Op Stack toolkit, launching an Optimistic Layer 2 has become easier. This led to the trend of one-click chain launches last year, with Base, opBNB, and others going live in a short period. Although Optimism’s Fault Proof is not yet perfect, even a slightly centralized project can be stable enough. The Op Stack can fully support launching your own network.</p><p>We ran AA accounts on a Layer 2 network, which supported a small gaming event. Despite some challenges along the way, we gained valuable experience. Diving deeply into these two types of projects is impossible within a limited timeframe, as each direction can be a specialized field. Currently, the status is barely usable.</p><p>However, have you noticed that concepts like AA accounts and one-click chain launches are short-lived? They were hot last year, but no one talks about them this year. This year, the focus has shifted to Bitcoin’s Layer 2, inscriptions, ERC-404, etc. Hot topics are always changing.</p><h4 id="Building-an-Ethereum-PoS-Network"><a href="#Building-an-Ethereum-PoS-Network" class="headerlink" title="Building an Ethereum PoS Network"></a>Building an Ethereum PoS Network</h4><p>Since The Merge, building the Ethereum network has become more complex. Although it saves the computational power consumption of mining, it requires the introduction of a complex validator governance mechanism to ensure orderly block production. PoS inevitably involves issues like becoming a validator and determining valid validators. Previously, nodes were divided into two types, execution layer and consensus layer. PoS solves the ungraceful block production issue of PoW, but at the cost of a complex set of rules.</p><p>Ethereum is currently the most diverse ecosystem chain, with five or six clients each for the execution layer and consensus layer, all implementing standard interfaces but with different experiences, especially in performance. A lot of time was spent testing each client.</p><p>Ethereum’s greatest asset is the EVM, not PoS. EVM compatibility has become a selling point for various chains. PoS was not invented by Ethereum; Cardano used PoS from the start and retained the UTXO model. Occasionally, people say Bitcoin and Cardano are the future. Compared to Ethereum, Cardano’s consensus mechanism is more like a Bitcoin alternative rather than Ethereum.</p><p>Bitcoin and Ethereum belong to two camps. Bitcoin focuses on cryptocurrency, while Ethereum explores applications beyond currency. Under each camp, many altcoins are active.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;The main work over the past six months has focused on three main tasks.&lt;/p&gt;
&lt;h4 id=&quot;Building-the-Abstract-Account-ERC-4337-Project&quot;&gt;&lt;a</summary>
        
      
    
    
    
    
    <category term="Work" scheme="https://en.smallyu.net/tags/Work/"/>
    
  </entry>
  
  <entry>
    <title>Maybe Things Aren&#39;t So Bad</title>
    <link href="https://en.smallyu.net/2023/11/29/Maybe%20Things%20Aren&#39;t%20So%20Bad/"/>
    <id>https://en.smallyu.net/2023/11/29/Maybe%20Things%20Aren&#39;t%20So%20Bad/</id>
    <published>2023-11-29T15:46:00.000Z</published>
    <updated>2025-08-06T10:38:27.719Z</updated>
    
    <content type="html"><![CDATA[<p>Recently, the update frequency of my blog has been off, and perhaps many other things have been problematic. I’ve been reflecting on what exactly went wrong; there must be multiple reasons.</p><h3 id="Work"><a href="#Work" class="headerlink" title="Work"></a>Work</h3><p>On the surface, the reason seems to be a lack of time. My effective working hours average around 7 hours per day, excluding breaks and idle time. Anyone who has truly worked would understand the intensity of such hours.</p><p>Regardless of work efficiency, the time is there. However, it’s strange that even with so much time spent, it feels like nothing substantial has been accomplished. If there were any tangible achievements, I would have mentioned them. The work progress doesn’t even meet my expectations. This situation boils down to two reasons: 1. Low work efficiency, 2. High expectations for work progress.</p><h4 id="Low-Work-Efficiency"><a href="#Low-Work-Efficiency" class="headerlink" title="Low Work Efficiency"></a>Low Work Efficiency</h4><p>I think both reasons are valid. There are some subjective reasons for low work efficiency, such as trying to solve bugs by increasing physical input. I’ve encountered this more than once. During debugging, I thought that even if it was inefficient, using a clumsy method and being patient would solve the problem, as it was just a temporary issue. Unexpectedly, once I got into it, I couldn’t get out. The complexity of the bugs exceeded my expectations. If I had spent more time understanding the issue from the beginning instead of mindlessly trying, the results might have been better.</p><p>But who could have imagined that merely getting the software to run would involve so many pitfalls, beyond comprehension. A new colleague recently encountered a baffling issue related to this technology. I spent at least two hours on it without solving it, ultimately being helpless. It reminded me of the many bizarre problems I’ve faced before… Perhaps it’s just a strange path, and you have to step on a few pitfalls to get through.</p><p>I can understand and empathize with myself for choosing such clumsy methods at the time. When I first started, the primary goal was to complete the tasks and solve the problems, even if it meant spending more time and not doing things perfectly. Additionally, the software ecosystem wasn’t very reliable, with small projects needing to be pieced together from different companies, each with its own unique characteristics, to run according to expectations and logic.</p><h4 id="High-Expectations-for-Work-Progress"><a href="#High-Expectations-for-Work-Progress" class="headerlink" title="High Expectations for Work Progress"></a>High Expectations for Work Progress</h4><p>Then there’s the issue of high expectations for work progress. This involves a fundamental change in logic. For a research-based blockchain company, regardless of project size, the goal is to develop a product in a specific technical area, strive to become a leader, attract fans who see the potential in the field, and then earn money by issuing coins. Specifically, getting the development environment up and running is just the first step; subsequent development is the focus.</p><p>For a game-focused blockchain company, the approach is different. In terms of blockchain, the focus is more on being a user, hoping to run a blockchain network stably, and then integrating the game and blockchain concepts in some form. Specifically, setting up the environment and choosing the most reliable way to run the network is the focus, even if it involves minor modifications, mainly to adapt the deployment tools to fit our use.</p><p>This creates a misunderstanding of work progress. Due to the original thinking inertia, setting up the environment is considered the simplest step and not part of the main work rhythm, making it feel like progress is delayed. There’s a desire to speed up as much as possible, leading to a lot of mental and physical stress. However, if you change your perspective, setting up the environment is already a main focus. Running and maintaining a stable network environment is the actual work content. Understanding this makes things much clearer.</p><p>Another example is the difference in work nature. Blockchain projects target a technically knowledgeable audience who understands the technical features, whether they are customers or users, so the project needs to have differentiated features. If a blockchain project implements exactly the same functionality as a well-known project, even directly using some open-source code as a selling point, it’s quite strange. The project itself becomes unnecessary. Conversely, developing every line of code yourself demonstrates a strong team capability.</p><p>Chain game projects target a different audience, primarily gamers and opportunists. They prefer using well-known open-source projects with minimal changes, just to run it directly. Users are more likely to trust your blockchain network if it’s reliable. It’s absurd for a techie to seek blockchain features in a chain game project. A gamer with a belief in the game and willing to participate in its ecosystem is the normal logic.</p><h3 id="Industry"><a href="#Industry" class="headerlink" title="Industry"></a>Industry</h3><p>On a deeper level, I’ve lost confidence in the industry’s future.</p><p>The US is one of the few countries that completely bans cryptocurrency, not allowing overt transactions, mining is prohibited, and issuing coins, while not legislated against, is clearly illegal. Financial operations are impossible, leaving the entire industry in a gray area. Over the past few years, well-known blockchain companies have gradually disappeared. Looking directly, job postings on recruitment software are from months ago or have disappeared. The market is terrifyingly bad, with no signs of improvement in the short term.</p><p>In such a situation, it’s hard not to feel powerless. Worse than failure is the lack of opportunities to move forward. If the entire industry is struggling, what should the practitioners do? Without hope, there’s no enthusiasm for the future, leading to a sense of despair, and it’s hard to find interesting things in such a low mood.</p><p>The blockchain-dominated industry is almost impossible in the US.</p><p>As mentioned earlier, different types of companies have different work mindsets, so perhaps chain games have some survival space. Chain games are primarily game-driven, with the need to run a blockchain network, which somewhat leaves room for blockchain. Although there’s a significant difference in work nature, the different target audience and profit models cause the differences in work content. Even gray websites have tech personnel for upgrades and maintenance.</p><p>Of course, there are many types of chain games. I believe blockchain-dominated games will definitely die, but games with blockchain elements added might have a chance. The key is whether game companies are willing to align with blockchain. I’m not familiar with the gaming industry, and chain games are quite complex. From my impression, it’s hard for games to survive in the US; they need to target external markets. Overall, it’s not a highly hopeful direction but at least not utterly hopeless. I’ll pay more attention to it going forward.</p><h3 id="Politics"><a href="#Politics" class="headerlink" title="Politics"></a>Politics</h3><p>At the deepest level, the overall economic environment is poor.</p><p>In the past two years, the global economy has been on a downward trend. Now, the US faces the most severe recession in decades, potentially entering an era of economic depression in the coming years. So it’s not just the blockchain industry with no prospects, especially in the US, but all sectors are in a dire situation. People see no hope for another economic rise.</p><p>By frequently watching political shows, I’ve seen too many flaws in the political system and tragic events in society. It’s clear that the US is a country where everyone feels insecure. Various information and opinions seem to declare that the US political system is frequently changing, the society is about to enter turmoil, and real war might be imminent. In such a crisis, individuals need to be prepared to protect themselves.</p><p>However, over time, doubts arise—are things really that bad? The job market is indeed poor, worse year by year. Even at a glance, malls seem less crowded, and once bustling shopping districts have many closed stores. Recently, clothing stores in malls have started adding customers as friends, trying to expand online sales. Yet, many businesses are still operating normally, concerts are held worldwide, TV shows are continually produced, and some excellent open-source software was born in the years of war. Some tech startups didn’t stop because of changes in the social environment.</p><p>Recently, I learned a term called “political depression,” meaning a loss of confidence in life due to dissatisfaction with the social environment. In the US, any social event, if delved deeply, can be traced back to the ruling party. Although the US economy is unlikely to grow upwards, its enormous scale also means it won’t collapse quickly. Many believe it will deteriorate slowly but not collapse. This means the current difficult social environment will persist for many years.</p><p>Historically, several major economic depressions didn’t lead to national upheaval but were endured gradually. During economic depressions, while most industries decline, a few can thrive by aligning with the downturn. A typical example is lipstick sales significantly increasing during economic downturns because it’s a low-cost item that brings joy to women. Similarly, movie sales increase as it’s a cheaper form of entertainment when people’s purchasing power declines.</p><p>A more prominent example is during Japan’s “Lost Thirty Years,” where the manga industry and otaku culture thrived. Many people preferred immersing themselves in cultural works to escape the painful reality, finding joy in a virtual world. There were also forced factors— in a low economic environment with high youth unemployment, staying at home became common, creating favorable conditions for otaku culture. For similar reasons, I started paying attention to and favoring the chain game industry, hoping to find new opportunities.</p><h3 id="What-to-Do"><a href="#What-to-Do" class="headerlink" title="What to Do"></a>What to Do</h3><p>Here are some insightful sayings to share.</p><p>“You can’t earn money beyond your cognitive level.” There are many scams online, especially in the cryptocurrency field, like airdrops, MEV Bots, winning prizes, including coin speculation, engraving, and mining. What to buy and what not to buy, realizing this phrase is true when you actually fall for scams. If you’ve been deceived, you’ll believe this phrase even more.</p><p>“A person’s cognition matches their suffering.” This describes the protagonist of a recent tragic incident. A couple in the US bought a stalled building, had no help, and were even beaten by the developer. The sudden collapse of real estate is one thing, but their decision to buy at an inappropriate time shows their lack of understanding, causing them to bear the</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Recently, the update frequency of my blog has been off, and perhaps many other things have been problematic. I’ve been reflecting on</summary>
        
      
    
    
    
    
    <category term="Work" scheme="https://en.smallyu.net/tags/Work/"/>
    
    <category term="Life" scheme="https://en.smallyu.net/tags/Life/"/>
    
  </entry>
  
  <entry>
    <title>How to Work Remotely in a Healthy Way</title>
    <link href="https://en.smallyu.net/2023/10/10/How%20to%20Work%20Remotely%20in%20a%20Healthy%20Way/"/>
    <id>https://en.smallyu.net/2023/10/10/How%20to%20Work%20Remotely%20in%20a%20Healthy%20Way/</id>
    <published>2023-10-09T16:39:09.000Z</published>
    <updated>2025-08-06T10:38:27.708Z</updated>
    
    <content type="html"><![CDATA[<p>In the past two months, I’ve been working remotely. However, remote work isn’t as glamorous as many imagine, like wearing swimsuits on the beach and closing million-dollar deals with a laugh. Remote work simply means a different office location. The work system and processes depend on the company’s and team’s culture and atmosphere, which we’ll not discuss here.</p><p>Remote work has its pros and cons compared to on-site work. One advantage is the convenience of creating a comfortable work environment. For instance, if the height of the desk isn’t right, you can change it to one that suits you, which isn’t easy to do with an office desk.</p><p>However, there are downsides too. For example, having the same place for living and working can blur the boundaries between life and work. I’ve had extreme situations where I was stuck on a bug with no clues, feeling frustrated. I went to bed but couldn’t sleep, got up at 1 AM to debug for an hour, made some progress, went back to sleep, and continued debugging at 8 AM the next day, then worked for the whole day. This is very unhealthy behavior that must be avoided.</p><p>To address and resolve bad habits, clear and feasible rules are needed to regulate personal behavior. As participants, we should know how to maintain our physical and mental health while working remotely.</p><h3 id="Work-Location"><a href="#Work-Location" class="headerlink" title="Work Location"></a>Work Location</h3><p>Because a suitable work environment is necessary, you can’t choose your work location too freely. Working in a mall, coffee shop, library, or study room is inappropriate. Not only do you need to buy coffee, but such seating isn’t suitable for long hours, and having video meetings in public places is inconvenient. Especially for programmers, you need a 27-inch external monitor, an ergonomic chair, and a focused environment. If you work late, coffee shops won’t be open, which is problematic.</p><p>Shared offices like WeWork have limited options and are very expensive, costing 100 to 300 yuan per day. Long-term use is costly, and many shared offices don’t allow you to store personal items. The industry is not mature and not a good choice.</p><p>Overall, the work location can only be in your own room. If you own a house with a spare study or room, that room can be used as a work location.</p><p>If you’re renting, the situation is slightly worse. Generally, you’d only rent a bedroom, so your desk becomes your workspace. Renting another room specifically for remote work is costly. Providing a workspace is originally the company’s responsibility, so passing this cost onto employees is unreasonable.</p><p>Another solution is to move to a low-cost city. Since remote work isn’t location-bound, reducing expenses while improving quality of life is feasible. However, this only applies if you have no friends in your current city. Otherwise, even for one person, you can’t change cities.</p><h3 id="Clear-Boundaries-Between-Life-and-Work"><a href="#Clear-Boundaries-Between-Life-and-Work" class="headerlink" title="Clear Boundaries Between Life and Work"></a>Clear Boundaries Between Life and Work</h3><p>On-site work offers a clear distinction between life and work as you move between home and the office. You may feel that no matter how tired you are, home is for rest. You might leave your computer at the office, not bring it home, or the work environment might be on the company intranet, making it impossible to work from home. Various reasons create a clear distinction between work time and personal time.</p><p>However, remote work blurs these boundaries. Imagine having a bed next to your office desk at work, with all living essentials provided. Waking up to see your desk is terrifying.</p><p>Imagine living a whole day, starting work an hour after waking up, ending work two hours before bed, and spending all your non-working time in the same room. It’s a maddening scenario.</p><p>The most important aspect of remote work is ensuring clear boundaries between life and work. Here are some behaviors to achieve this:</p><ul><li>Get up on time and reserve “commute” time.</li><li>Take a walk during your usual commute time, pretending to commute. Don’t sleep in.</li><li>Dress in proper clothes and shoes for work, not home wear or pajamas. Be ready to go out at any time.</li><li>Adjust the external webcam to indicate work time.</li><li>Turn on a desktop clock to indicate work time.</li><li>Open the window to indicate work time.</li><li>After work, take a walk to end the workday.</li><li>After work, mop the floor so it’s wet.</li><li>Don’t do work-related tasks on your computer after work.</li><li>…</li></ul><p>These actions aren’t specific or necessarily good, just examples. The point is to send yourself clear signals through a series of physical actions. After four or five actions, you’re in work mode; after another four or five, you’re off work. Relying solely on time concepts to switch between work and personal time is difficult. Self-disciplined people might manage it, but if you can’t, rely on physical behaviors to create boundaries.</p><h3 id="Outdoor-Activities"><a href="#Outdoor-Activities" class="headerlink" title="Outdoor Activities"></a>Outdoor Activities</h3><p>As mentioned earlier, taking a walk during your usual commute time helps maintain a similar routine to on-site work and, more importantly, ensures you spend enough time outdoors for health. Even a simple walk is better than staying home all day.</p><p>Some think the benefit of remote work is saving commute time for more sleep. This is wrong. The extra time should be used for exercise. No one can stand staying home all the time.</p><h3 id="Social-Activities"><a href="#Social-Activities" class="headerlink" title="Social Activities"></a>Social Activities</h3><p>After starting remote work, I even began to suspect that talking to people is a physiological need. Maybe due to serious work, spending the whole workday in the same place without seeing people or talking makes me extremely eager to go out and play on weekends.</p><p>It’s not about how fun the games are but about changing the environment, relaxing, meeting different people, playing different games, and doing things unrelated to work.</p><h3 id="Pomodoro-Technique"><a href="#Pomodoro-Technique" class="headerlink" title="Pomodoro Technique"></a>Pomodoro Technique</h3><p>In an office, various small events—someone talking to you, passing by your desk, making noise, or you getting a drink, buying a beverage, or using the restroom—distract you and break your concentration. These interruptions can be annoying but prevent prolonged focus.</p><p>Too much focus isn’t good. It dulls the mind and pressures the body, causing back and neck pain. People need to stand and stretch periodically.</p><p>The Pomodoro Technique means working for 25 minutes and resting for 5, which is one Pomodoro. This time distribution is popular for a reason—it’s effective.</p><p>Don’t use software like Stretchly that pops up on the screen. It’s frustrating and you’ll likely close it. Even with a 30-second warning, it doesn’t improve the experience. If you can’t stop within 30 seconds, the break is ineffective. Pop-ups covering the screen can cause slight anxiety, worrying about missing messages or screen updates.</p><p>Instead, use a countdown timer with an alarm. After 25 minutes, the alarm sounds and won’t stop until manually turned off. This persistent reminder encourages you to stand and relax. Of course, you must be disciplined enough to stand and turn off the alarm.</p><p>Sometimes, you might forget to start the timer. Setting multiple alarms to ring at specific times, like 25 and 55 minutes past each hour, can help. You don’t have to follow the alarm times strictly, but at least they remind you to rest.</p><p>Moderate breaks improve efficiency. Difficult problems often find solutions during relaxation.</p><h3 id="Ritual"><a href="#Ritual" class="headerlink" title="Ritual"></a>Ritual</h3><p>As a supplementary note, the behaviors described above create a sense of ritual. Both starting and ending work need rituals, often created by the environment. Sometimes, you can create them yourself. Life needs rituals.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;In the past two months, I’ve been working remotely. However, remote work isn’t as glamorous as many imagine, like wearing swimsuits on</summary>
        
      
    
    
    
    
    <category term="Work" scheme="https://en.smallyu.net/tags/Work/"/>
    
    <category term="Remote Work" scheme="https://en.smallyu.net/tags/Remote-Work/"/>
    
  </entry>
  
  <entry>
    <title>Why Bitcoin Doesn&#39;t Use Probabilistic Encryption Functions</title>
    <link href="https://en.smallyu.net/2023/10/04/Why%20Bitcoin%20Doesn&#39;t%20Use%20Probabilistic%20Encryption%20Functions/"/>
    <id>https://en.smallyu.net/2023/10/04/Why%20Bitcoin%20Doesn&#39;t%20Use%20Probabilistic%20Encryption%20Functions/</id>
    <published>2023-10-04T14:36:18.000Z</published>
    <updated>2025-08-06T10:38:28.722Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Probabilistic-Encryption-Functions"><a href="#Probabilistic-Encryption-Functions" class="headerlink" title="Probabilistic Encryption Functions"></a>Probabilistic Encryption Functions</h3><p>In common symmetric encryption, one plaintext corresponds to one ciphertext. There is a type of encryption called probabilistic encryption, which introduces randomness during the encryption process, resulting in one plaintext corresponding to multiple ciphertexts.</p><ol><li>Why Probabilistic Encryption Functions Are Rarely Used</li></ol><p>It’s essential to distinguish between three concepts: encryption, signatures, and hashing. Probabilistic encryption functions are a type of symmetric encryption, but in reality, encryption—whether symmetric or asymmetric—is rarely used in blockchain systems. Bitcoin’s white paper only mentions signatures and hashing; signatures are used to confirm asset ownership when initiating transactions, and hashing is used to confirm block creation during mining. It does not mention the use of encryption.</p><p>The main reason for the limited use of encryption is its limited application scenarios. Storage projects might use file encryption, but that falls under user behavior, and the blockchain system itself does not participate in data encryption protection.</p><p>Replacing signatures and hashing with probabilistic encryption functions is impossible since they do not have such capabilities.</p><ol start="2"><li>The Probability Distribution of Probabilistic Encryption Functions</li></ol><p>Where there is probability, there is a probability distribution, such as a normal distribution. For probabilistic encryption functions, a uniform probability distribution is ideal; otherwise, if the probability distribution is known, an attacker might infer the plaintext from the ciphertext, which is very dangerous. Only with consistent random strength can attackers be thwarted.</p><p>Therefore, probabilistic encryption functions have almost no choice but to strive for uniform distribution, which is a common approach.</p><h3 id="New-Style-Floor-to-Ceiling-Windows"><a href="#New-Style-Floor-to-Ceiling-Windows" class="headerlink" title="New Style Floor-to-Ceiling Windows"></a>New Style Floor-to-Ceiling Windows</h3><p>In a beautiful and harmonious animal forest, floor-to-ceiling windows suddenly became popular. These houses not only have good lighting but also boast beautiful and high-end designs. The little fox is a famous architect who can build these trendy houses with large floor-to-ceiling windows. The forest animals flock to the little fox to have houses built.</p><p>The little parrot, a jack-of-all-trades in the forest, is well-informed and eloquent. It is also the strategist beside the river’s overlord, the hippo, often giving the hippo advice. Upon hearing about the trend of floor-to-ceiling windows, the hippo also wanted to build one. However, the hippo, due to its high status, did not want to use the common design. So, it asked the little parrot to come up with an idea.</p><p>The little parrot, after much inquiry, accidentally heard the term “fiberglass,” a newly emerged synthetic material known for being shatterproof and highly resilient. Delighted, the little parrot hurriedly informed the hippo, claiming to have discovered a revolutionary new building material that could replace glass and lead the next generation of housing trends!</p><p>The hippo, satisfied, invested in and commissioned the little parrot to find someone to build the house, ensuring the construction plan remained confidential. The innovation had to be kept secret.</p><p>Hearing about this, the little fox became curious. Having built houses for years, the little fox had never heard of such a new material. It was surprising that the little parrot could make such a significant innovation. Coincidentally, the little parrot’s construction team was recruiting, so the little fox eagerly joined to participate in the hippo’s house construction team.</p><p>However, upon joining, the little fox was stunned. Fiberglass is not glass; it is opaque! How could it replace glass? If they insisted on using fiberglass, the house would be uninhabitable. If they didn’t use fiberglass, they would have to use glass, which would mean no innovation!</p><p>Eventually, the little fox left the little parrot’s construction team…</p><h3 id="Dunning-Kruger-Effect"><a href="#Dunning-Kruger-Effect" class="headerlink" title="Dunning-Kruger Effect"></a>Dunning-Kruger Effect</h3><p>The Dunning-Kruger effect is a type of cognitive bias, particularly describing the phenomenon of underestimating or overestimating one’s abilities. When experts in one field attempt to make revolutionary innovations in another field, it can be attributed to the Dunning-Kruger effect. However, there are nuances, and a more accurate description might be “overconfidence beyond one’s domain,” or more professionally, “professional illusion.”</p><p>From a psychological perspective, this phenomenon is explainable, but in reality, there is another critical factor—a kind of invisible force…</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h3 id=&quot;Probabilistic-Encryption-Functions&quot;&gt;&lt;a href=&quot;#Probabilistic-Encryption-Functions&quot; class=&quot;headerlink&quot; title=&quot;Probabilistic</summary>
        
      
    
    
    
    
    <category term="Psychology" scheme="https://en.smallyu.net/tags/Psychology/"/>
    
    <category term="Encryption" scheme="https://en.smallyu.net/tags/Encryption/"/>
    
  </entry>
  
  <entry>
    <title>Pirates</title>
    <link href="https://en.smallyu.net/2023/10/03/Pirates/"/>
    <id>https://en.smallyu.net/2023/10/03/Pirates/</id>
    <published>2023-10-03T09:57:04.000Z</published>
    <updated>2025-08-06T10:38:27.726Z</updated>
    
    <content type="html"><![CDATA[<p>Maybe the hero walked out of the maze<br>He was a bit confused<br>What is a hero?<br>A heart of justice, protecting the homeland, slaying dragons, rescuing princesses<br>And now the hero<br>Stays home, struggles to survive, weary of life<br>And<br>No dragon destroys villages, no princess is kidnapped<br>No homeland needs protection, no princess needs rescue  </p><p>Maybe the hero has seen dragons<br>Some dragons are fierce and brutal, some dragons are kind and friendly<br>They follow the laws of nature, survival of the fittest, bullying the weak<br>They were never wrong  </p><p>However<br>The world is still full of evil<br>Poverty, hunger, war, chaos, suffering<br>There are demons more terrifying than dragons<br>They disguise themselves as humans<br>Redeeming humans<br>Destroying humans<br>Becoming humans<br>You can try to become a demon<br>Or at least not become a demon  </p><p>As for the hero’s later experiences<br>It seems really unremarkable<br>Nothing more than<br>Swordsmanship, magic, attack, dodge<br>Fighting monsters, leveling up, equipment, gold coins<br>There were some small setbacks<br>Maybe big setbacks<br>Maybe<br>It’s the necessary path to becoming a hero  </p><p>Maybe<br>The hero prefers the vast ocean<br>Becoming a pirate<br>Pursuing freedom, adventure, wealth<br>Life is not always full of hope<br>But pirates are often full of passion<br>For ideals, or momentary pleasure  </p><p>Whether pursuing power, cruelty, domination<br>Whether on a deserted island, in prison, in dire straits<br>They always smile<br>With elegant, rough, or embarrassing postures<br>Facing failure  </p><p>This world is as you expect<br>Tragic and exciting</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Maybe the hero walked out of the maze&lt;br&gt;He was a bit confused&lt;br&gt;What is a hero?&lt;br&gt;A heart of justice, protecting the homeland,</summary>
        
      
    
    
    
    
    <category term="Hero Stories" scheme="https://en.smallyu.net/tags/Hero-Stories/"/>
    
  </entry>
  
  <entry>
    <title>The &quot;Obedience to Authority&quot; Psychology of Programmers</title>
    <link href="https://en.smallyu.net/2023/07/30/The%20%22Obedience%20to%20Authority%22%20Psychology%20of%20Programmers/"/>
    <id>https://en.smallyu.net/2023/07/30/The%20%22Obedience%20to%20Authority%22%20Psychology%20of%20Programmers/</id>
    <published>2023-07-30T14:35:34.000Z</published>
    <updated>2025-08-06T10:38:28.701Z</updated>
    
    <content type="html"><![CDATA[<p>Recently, I experienced something: I joined a startup and voluntarily resigned after working for two weeks. Although it was only a short two weeks, it felt like a long time, and I learned or realized many things from it. There are many reasons for leaving, involving specific issues, which I will continue to reflect on and summarize. Today, I thought of an interesting topic that can serve as a simple entry point. Of course, there are some inconvenient things that I won’t mention :P</p><p>I found that the programmer community generally has an “animalistic” trait: whoever has the best technical skills is the most powerful, and whoever is technically proficient, I will listen to and respect. I might even call them a god or a big boss, worship them, and believe in them. Conversely, if someone with poor technical skills becomes my team leader, technical director, or CTO, directing my work, I will not respect or be willing to listen to them. For managers, if their abilities are not convincing, it will be particularly difficult to advance things.</p><p>This issue was also mentioned by Luo Yonghao in a certain program, but I don’t remember if it was in his entrepreneurship podcast or some interview program. I specifically looked for it but couldn’t find it since he has too many quotes. At the same time, I realized that after having the experience of joining a startup and observing some phenomena, looking back at his <a href="https://www.youtube.com/@zhuangyuanli/videos">entrepreneurship podcast</a>, what he said is indeed quite valuable for startup companies.</p><p>This phenomenon is not only present in the programmer community but also in many films and TV dramas. For example, in the forest, the lion with the strongest fighting power is the king; in monkey groups, the strongest becomes the monkey king; or in a brave and skilled primitive tribe, power is contested by force, and the winner is obeyed. Similarly, in Western cowboy duels, the winner gains a certain status and symbol, and so on.</p><p>This phenomenon is called the “obedience to authority” psychology. Analyzing the word authority, authority is not actually a negative term. Although we see some opinions saying to overthrow authority and not blindly believe in authority, the authority in that context refers to those who have gained power illegitimately, those who are undeserving, and those who deceive the masses. The authority in “obedience to authority” refers to the true strong individuals within the group. Most people are not averse to true strong individuals.</p><p>Returning to workplace relationships, according to my superficial understanding, workplace relationships can be simply divided into “collaborative relationships” and “subordinate relationships.”</p><p>Typical collaborative relationships include cooperation between companies, cooperation between partners within a company, cooperation between two department heads, cooperation between two team leaders, and so on. The status is equal. In such collaborative situations, abilities can be complementary. One party has ability A, the other party has ability B, and cooperation can yield greater results. Many companies have roles like CEO, CTO, and COO, which are backed by extremely professional abilities.</p><p>Subordinate relationships are also easy to understand: between bosses and employees, between leaders and subordinates. As long as there is a superior-subordinate relationship, it belongs to a subordinate relationship. Generally, the abilities in subordinate relationships are vertical. For example, the CTO is responsible for setting the technical route and strategic direction, and frontline technical personnel complete specific work according to the plan. This belongs to different role divisions, but both the CTO and subordinates have technical backgrounds. If the company’s COO leads the technical team, wouldn’t things be messed up?</p><p>The “obedience to authority” psychology of programmers exists in subordinate relationships, requiring a vertical comparison to produce the so-called “authority.” In collaborative relationships, the abilities are not measured by the same standard, making it difficult to compare.</p><p>Since this psychological phenomenon is widespread and objectively exists, what inspiration does it offer us?</p><p>For the non-authoritative side: Understand what kind of authority you should pursue. For example, if you feel pressure from your superior at work, understand whether it is meaningful pressure or meaningless pressure. If the other party is an authority in your field, strive to improve your abilities, defeat them, and become the new authority. If the other party is not an authority in your field and is only directing you for some reason, you should resist or leave the difficult situation in time.</p><p>For the authoritative side: Understand the source of your authority. For example, technical ability is also hierarchical. If you have a broad technical vision and some non-authoritative person challenges you with how many words they can type in a minute, you can completely ignore it without worrying.</p><p>If you do not possess authoritative ability but are in an authoritative position, what should you do? Transform subordinate relationships into collaborative relationships, so you don’t have to worry about someone challenging authority, not being convincing, or someone being unconvinced. Because the “obedience to authority” psychology only exists in subordinate relationships and rarely appears in collaborative relationships. In simple terms, leaders who are not experts should know how to delegate power.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Recently, I experienced something: I joined a startup and voluntarily resigned after working for two weeks. Although it was only a short</summary>
        
      
    
    
    
    
    <category term="Programmer" scheme="https://en.smallyu.net/tags/Programmer/"/>
    
    <category term="Psychology" scheme="https://en.smallyu.net/tags/Psychology/"/>
    
  </entry>
  
  <entry>
    <title>Blockchain Technology Interview Questions</title>
    <link href="https://en.smallyu.net/2023/07/12/Blockchain%20Technology%20Interview%20Questions/"/>
    <id>https://en.smallyu.net/2023/07/12/Blockchain%20Technology%20Interview%20Questions/</id>
    <published>2023-07-11T17:01:09.000Z</published>
    <updated>2025-08-06T10:38:27.639Z</updated>
    
    <content type="html"><![CDATA[<p>Having gone through many interviews recently, I’ve noticed a common phenomenon: it’s hard to have a meaningful conversation with the interviewer. Usually, interviewers only ask about the technologies they know and care about, which are often not the ones I focus on. For example, my resume mentions work related to State channels. If an interviewer knows what State channels are, they would certainly ask about the principles of HTLC. However, only one interviewer from a company specializing in blockchain projects asked me about it. And they didn’t hire me.</p><p>Although I’ve had many interviews and been rejected many times, most of the questions I’ve been asked are heavily web2-centric technical details. Few people have stumped me on blockchain-related topics, especially those mentioned on my resume. Therefore, I don’t feel too frustrated; instead, I often complain about why they focus on things I find unimportant. If I can understand a blockchain technology that takes two to three months to master, how can I not grasp a programming language issue that takes only half an hour to understand?</p><p>So, I thought, if I were the interviewer, what questions would I ask a candidate applying for a blockchain developer position? These questions are generally applicable and can delve deeper and expand:</p><ol><li>What is Bitcoin’s consensus mechanism, and what is UTXO?</li><li>What is Ethereum’s consensus mechanism, and how is the block proposer selected?</li><li>What other chains do you know, and what are their technical characteristics?</li><li>What is the PBFT process, and which consortium chains are there in China?</li><li>What are the variants of PBFT, and which chains use them?</li><li>What are the types of Layer 2 technologies?</li><li>What are the principles of State channels and Rollups?</li><li>How is an account wallet generated, and what is a keystore file?</li><li>What are the storage-based blockchains, and what are their challenges?</li><li>What are the limitations of the Solidity language, and how does it differ from Go?</li><li>Do you understand object-oriented programming, and have you written Java?</li><li>Are there random numbers in blockchain, and how are they used?</li><li>How are contract transactions processed by the virtual machine, and how can support for another language be added?</li><li>What are eclipse attacks and Sybil attacks?</li><li>Have you studied cross-chain assets, and what is the general process?</li></ol><p>These questions do not have a specific order and are relatively basic, meant to spark further discussion. Suddenly, I remember being asked in an interview, “How are blocks connected in a blockchain?” The answer is that the next block contains the hash of the previous block. This kind of question is too elementary; let’s ask more advanced questions.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Having gone through many interviews recently, I’ve noticed a common phenomenon: it’s hard to have a meaningful conversation with the</summary>
        
      
    
    
    
    
    <category term="Blockchain" scheme="https://en.smallyu.net/tags/Blockchain/"/>
    
    <category term="Interview Questions" scheme="https://en.smallyu.net/tags/Interview-Questions/"/>
    
  </entry>
  
  <entry>
    <title>How to Distinguish Between Public Chains and Consortium Chains</title>
    <link href="https://en.smallyu.net/2023/07/12/How%20to%20Distinguish%20Between%20Public%20Chains%20and%20Consortium%20Chains/"/>
    <id>https://en.smallyu.net/2023/07/12/How%20to%20Distinguish%20Between%20Public%20Chains%20and%20Consortium%20Chains/</id>
    <published>2023-07-11T17:00:58.000Z</published>
    <updated>2025-08-06T10:38:27.708Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Short-Version"><a href="#Short-Version" class="headerlink" title="Short Version"></a>Short Version</h3><p>If it issues coins, it’s a public chain; if it doesn’t, it’s a consortium chain.</p><h3 id="Detailed-Version"><a href="#Detailed-Version" class="headerlink" title="Detailed Version"></a>Detailed Version</h3><p>Since I often dismiss consortium chains, a natural question arises: What exactly is a consortium chain? What is the fundamental difference between a public chain and a consortium chain, and where is the dividing line? I thought this was a simple question, but after careful consideration, it’s not so straightforward and not particularly easy to define clearly.</p><p>Simply put, a blockchain that is open for everyone to access and use is a public chain, while a blockchain used within a small range is a consortium chain. This distinction is like the difference between the internet and a local area network. But if a consortium chain is opened up for everyone to use, does it become a public chain? If the chain uses the original version of PBFT as its consensus mechanism, it remains a consortium chain. The distinction between public and consortium chains cannot be solely based on the size of the user group.</p><p>For example, there’s a subjective issue: what constitutes “everyone”? How large a range counts as everyone? If there are 100 people, then 100 people are everyone; does 99 count? In real life, it seems so. A chain used by 99 people cannot be said to be a consortium chain. What about 80 people? It also seems to count as a majority compared to a small group of 20 people. And 60 people? It exceeds half; can it represent everyone?</p><p>So how do you determine if a chain is a public or a consortium chain? After some thought, from a technical perspective, I believe that to be considered a public chain, the following three conditions must be met simultaneously:</p><ol><li>Network interconnectivity between nodes</li><li>Equal opportunity for each node to become a block-producing node</li><li>Reasonable threshold for becoming a block-producing node</li></ol><p>You may notice that in the short version, issuing cryptocurrency is used as the only indicator to distinguish public and consortium chains, while in the detailed version, cryptocurrency is not mentioned. This is mainly due to different evaluation dimensions. Issuing cryptocurrency is a usage pattern reflected in the entire system, while the three conditions listed above are more general technical features. A chain that meets the three conditions without issuing cryptocurrency can still be considered a public chain. However, cryptocurrency is an important incentive for miners and is generally an indispensable part of the system, so project teams usually design it into the system.</p><h4 id="Network-Interconnectivity-Between-Nodes"><a href="#Network-Interconnectivity-Between-Nodes" class="headerlink" title="Network Interconnectivity Between Nodes"></a>Network Interconnectivity Between Nodes</h4><p>This requires that nodes cannot set access permissions at the network level; anyone can access the nodes through the internet. If nodes are not deployed on the public network but run in a local area network, they do not belong to the public chain. If nodes are deployed on the public network but are limited to specified IP addresses for access and use, these nodes have set access permissions and are not open enough. If all nodes have similar settings, the entire chain is not considered a public chain.</p><h4 id="Equal-Opportunity-for-Each-Node-to-Become-a-Block-Producing-Node"><a href="#Equal-Opportunity-for-Each-Node-to-Become-a-Block-Producing-Node" class="headerlink" title="Equal Opportunity for Each Node to Become a Block-Producing Node"></a>Equal Opportunity for Each Node to Become a Block-Producing Node</h4><p>For example, in PoW, as long as the computational power is sufficient, one is recognized as a block-producing node. In PoS, as long as 32 ETH is staked, there is a chance to become a block-producing node. These are typical examples of public chains. In the original version of PBFT, block-producing nodes are fixed and cannot be changed, which belongs to consortium chains. Some chains add random consensus group changes on top of PBFT, randomly selecting nodes as consensus nodes responsible for block production at intervals. Chains with this design are public chains, though project teams need to consider the safety, fault tolerance, and risk of Sybil attacks of such approaches.</p><h4 id="Reasonable-Threshold-for-Becoming-a-Block-Producing-Node"><a href="#Reasonable-Threshold-for-Becoming-a-Block-Producing-Node" class="headerlink" title="Reasonable Threshold for Becoming a Block-Producing Node"></a>Reasonable Threshold for Becoming a Block-Producing Node</h4><p>Reasonableness is subjective and hard to quantify, requiring balance in project design. For example, in PoW, acquiring sufficient computational power to produce blocks has a high cost, which is the threshold. If the threshold is too low, nodes will easily produce blocks, causing chaos in the network. If the threshold is too high, no one can reach it, and blocks cannot be produced, which is also unsuitable. This threshold needs a balanced, appropriate position. In some PBFT consortium chains, becoming a block-producing node requires a CA-issued certificate controlled by the project team, requiring offline certification processes to join the consortium and obtain the certificate. This is a typical example of a consortium chain.</p><h3 id="Why-I-Like-Blockchain"><a href="#Why-I-Like-Blockchain" class="headerlink" title="Why I Like Blockchain"></a>Why I Like Blockchain</h3><p>Technically, blockchain has a rebellious spirit, advocating for decentralized technology with a self-contained system. Since centralized institutions are unreliable, we operate independently, first trusting ourselves, then others. In this mode, the accuracy of historical records is very high. Currently, only blockchain systems can achieve global data consistency.</p><p>In terms of asset attributes, cryptocurrency is highly resistant to geopolitical changes. You can easily hold currency assets pegged to world currencies, unaffected by local currency value fluctuations.</p><h3 id="Why-I-Don’t-Like-Consortium-Chains"><a href="#Why-I-Don’t-Like-Consortium-Chains" class="headerlink" title="Why I Don’t Like Consortium Chains"></a>Why I Don’t Like Consortium Chains</h3><p>Many domestic consortium chain projects are government-led information technology initiatives funded by the government. For instance, in a Xiongan New Area information platform project worth 20 million yuan, various technologies like AI, big data, IoT are involved, with blockchain being one aspect. Specifically, the blockchain portion might be 3 million yuan. This 3 million is not something small companies can easily secure, often requiring strong connections, like large outsourcing firms. The blockchain part includes many small components, such as a data management platform for a department, integrating blockchain for data on-chain. If the large outsourcing firm lacks blockchain development capabilities, it might subcontract 300,000 yuan to a specialized blockchain company to complete this function. The consortium chain development company ends up earning modestly, hoping to secure more projects in a year for better earnings.</p><p>These projects usually follow a bidding process, entangling multiple interests even in securing the project. The company’s overall strength is scored, including patent applications and past revenue capabilities. These projects have nothing to do with the blockchain ideology. If replaced with another term like 5G technology, the project process remains the same: bidding, project delivery, differing only in the specific technology used. That’s why I say consortium chains are not true blockchains; they use golden hoes to plow the fields.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h3 id=&quot;Short-Version&quot;&gt;&lt;a href=&quot;#Short-Version&quot; class=&quot;headerlink&quot; title=&quot;Short Version&quot;&gt;&lt;/a&gt;Short Version&lt;/h3&gt;&lt;p&gt;If it issues coins, it’s</summary>
        
      
    
    
    
    
    <category term="Public Chains" scheme="https://en.smallyu.net/tags/Public-Chains/"/>
    
    <category term="Consortium Chains" scheme="https://en.smallyu.net/tags/Consortium-Chains/"/>
    
  </entry>
  
  <entry>
    <title>Response to Ideas on Layer 2 Project Entrepreneurship</title>
    <link href="https://en.smallyu.net/2023/07/08/Response%20to%20Ideas%20on%20Layer%202%20Project%20Entrepreneurship/"/>
    <id>https://en.smallyu.net/2023/07/08/Response%20to%20Ideas%20on%20Layer%202%20Project%20Entrepreneurship/</id>
    <published>2023-07-08T05:25:31.000Z</published>
    <updated>2025-08-06T10:38:28.693Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Note: I have no intention of disrespecting the letter. The viewpoints on L2 in the email have given me a lot of inspiration. Since some of the content does not completely align with my understanding, I have seriously considered and thought about the meaning of the letter. I would like to express my views on L2 here. As there is little L2-related content on my blog, I’ll put it up here to purely discuss technical issues.</p></blockquote><h3 id="The-Letter"><a href="#The-Letter" class="headerlink" title="The Letter"></a>The Letter</h3><blockquote><p>Hello, are you still looking for a job?</p><p>Jul 6, 2023, 5:39 PM (2 days ago)to me</p><p>Hi Wangyu!I came across your blog by chance and am not sure if this email will reach you.L2 has become quite popular this year. Various large companies, as long as they have some money, are starting to focus on &gt; L2.According to L2beat, there are quite a few L2 projects about to launch: <a href="https://l2beat.com/scaling/tvl#upcoming">https://l2beat.com/scaling/tvl#upcoming</a>It’s unclear whether all L2s are just copying each other. But it feels like the current L2 technologies mostly come from &gt; the open-source codes of a few leading companies.If this is true, does it mean anyone can fork a version themselves?If so, then we are that “anyone” :)Our startup team is quite interested in jumping on the L2 public chain “trend,” and it seems you are an expert in this area.</p><p>If you are also interested, we can discuss collaboration methods further?My general idea is remote, with you freely leading the chain’s evolution.</p><p>PS: My telegram is @******. Feel free to contact me online.</p></blockquote><h3 id="Response"><a href="#Response" class="headerlink" title="Response"></a>Response</h3><p>Hello!</p><p>I am very pleased to receive your email, and I apologize for not responding promptly.</p><p>I tried to carefully understand the content of your letter. Regarding some of the points about L2, I want to describe my understanding.</p><h4 id="1-The-Difference-Between-“Technology-Types”-and-“Projects”"><a href="#1-The-Difference-Between-“Technology-Types”-and-“Projects”" class="headerlink" title="1. The Difference Between “Technology Types” and “Projects”"></a>1. The Difference Between “Technology Types” and “Projects”</h4><p>There are 4 types of Layer 2 technologies: State channels, Sidechains, Optimistic rollups, and ZK rollups. All projects fall within these 4 types. Among the upcoming projects, most are of the rollups type, but there is no information on whether their code is forked from existing projects.</p><img src="a.png" width="50%" /><p>There are specifically these 4 projects:</p><img src="b.png" width="30%" /><p>However, from the list of launched projects, even if they fork the same project, their application scenarios are highly customized and vary greatly:</p><img src="c.png" width="50%" /><h4 id="2-Existing-Projects-Are-Not-Simple-Forks"><a href="#2-Existing-Projects-Are-Not-Simple-Forks" class="headerlink" title="2. Existing Projects Are Not Simple Forks"></a>2. Existing Projects Are Not Simple Forks</h4><p>Take zkSync as an example. Three projects have this label in the list:</p><img src="d.png" width="30%" /><p>They are zkSync Era, zkSync Lite, and ZKSpace. zkSync Era and zkSync Lite are from the same company.</p><p>Looking specifically at ZKSpace, it indeed uses zkSync’s contracts but is not simply a fork of the entire project. Instead, it uses zkSync’s contract code and modifies it to fit its own business. Additionally, ZKSpace also uses code from other projects.</p><img src="e.png" width="50%" /><p>From ZKSpace’s (formerly ZKSwap) whitepaper, we can see that ZKSpace aims to be Uniswap on Layer 2, including AMM functions, which are those of a market maker.</p><img src="f.png" width="60%" /><p>zkSync is a general Layer 2 project that does not provide very specific functions. ZKSpace uses some of zkSync’s contract code to do things that are highly relevant to their business and have specific goals. It does not compete directly with zkSync itself.</p><p>Looking at projects with the OP label, which are forked from the OP project:</p><ul><li>Arbitrum initially forked OP, then changed some economic model aspects, and later restructured the project as it grew. Additionally, Arb’s operational capabilities are strong, having hosted several Odyssey events.</li><li>Boba’s feature is that it doesn’t require a 7-day wait to withdraw funds; withdrawals are immediate. Moreover, through its own so-called hybrid computing technology, it brings web2 capabilities to the blockchain.</li><li>Zora is a layer2 dedicated to the NFT field.</li><li>Mantle provides decentralized sequencers, among other things.</li></ul><p>In summary, these projects all have specific purposes and aim to achieve certain functions by reusing existing code. The focus is likely on the goals of these projects, i.e., what they aim to do. They combine their business scenarios rather than just being able to run by simply forking the code.</p><h4 id="3-L2-is-Not-a-Chain"><a href="#3-L2-is-Not-a-Chain" class="headerlink" title="3. L2 is Not a Chain"></a>3. L2 is Not a Chain</h4><p>Current rollup projects are centralized. They are not a chain themselves and do not have consensus mechanisms; the project team operates them.</p><h4 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h4><p>Regarding your idea of developing an L2 project, I mean that, based on your description, it may not be as simple as you think. It might involve specific issues. Innovations in application scenarios, combined with DeFi or GameFi, or technical innovations that can improve certain pain points, might be needed.</p><p>I also want to jump on the trend and hope for a suitable entrepreneurial opportunity. I am currently looking for a job, but from my perspective, I am quite confused. I don’t have a direct idea of what direction a project should take; I think those involve quite market-oriented aspects and require significant capital.</p><p>I’m not sure about your specific thoughts. As there is a lot of content, I replied via email. Feel free to contact me if you have any questions.</p><h3 id="Supplement"><a href="#Supplement" class="headerlink" title="Supplement"></a>Supplement</h3><p>There are some topics not mentioned in the reply, which I will briefly discuss.</p><p>First, why is Layer 2 hot? Because Vitalik has frequently mentioned zkEVM in his recent blogs. For example, in the article <a href="https://vitalik.ca/general/2021/12/06/endgame.html">Endgame</a>, he considers supporting ZK-rollup as an important task for Ethereum’s future. Some issues cannot be directly resolved on Layer 1, so they hope to solve them through Layer 2. With Vitalik, a highly regarded developer, leading the technical direction in the ecosystem, Layer 2 has become a development hotspot for Ethereum.</p><p>Vitalik is quite optimistic about ZK-SNARKs type zkEVMs. From a technical perspective, ZK-rollups will be the so-called Endgame. However, ZK development costs are very high and currently still in research and development. Small-scale capital cannot afford it; it is too expensive.</p><p>The Dapp-learning community has a technical sharing video on Scroll on Youtube, which is quite good. The entire Scroll technical team is based in China. From the video explanation, it seems Scroll’s technical solution involves some brute-force elements, such as creating a table for a certain type of circuit results and expanding various tables to support the entire EVM. This is how Scroll compares the ways each ZK project implements EVM completeness:</p><img src="g.png" width="80%" /><p>Vitalik’s blog post <a href="https://vitalik.ca/general/2022/08/04/zkevm.html">The different types of ZK-EVMs</a> also discusses the classification of zkEVMs. Anyway, the hype around Layer 2 should be referring to the heat around ZK-rollup projects.</p><p>Optimistic rollups are more like a transitional solution for L2. I believe once ZK rolls out, OP projects will be impacted, as OP does not rely on the reliability of cryptographic technology. From its name, you can see it is optimistic, assuming a transaction has no issues first and then giving a 7-day challenge period. If there are issues, users need to challenge it themselves or third-party verifiers to fully challenge, involving significant human intervention.</p><p>Another issue is the centralization of L2 projects. Except for Sidechains projects, L2 must be centralized because consensus is handed over to L1. L2 does not manage it. From a motivational perspective, L2’s role is to quickly collect transactions and package them to L1. The ultimate trust in a transaction falls on L1. Users trust L1’s transaction records, not L2, so L2 does not need decentralization. Users don’t need it, and project parties don’t need it. L2s are generally issued and operated by project teams. Users trust the project’s technical solution and are willing to engage with it and pledge assets.</p><p>There is also the issue of L2 user experience. Currently, few users use OP or ARB for low-cost asset transfers. They prefer using BNB or TRX for anonymous payment scenarios. The more common uses are governance token investments or interactions in DApp project forms. The 7-day wait for OP to redeem assets is quite inconvenient. Asset transfers between L2 chains are also an issue. For example, can USDT on OP be transferred to ARB? Otherwise, if I use OP and another person uses ARB, we cannot trade. There is still much room for improvement in this area.</p><p>L2 is a promising technical direction, and we look forward to it bringing us a better user experience. As for whether there are low-cost profit opportunities, that is uncertain.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Note: I have no intention of disrespecting the letter. The viewpoints on L2 in the email have given me a lot of</summary>
        
      
    
    
    
    
    <category term="Layer2" scheme="https://en.smallyu.net/tags/Layer2/"/>
    
    <category term="Entrepreneurship" scheme="https://en.smallyu.net/tags/Entrepreneurship/"/>
    
  </entry>
  
  <entry>
    <title>Understanding Blockchain Consensus Mechanisms</title>
    <link href="https://en.smallyu.net/2023/07/01/Understanding%20Blockchain%20Consensus%20Mechanisms/"/>
    <id>https://en.smallyu.net/2023/07/01/Understanding%20Blockchain%20Consensus%20Mechanisms/</id>
    <published>2023-07-01T09:19:29.000Z</published>
    <updated>2025-08-06T10:38:28.713Z</updated>
    
    <content type="html"><![CDATA[<p>The role of a consensus mechanism is to ensure that the data across most nodes remains consistent. Consensus mechanisms can be broadly categorized into two types: PoW (Proof of Work) style and PBFT (Practical Byzantine Fault Tolerance) style. Almost all consensus mechanisms fall under these two styles.</p><p>Let’s start from scratch and think about how to maintain consistency among a group of humans. One method is to elect a leader whose opinion everyone follows. Another method is to make decisions collectively through discussion to reach a unified opinion.</p><p>For the first method, the challenge lies in how to elect the leader, the criteria for selection, and what kind of person can become the leader. For the second method, the challenge is who can participate in the discussion and how decisions are made.</p><p>First, let’s look at the first method, which mainly involves three steps:</p><ol><li>Elect a leader through some means.</li><li>Everyone listens to the leader within a time unit.</li><li>Everyone reaches a consensus within a time unit.</li></ol><p>The PoW process is as follows:</p><ol><li>The miner who solves the hash puzzle becomes the block-producing node.</li><li>All nodes receive and validate the miner’s block.</li><li>All nodes’ block data reach a consensus.</li></ol><p>In this PoW style consensus process, the biggest variable is the first step, which is how to elect the block-producing node. Therefore, there are many variants of PoW consensus.</p><ul><li><p>Proof of Stake (PoS): The consensus mechanism used by Ethereum, with the cryptocurrency named ETH. Nodes that stake a certain amount of assets randomly become block-producing nodes, with the randomness determined by the VRF function running on the beacon chain. The more assets staked, the higher the probability of becoming a block-producing node.</p></li><li><p>Proof of Authority (PoA): A consensus mechanism supported by the Ethereum testnet. The block-producing nodes are predetermined during the network initialization phase and produce blocks in sequence. The process of verifying validators is completed offline, and the network itself does not have the ability to correct validator nodes, making it a relatively centralized consensus.</p></li><li><p>Proof of Importance (PoI): The consensus mechanism used by Nem, with the cryptocurrency named XEM. Nodes are ranked based on certain scoring mechanisms, such as the number of transactions and transaction amounts over a certain period. Nodes with scores above a specified standard randomly become block-producing nodes.</p></li><li><p>Proof of Elapsed Time (PoET): The consensus mechanism used by the Hyperledger Sawtooth project, developed by Intel. Each node randomly generates a wait time, and the node with the shortest wait time becomes the block-producing node. The block-producing node must provide proof of the shortest time, which is combined with hardware devices to make it tamper-proof.</p></li><li><p>Proof of Burn (PoB): The consensus mechanism used by Slimcoin, with the cryptocurrency named SLM. Nodes obtain a burn hash by burning assets. The burn hash calculation includes the amount burned and the frequency of burns over a period. The system compares the hash values submitted by each node, and the node with the smallest hash value produces the block for that round.</p></li><li><p>Proof of Capacity (PoC): The consensus mechanism used by Burst, with the cryptocurrency named Burst. Nodes use a hard-to-pebble graph data structure to write files on disk, requiring sufficient disk space. After writing, nodes randomly open a file location and calculate the corresponding hash value until they find a satisfactory hash value, allowing them to produce a block.</p></li><li><p>Proof of History (PoH): The consensus mechanism used by Solana, with the cryptocurrency named SOL. The innovation of this consensus mechanism is that each transaction or other on-chain operation corresponds to a hash value. The PoH generator produces blocks, each composed of a series of continuous hash values, ensuring the consistency of on-chain data. The PoH generator is the block-producing node, selected based on the amount of staked assets.</p></li></ul><p>These are examples of PoW style consensus mechanisms. Despite their efforts to change the way block-producing nodes are selected, all these blockchains follow the three-step process.</p><p>Now, let’s look at the second method, which also involves three steps:</p><ol><li>Select decision-makers through some means.</li><li>Decision-makers communicate and reach a consensus.</li><li>Everyone else follows the decision to reach a consensus.</li></ol><p>The PBFT process is as follows:</p><ol><li>Select consensus nodes from all nodes, then rotate the role of proposer among them.</li><li>Consensus nodes undergo two rounds of voting on the proposal content.</li><li>Consensus nodes reach an agreement, and other nodes follow suit to reach a consensus.</li></ol><p>Compared to the first method, the single leader is replaced by multiple decision-makers. In this PBFT style consensus process, the biggest variable is also the first step, which is how to select consensus nodes and determine the order of proposer nodes. Here are some variants:</p><ul><li><p>Delegated Byzantine Fault Tolerance (DBFT): The consensus mechanism used by Neo, with the cryptocurrency named NEO. Every node holding assets can participate in the election of consensus nodes, delegating their assets to consensus nodes. The top-ranked consensus nodes are the proposers in sequence.</p></li><li><p>Federated Byzantine Agreement (FBA): The consensus mechanism used by Stellar, with the cryptocurrency named Stellar. All nodes in the network are consensus nodes and can participate in two rounds of voting. To reduce network congestion, nodes can delegate their voting rights to another node, using slices or sub-networks to improve consensus efficiency.</p></li><li><p>HoneyBadgerBFT: A type of BFT consensus that supports fully asynchronous networks, not relying on synchronized time sequences, which PBFT cannot achieve. However, consensus efficiency in asynchronous networks is relatively low.</p></li><li><p>HotStuff: A BFT consensus allowing partial network asynchrony. Its feature is that multiple proposals can exist simultaneously in the network, with proposer nodes selecting the best proposal for subsequent processes. This parallel proposal process improves overall consensus efficiency.</p></li><li><p>VBFT: The consensus used by Ontology, with the cryptocurrency named ONT. Proposal nodes are selected using the VRF random function, with each round’s proposal nodes being random and unpredictable.</p></li></ul><p>In summary, both PoW and PBFT styles filter out content that can ultimately achieve consensus through some means, but they fundamentally differ in how content is selected. In PoW, other nodes unconditionally accept the source block as long as it meets certain criteria. In PBFT, other nodes receive the block content first, then decide whether to accept it through a voting process before reaching a consensus.</p><p>There are also some innovative types of consensus, such as hybrid consensus combining multiple consensus mechanisms. These may evaluate node reputation, score based on historical transaction quality, or use hardware devices like mobile phones and IoT for data validation. Additionally, optimizations in PBFT, such as parallelism at certain stages, fault tolerance, and network efficiency, still fall within the frameworks of PoW and PBFT.</p><p>Therefore, it can be boldly stated that consensus mechanisms are essentially the same, differing only in their specific design and implementation.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;The role of a consensus mechanism is to ensure that the data across most nodes remains consistent. Consensus mechanisms can be broadly</summary>
        
      
    
    
    
    
    <category term="Blockchain" scheme="https://en.smallyu.net/tags/Blockchain/"/>
    
    <category term="Consensus Mechanism" scheme="https://en.smallyu.net/tags/Consensus-Mechanism/"/>
    
  </entry>
  
  <entry>
    <title>Recent Job Search Records (June)</title>
    <link href="https://en.smallyu.net/2023/06/29/Recent%20Job%20Search%20Records%20(June)/"/>
    <id>https://en.smallyu.net/2023/06/29/Recent%20Job%20Search%20Records%20(June)/</id>
    <published>2023-06-28T18:00:00.000Z</published>
    <updated>2025-08-06T10:38:27.730Z</updated>
    
    <content type="html"><![CDATA[<p>A total of 15 companies interviewed, with 20 interview sessions in total.</p><h3 id="Initial-Stage"><a href="#Initial-Stage" class="headerlink" title="Initial Stage"></a>Initial Stage</h3><ul><li>Optimized Day 1 (Thursday): Signed, packed, left.</li><li>Optimized Day 2 (Friday): Cleared work-related code from the computer.</li><li>Optimized Day 3 (Saturday): Looked for housing.</li><li>Optimized Day 4 (Sunday): Moved houses.</li><li>Optimized Day 5 (Monday): Finished the resume and started applying for jobs.</li></ul><h3 id="Optimized-Day-6-Tuesday"><a href="#Optimized-Day-6-Tuesday" class="headerlink" title="Optimized Day 6 (Tuesday)"></a>Optimized Day 6 (Tuesday)</h3><p><strong>Beijing Siwu IoT Technology Co., Ltd.</strong>    </p><ul><li>Interview Type: On-site</li><li>Interview Duration: 20 minutes</li><li>Position: Solidity Contract Developer</li><li>Company Business: Overseas-oriented DeFi product focusing on NFT staking, mimicking the AAVE protocol. The entire product avoids legal risks by not involving fiat currency transactions, using only tokens.</li><li>Interview Conclusion: The direction does not match. They consider Filecoin an outdated technology, and my storage-related experience is more infrastructure-oriented, while they need someone specialized in DAPP application layer development.</li></ul><p><strong>Zuiyou</strong></p><ul><li>Interview Type: Online video</li><li>Interview Duration: 50 minutes</li><li>Position: Blockchain Developer</li><li>Company Business: Confidential innovative business, developed their own public chain.</li><li>Interview Conclusion: They focused on BFT technical details and also discussed the implementation of Optimistic Rollup. From their focus on Tendermint consensus and Cosmos SDK usage, I guess it’s a consortium chain business. The interviewer seemed to have a broader technical focus.</li></ul><h3 id="Optimized-Day-7-Wednesday"><a href="#Optimized-Day-7-Wednesday" class="headerlink" title="Optimized Day 7 (Wednesday)"></a>Optimized Day 7 (Wednesday)</h3><p><strong>Gate.io</strong>    </p><ul><li>Interview Type: Online video</li><li>Interview Duration: 1 hour 20 minutes</li><li>Position: Golang Backend Developer</li><li>Company Business: On-chain data analysis, data security, transaction data verification.</li><li>Interview Conclusion: The direction does not match. My experience is more in chain development, whereas the position requires pure backend development. They tested my understanding of my work and posed a question on reversing a linked list. They were more concerned with web backend content, like the advantages of Node.js for backend services, the principles of TiDB, and differences between HTTP 3 and HTTP 2.</li></ul><h3 id="Optimized-Day-8-Thursday"><a href="#Optimized-Day-8-Thursday" class="headerlink" title="Optimized Day 8 (Thursday)"></a>Optimized Day 8 (Thursday)</h3><p><strong>KuCoin</strong>    </p><ul><li>Interview Type: Online video</li><li>Interview Duration: 20 minutes</li><li>Position: Blockchain Wallet Developer</li><li>Company Business: Decentralized wallet.</li><li>Interview Conclusion: The position requires someone proficient in Go language and preferably with blockchain knowledge. They asked about the signature algorithms used in blockchain, specifically ECC, and the purpose of the parameter ‘v’ in ECC, which I didn’t know. Also asked how blockchain nodes select transactions when receiving many, which I also didn’t know. Most questions were beyond my knowledge, thus not a good fit.</li></ul><p><strong>Midaverse (Beijing) Network Technology Co., Ltd.</strong>    </p><ul><li>Interview Type: Online audio</li><li>Interview Duration: 20 minutes</li><li>Position: Golang Backend Developer</li><li>Company Business: GameFi backend involving ERC-721 NFT contracts.</li><li>Interview Conclusion: Direction does not match. They asked a lot of language fundamentals, such as Go language escape analysis, controlling goroutine numbers at the CPU level, and whether anonymous classes in Java can inherit interfaces. Also asked about familiarity with ERC contract standards, which I didn’t know. Backend roles seem to focus more on pure backend or language itself rather than blockchain knowledge.</li></ul><h3 id="Optimized-Day-9-Friday"><a href="#Optimized-Day-9-Friday" class="headerlink" title="Optimized Day 9 (Friday)"></a>Optimized Day 9 (Friday)</h3><p><strong>Lingjian Technology</strong>    </p><ul><li>Interview Type: Online audio</li><li>Interview Duration: 30 minutes</li><li>Position: Blockchain Researcher, Blockchain Data Collector</li><li>Company Business: MEV, quantitative trading.</li><li>Interview Conclusion: Not a good match. They focused on EVM principles like storage structures, which I didn’t know, and knowledge of DeFi projects due to their MEV projects. They also asked about deep and shallow copies in Python, which I couldn’t answer.</li></ul><p><strong>Lingjian Technology</strong> (Second Time)</p><ul><li>Interview Type: Online test</li><li>Test Duration: 1 hour 30 minutes</li><li>Test Instructions: Complete 4 basic computer technology questions within 2 hours.</li><li>Question Source: <a href="MachineTest-LingjianTechnology.html">MachineTest-LingjianTechnology.html</a></li><li>Test Experience: Besides binary search being a bit tricky, other questions were too simple, making the test feel uninteresting.</li></ul><h3 id="Optimized-Day-10-Saturday"><a href="#Optimized-Day-10-Saturday" class="headerlink" title="Optimized Day 10 (Saturday)"></a>Optimized Day 10 (Saturday)</h3><p>–</p><h3 id="Optimized-Day-11-Sunday"><a href="#Optimized-Day-11-Sunday" class="headerlink" title="Optimized Day 11 (Sunday)"></a>Optimized Day 11 (Sunday)</h3><p><strong>Midaverse (Beijing) Network Technology Co., Ltd.</strong> (Second Time)</p><ul><li>Interview Type: Online audio</li><li>Interview Duration: 30 minutes</li><li>Interview Conclusion: The interviewer is the boss, who doesn’t know much about blockchain. It’s a small company without a dedicated blockchain technical person, and they mentioned needing someone to make chain selection decisions, which I had no interest in.</li></ul><h3 id="Optimized-Day-12-Monday"><a href="#Optimized-Day-12-Monday" class="headerlink" title="Optimized Day 12 (Monday)"></a>Optimized Day 12 (Monday)</h3><p><strong>Beijing Sihe Tiandi Technology Co., Ltd.</strong></p><ul><li>Interview Type: On-site</li><li>Interview Duration: 1 hour 20 minutes</li><li>Position: Blockchain Platform Developer</li><li>Company Business: Developing a blockchain teaching platform for vocational colleges.</li><li>Interview Conclusion: Four rounds of interviews: technical, technical lead, HR, and management. Their tech personnel don’t understand blockchain, so questions were basic. They’re currently forming a blockchain team, expected to have 2-3 people. The final interviewer was a sharp, gray-haired woman with a soft voice, fast speech, and frequent yawns, giving an oppressive aura. Despite their potential interest, I had no interest in their business.</li></ul><h3 id="Optimized-Day-13-Tuesday"><a href="#Optimized-Day-13-Tuesday" class="headerlink" title="Optimized Day 13 (Tuesday)"></a>Optimized Day 13 (Tuesday)</h3><p><strong>Pionex</strong></p><ul><li>Interview Type: Online video</li><li>Interview Duration: 50 minutes</li><li>Position: Data Collection Developer</li><li>Company Business: NFT data tracking, cryptocurrency trading data tracking.</li><li>Interview Conclusion: The HR was talkative, explaining the company background and business in detail before the interview. The interview was a normal chat with few questions.</li></ul><h3 id="Optimized-Day-14-Wednesday"><a href="#Optimized-Day-14-Wednesday" class="headerlink" title="Optimized Day 14 (Wednesday)"></a>Optimized Day 14 (Wednesday)</h3><p>Today I did three things:</p><ol><li>Declined Sihe Tiandi’s offer.</li><li>Spoke with imToken’s HR for 40 minutes; they are not actively recruiting.</li><li>Spoke with an HR from another company and scheduled an interview for tomorrow.</li></ol><h3 id="Optimized-Day-15-Thursday"><a href="#Optimized-Day-15-Thursday" class="headerlink" title="Optimized Day 15 (Thursday)"></a>Optimized Day 15 (Thursday)</h3><p><strong>Beijing Juan Yi Technology Co., Ltd.</strong></p><ul><li>Interview Type: Online video</li><li>Interview Duration: 1 hour</li><li>Position: Blockchain Developer</li><li>Company Business: Layer 2.5</li><li>Interview Conclusion: Technical first interview. This was my first time encountering a public chain development role and a company I wanted to join. However, the HR mentioned they needed senior developers who could mentor less experienced ones, so the outcome might not be favorable.</li></ul><h3 id="Gap-Day-16-Friday"><a href="#Gap-Day-16-Friday" class="headerlink" title="Gap Day 16 (Friday)"></a>Gap Day 16 (Friday)</h3><p>–</p><h3 id="Gap-Day-17-Saturday"><a href="#Gap-Day-17-Saturday" class="headerlink" title="Gap Day 17 (Saturday)"></a>Gap Day 17 (Saturday)</h3><p><strong>Beijing Juan Yi Technology Co., Ltd.</strong> (Second Time)</p><ul><li>Interview Type: Online video</li><li>Interview Duration: 1 hour 50 minutes</li><li>Position: Blockchain Developer</li><li>Company Business: Layer 2.5</li><li>Interview Conclusion: Technical second interview. Learned it’s a startup team with seed funding, aiming to launch a Layer 2 project compatible with mainstream chains by the end of the year. The interviewer discussed their hiring philosophy, focusing on technical skills and team compatibility. I am interested in this company and project but did not elaborate during the technical interview.</li></ul><h3 id="Gap-Day-18-Sunday"><a href="#Gap-Day-18-Sunday" class="headerlink" title="Gap Day 18 (Sunday)"></a>Gap Day 18 (Sunday)</h3><p>–</p><h3 id="Gap-Day-19-Monday"><a href="#Gap-Day-19-Monday" class="headerlink" title="Gap Day 19 (Monday)"></a>Gap Day 19 (Monday)</h3><p>–</p><h3 id="Gap-Day-20-Tuesday"><a href="#Gap-Day-20-Tuesday" class="headerlink" title="Gap Day 20 (Tuesday)"></a>Gap Day 20 (Tuesday)</h3><p>–</p><h3 id="Gap-Day-21-Wednesday"><a href="#Gap-Day-21-Wednesday" class="headerlink" title="Gap Day 21 (Wednesday)"></a>Gap Day 21 (Wednesday)</h3><p>–</p><h3 id="Gap-Day-22-Thursday-Dragon-Boat-Festival"><a href="#Gap-Day-22-Thursday-Dragon-Boat-Festival" class="headerlink" title="Gap Day 22 (Thursday) (Dragon Boat Festival)"></a>Gap Day 22 (Thursday) (Dragon Boat Festival)</h3><p>–</p><h3 id="Gap-Day-23-Friday-Dragon-Boat-Festival"><a href="#Gap-Day-23-Friday-Dragon-Boat-Festival" class="headerlink" title="Gap Day 23 (Friday) (Dragon Boat Festival)"></a>Gap Day 23 (Friday) (Dragon Boat Festival)</h3><p>–</p><h3 id="Gap-Day-24-Saturday-Dragon-Boat-Festival"><a href="#Gap-Day-24-Saturday-Dragon-Boat-Festival" class="headerlink" title="Gap Day 24 (Saturday) (Dragon Boat Festival)"></a>Gap Day 24 (Saturday) (Dragon Boat Festival)</h3><p>–</p><h3 id="Gap-Day-25-Sunday"><a href="#Gap-Day-25-Sunday" class="headerlink" title="Gap Day 25 (Sunday)"></a>Gap Day 25 (Sunday)</h3><p>–</p><h3 id="Gap-Day-26-Monday"><a href="#Gap-Day-26-Monday" class="headerlink" title="Gap Day 26 (Monday)"></a>Gap Day 26 (Monday)</h3><p><strong>Juyi Rock (a subsidiary of Qulian)</strong></p><ul><li>Interview Type: Online audio</li><li>Interview Duration: 30 minutes</li><li>Position: Blockchain Developer</li><li>Company Business: Military projects, consortium chain delivery.</li><li>Interview Conclusion: The HR who contacted me was from an outsourcing company, unclear how my resume reached her. The interviewer initially grabbed the wrong resume and spent time searching for mine. Casual chat followed; the interviewer didn’t understand blockchain, typical of consortium chain companies.</li></ul><h3 id="Gap-Day-27-Tuesday"><a href="#Gap-Day-27-Tuesday" class="headerlink" title="Gap Day 27 (Tuesday)"></a>Gap Day 27 (Tuesday)</h3><p><strong>Beijing Zhizhiya Technology Co., Ltd.</strong></p><ul><li>Interview Type: On-site</li><li>Interview Duration: 30 minutes</li><li>Position: Golang Developer</li><li>Company Business: Startup aiming to develop a to T product similar to Notion, focusing on local data retention and online synchronization.</li><li>Interview Conclusion: Focused on Go language fundamentals. The interviewer asked about the number of lines of code written, stating it’s an indicator of programming ability. Emphasized that for developers, the development task is similar regardless of whether it’s their product or blockchain, as long as the foundation is solid.</li></ul><p><strong>FAMEEX Exchange</strong></p><ul><li>Interview Type: Online audio</li><li>Interview Duration: 15 minutes</li><li>Position: Golang Backend Developer</li><li>Company Business: Exchange, distributed office.</li><li>Interview Conclusion: Surprisingly short interview, asked some language fundamentals.</li></ul><h3 id="Gap-Day-28-Wednesday"><a href="#Gap-Day-28-Wednesday" class="headerlink" title="Gap Day 28 (Wednesday)"></a>Gap Day 28 (Wednesday)</h3><p><strong>Beijing Zimao Technology</strong></p><ul><li>Interview Type: Online audio</li><li>Interview Duration: 40 minutes</li><li>Position: Wallet Developer, distributed office.</li><li>Company Business: Exchange wallet, asset custody.</li><li>Interview Conclusion: Routine interview, casual questions. Asked about the tricolor tree, which I wasn’t familiar with.</li></ul><p><strong>FAMEEX Exchange</strong> (Second Time)</p><ul><li>Interview Type: Online audio</li><li>Interview Duration: 10</li></ul>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;A total of 15 companies interviewed, with 20 interview sessions in total.&lt;/p&gt;
&lt;h3 id=&quot;Initial-Stage&quot;&gt;&lt;a href=&quot;#Initial-Stage&quot;</summary>
        
      
    
    
    
    
    <category term="Job Hunting" scheme="https://en.smallyu.net/tags/Job-Hunting/"/>
    
  </entry>
  
  <entry>
    <title>Didn&#39;t Find a Job</title>
    <link href="https://en.smallyu.net/2023/06/24/Didn&#39;t%20Find%20a%20Job/"/>
    <id>https://en.smallyu.net/2023/06/24/Didn&#39;t%20Find%20a%20Job/</id>
    <published>2023-06-23T18:43:45.000Z</published>
    <updated>2025-08-06T10:38:27.645Z</updated>
    
    <content type="html"><![CDATA[<p>The blockchain hasn’t had much excitement in the past year or two. Since ETH dropped from 3400 to 1200, which coincided with the Fed’s most aggressive rate hikes, the market has been in a tepid state. Later, events like Luna’s collapse and FTX’s bankruptcy occurred.</p><p>Currently, there are mainly two types of job demands in the market: backend development and smart contract development.</p><p>Let’s talk about smart contract development first, which is Solidity contract development. The main job content is developing DAPPs, with job requirements being familiarity with ERC standards and at least one online project like Uniswap. The key is to have experience in contract security, and having experience with online projects is preferred. If you meet these skill requirements, there are still quite a few job opportunities in China.</p><p>This direction is not very suitable for me. On one hand, I lack relevant experience; on the other hand, I am not very interested in specializing in DAPP development.</p><p>Lack of experience is understandable. Although I am familiar with Solidity syntax and contract writing, I do not have experience in asset security, as my projects have not gone online nor reached the security audit stage. Due to the nature of my work, I also know relatively little about DeFi mechanisms.</p><p>As for interest, I know there is a large group of people learning DAPP development, which is Solidity development. There is a dedicated learning community called Dapp-Learning, with quite a few members, comprising many domestic developers and learners with accounts on mainstream websites. From their technical sharing, it is evident that many people are researching papers on projects that have already launched, mainly focusing on the DeFi field, sharing content primarily about economic model interpretations—why staking a certain amount of money yields a certain return, and how the project team designed it.</p><p>It’s actually quite uninteresting from my perspective. If you are a project party working on such a project, it’s still profitable. Nicely put, it’s called reaping; bluntly put, it’s deceiving people. If you want to profit from a project’s mechanism as an individual, it’s just being a wealthy fool. I remember a project long ago that started with, “The earlier you join the project, the more return you get.” It was simply a pyramid scheme, but many people still joined, and some did make money. If you are a learner wanting to learn the technology, you need to figure out what exactly to learn—is it computer programming technology, or deceiving technology?</p><p>Moreover, Solidity is actually a difficult language to use. From a programming language perspective, although it is Turing complete, its writing is very restricted. I can’t even imagine what kind of job seeker the position of a smart contract engineer is prepared for. Do they specialize in writing Solidity? People who can write other languages are unwilling, and those who can’t write other languages can’t possibly know Solidity. What kind of learning and growth path can produce people who specialize in writing contracts? I don’t understand.</p><p>Next, let’s talk about backend development. There are two types of blockchain-related backend positions: one is wallet backend development, and the other is on-chain data quantification. Both positions have a common feature: you can do them without understanding blockchain; it’s just that they fall under the blockchain business, so they are called blockchain backend development, but they have nothing to do with the blockchain’s functionality itself. I have heard interviewers say something like, “We are looking for pure backend development. It’s best if you understand blockchain; if not, it doesn’t matter.”</p><p>This involves a career planning issue. When I first graduated, I worked on blockchain application layer development for over a year. Later, I switched to alliance chain bottom layer development. Then I joined a public chain project, so I had a path. If I say now that I want to abandon the blockchain path and go back to doing ordinary backend development, there is a sunk cost involved.</p><p>Moreover, considering the current industry trend, the internet and blockchain are two different industries. Generally speaking, the internet is web2, and blockchain is web3. How can you go from 3 to 2? Not to mention, the internet has been in a downturn for several years. Although the blockchain industry is in a bear market, the internet is not only cold but also on a declining path, especially the big internet companies in China. Which of them is doing well?</p><p>This is a dilemma. Now, the blockchain is not doing well either. Actually, all industries are not doing well. Around 2017 was a period of explosion for public chains, and the demand for blockchain development was relatively high. Later, due to the mountains of Bitcoin and Ethereum, it became difficult to develop new Layer 1 chains, so now the demand for blockchain development is very low. Beyond the technical market environment, when I was still employed, I accidentally heard that domestic investment institutions had not invested in a single web3-related project in the past year. This means that domestic startups cannot raise money or get investments.</p><p>The only companies still hiring in China are the established blockchain companies, just a few of them. Otherwise, they are seeking foreign investment to hire people back in China mainly to reduce costs. Otherwise, there would be no reason to return to China, as the target users need to be at least abroad. It’s currently impossible to raise funds domestically, target domestic users, and make money from domestic users. Therefore, blockchain development positions in China are very few. Whether it is developing Layer 1, Layer 2, or off-chain nodes, as long as it is within the public chain ecosystem, there are very few positions.</p><p>Here, I want to emphasize again the difference between public chains and alliance chains. I moved from alliance chains to public chains, which is like moving from web2 to web3. There are quite a few alliance chain positions in China, but I can’t go back, at least not easily. Technically, alliance chains are not real blockchains. In the market, alliance chains have no real user demand. In terms of value, alliance chains are not valuable and cannot make money. Companies working on alliance chains don’t have much money.</p><p>When we consider growth opportunities, we definitely look at a company’s prospects when we join it, whether in terms of return on investment or technical advancement opportunities. If neither is present, the entire career would be on a downhill path, with no hope. There has to be some opportunity to look forward to.</p><p>Lastly, let’s discuss technical capability. We often say someone is good or bad at technology, or that a technology is easy or difficult. So, what are the evaluation standards? I think it can be viewed from one angle: learning cost. If a piece of knowledge can be understood at a glance, or within half an hour, or figured out in a day or two, it is relatively simple. Learning such things before or after an interview makes no difference. Some things have a higher learning cost, like understanding the industry or a particular type of technology and project. It may take at least two or three months or more to truly understand. Such things are harder and have higher costs.</p><p>Therefore, interviews are more about direction. During an interview, the interviewer may ask various small questions, mostly picking what they know. Competent interviewers will not reject you for questions with low learning costs. To exaggerate, within a moment of seeing the resume, they can basically determine whether to hire you, with the rest of the process being a formality unless the resume is falsified and the abilities shown during the interview don’t match the resume.</p><p>I conducted a poll on Maimai, asking how long people’s unemployment periods were, with quite a few participants:</p><img src="gap.png" width="30%"><p>More than half of the people have been unemployed for over three months. The current market environment is quite poor, and perhaps nothing would be surprising anymore.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;The blockchain hasn’t had much excitement in the past year or two. Since ETH dropped from 3400 to 1200, which coincided with the Fed’s</summary>
        
      
    
    
    
    
    <category term="Job Hunting" scheme="https://en.smallyu.net/tags/Job-Hunting/"/>
    
  </entry>
  
  <entry>
    <title>The Company Disbanded</title>
    <link href="https://en.smallyu.net/2023/06/04/The%20Company%20Disbanded/"/>
    <id>https://en.smallyu.net/2023/06/04/The%20Company%20Disbanded/</id>
    <published>2023-06-04T09:46:24.000Z</published>
    <updated>2025-08-06T10:38:28.702Z</updated>
    
    <content type="html"><![CDATA[<p>Our big boss is one of the poker cards. He opened a new company in Hong Kong, and the headquarters in Shanghai and the branch in Beijing no longer retain employees. The whole thing happened within a week, without much buffer time.</p><p>Initially, two options were provided: either take n+1 and leave, or sign a community-style “co-construction agreement” with the new Hong Kong company to continue working. However, since most people in the Beijing branch chose to leave, the remaining people couldn’t support the entire project, so the big boss let everyone in Beijing go.</p><p>I was one of the few who initially wanted to stay, so the resignation came even more suddenly for me. In the morning, I was still prepared to continue working, but by the morning I was informed to leave, signed the papers, and left by noon. Very quickly. However, the company was quite generous with the compensation; HR calculated it according to the highest standard, so I didn’t feel too disappointed.</p><p>Logically, after leaving a company, one should say things that were inconvenient to say while employed, like bad things about the company. But I didn’t leave with resentment, nor did I leave voluntarily out of dissatisfaction, so I don’t have much to say for now.</p><p>As for why I initially chose to stay, there were multiple reasons. For example, it’s really difficult to handle blockchain in China.</p><p>In the coming period, I might have to contact many companies, and there’s no guarantee I’ll find a suitable job. This time, the strange feeling is that I have a bit of uncertainty about how to write my resume and no urge to review my work over the past two years. The work over the past two years didn’t reach an ideal level, but I wasn’t idle either; it’s not due to a lack of confidence in my technical skills.</p><p>Because I always keep an eye on the dynamics of the blockchain industry and have been in a state of confusion for a long time, I am also filled with confusion about the job search ahead. Maybe I don’t know, or maybe there really isn’t a reliable project in the blockchain direction in China. I can’t see which track is reliable even from the perspective of industry news, so I have no confidence at all about the real job I need to find.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Our big boss is one of the poker cards. He opened a new company in Hong Kong, and the headquarters in Shanghai and the branch in Beijing</summary>
        
      
    
    
    
    
    <category term="Work" scheme="https://en.smallyu.net/tags/Work/"/>
    
  </entry>
  
  <entry>
    <title>Pointing the Way for the Blockchain Revolution</title>
    <link href="https://en.smallyu.net/2023/05/29/Pointing%20the%20Way%20for%20the%20Blockchain%20Revolution/"/>
    <id>https://en.smallyu.net/2023/05/29/Pointing%20the%20Way%20for%20the%20Blockchain%20Revolution/</id>
    <published>2023-05-29T08:10:48.000Z</published>
    <updated>2025-08-06T10:38:27.727Z</updated>
    
    <content type="html"><![CDATA[<p>Pointing the Way for the Blockchain Revolution: AI Based on Web 3.0</p><p>Web 3.0 migrates the data from Web 2.0 to the blockchain, creating AI models on the blockchain using this data for training.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Pointing the Way for the Blockchain Revolution: AI Based on Web 3.0&lt;/p&gt;
&lt;p&gt;Web 3.0 migrates the data from Web 2.0 to the blockchain,</summary>
        
      
    
    
    
    
    <category term="Blockchain" scheme="https://en.smallyu.net/tags/Blockchain/"/>
    
    <category term="Blockchain Revolution" scheme="https://en.smallyu.net/tags/Blockchain-Revolution/"/>
    
  </entry>
  
  <entry>
    <title>Pebbling Game</title>
    <link href="https://en.smallyu.net/2023/05/18/Pebbling-Game/"/>
    <id>https://en.smallyu.net/2023/05/18/Pebbling-Game/</id>
    <published>2023-05-18T08:36:33.000Z</published>
    <updated>2025-08-06T10:38:27.726Z</updated>
    
    <content type="html"><![CDATA[<p>This is an online web game: <a href="https://smallyunet.github.io/pebbling-game/" target="_blank">Pebbling Game</a>. You can view this embedded web page:</p><div><iframe src="https://smallyunet.github.io/pebbling-game/" width="900px" height="580px" frameborder="0" scrolling="yes" style="border: 5px double #e4e4e4;"> </iframe></div><p>To intuitively demonstrate the rules of the Pebbling Game, GPT-4 created this online game page after dozens of adjustments.</p><p>The rules of the game are:</p><ol><li>Click on the circle of a node to place a pebble in it.</li><li>A node can only have a pebble placed in it if all nodes pointing to it already have pebbles.</li><li>The goal of the game is to place a pebble in node 0.</li><li>Pebbles can be removed from any node at any time.</li></ol><p>If you directly click on node 0, you will see two red flashing circles indicating that nodes 1 and 2 have not yet had pebbles placed in them, so node 0 cannot have a pebble placed in it.</p><p>Node 7 has no incoming nodes, so a pebble can be placed directly in it. Clicking on node 7, you will see a solid black circle appear in the node. At this point, if you try to place a pebble in node 3, it will indicate failure because node 6 is still empty. Nodes 6 and 7 are the incoming nodes for node 3.</p><p>So, with these game rules, the question is: What is the minimum number of pebbles needed?</p><p>If there are enough pebbles, there are a total of 10 nodes in this diagram, and if you have 10 pebbles, you can simply fill the nodes in order without needing to remove any pebbles.</p><p>If pebbles are limited, seeking the solution with the least number of pebbles, this diagram should require at least 5 pebbles.</p><p>The characteristic of the Pebbling Game is that there is always a minimum value. If the number of pebbles is less than this value, the game cannot be completed because the final node depends on lower-level nodes, which in turn depend on even lower-level nodes. If a pebble is removed from an intermediate node, you have to start placing pebbles from the lowest level again.</p><p>The Pebbling Game has enlightening significance for the data structure of Hard-to-pebble graphs. Understanding the rules of the game helps in understanding how blockchain proves the size of disk space.</p><h3 id="Proof-of-Space"><a href="#Proof-of-Space" class="headerlink" title="Proof of Space"></a>Proof of Space</h3><p>Hard-to-pebble graphs are a type of DAG combined with a Merkle tree. The characteristic is that a certain amount of storage space is required to complete the computation of the top node. Just like in the game where you cannot complete it without enough pebbles, you cannot complete the challenge without enough storage space.</p><p>Due to the variety of graphs, there is no universal optimal solution for the number of pebbles required. It can only be calculated for a specific type of graph to determine the space complexity.</p><p>In blockchain scenarios, the requirement is to occupy large space and verify quickly. The graph structure of the Stack Expander Graph is widely used in Proof of Space. During the verification phase, you only need to verify certain nodes in the graph according to the characteristics of the Merkle tree to confirm the integrity of the graph. At the same time, you can estimate the amount of disk space occupied based on the depth of the graph.</p><p>If you need to verify both the size of the space and the duration of space occupation, you can add a time proof on top of the space proof. For example, Chia uses a Delay Verifiable Function, first verifying the space proof, then after some time, using the VDF to verify that enough time has indeed passed, and then verifying the space proof again, achieving the effect of Proof of Space-Time.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;This is an online web game: &lt;a href=&quot;https://smallyunet.github.io/pebbling-game/&quot; target=&quot;_blank&quot;&gt;Pebbling Game&lt;/a&gt;. You can view this</summary>
        
      
    
    
    
    
    <category term="Documentation" scheme="https://en.smallyu.net/tags/Documentation/"/>
    
  </entry>
  
  <entry>
    <title>Limitations of PDP Proof of Storage</title>
    <link href="https://en.smallyu.net/2023/05/17/Limitations%20of%20PDP%20Proof%20of%20Storage/"/>
    <id>https://en.smallyu.net/2023/05/17/Limitations%20of%20PDP%20Proof%20of%20Storage/</id>
    <published>2023-05-17T07:53:06.000Z</published>
    <updated>2025-08-06T10:38:27.718Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Proof-of-Storage"><a href="#Proof-of-Storage" class="headerlink" title="Proof of Storage"></a>Proof of Storage</h3><p>The most basic use of PDP (Provable Data Possession) for a file is to generate a corresponding TAG based on the file content, then send the file to another environment. Subsequently, use the saved TAG to verify if the other party has indeed stored the file. If the other party hasn’t stored the file, it is impossible to pass the initial verification. In the subsequent verifications, since the challenges are randomly generated and select segments from different parts of the file, the reliability of the verification can be probabilistically improved.</p><p>Therefore, this usage at least proves that the file is stored in the other party’s environment. However, this method of proof has a flaw: the file does not need to be complete, or in other words, it lacks proof of file integrity. If the file is very large and the number of challenges is generally fixed, the larger the file, the less comprehensive the challenges. Although the file segments for the challenges are random, there is still a possibility that the other party does not need the complete file but only a part of it—2&#x2F;3, 1&#x2F;2, or 1&#x2F;3—to complete the challenge.</p><h3 id="Proof-of-File-Integrity"><a href="#Proof-of-File-Integrity" class="headerlink" title="Proof of File Integrity"></a>Proof of File Integrity</h3><p>To enable PDP to prove file integrity, PDP proof can be combined with the data structure of a Merkle tree. PDP proof typically requires the file to be split into data segments and generates TAGs based on these segments, without emphasizing the serialization of the data segments.</p><p>The combination with a Merkle tree comes into play after splitting the file into data segments, then serializing these data segments into the Merkle tree. Due to the properties of a Merkle tree, the value of the parent node depends on the values of the child nodes to be computed. If the parent node is verified to be correct, it indicates that all child nodes exist, indirectly proving the file’s integrity.</p><p>In practical use, some nodes of the Merkle tree are often extracted, and the paths of these Merkle nodes are verified, which is a common method to verify the integrity of the Merkle tree. By using the Merkle tree as the data structure for the file and verifying the Merkle tree’s integrity while verifying the PDP proof, it can be ensured that the file exists in its entirety.</p><p>The coverage of Merkle tree verification cannot be 100%, but it is generally believed that the cost of forging Merkle tree nodes is higher than the cost of actually retaining the complete data.</p><h3 id="Proof-of-File-Size"><a href="#Proof-of-File-Size" class="headerlink" title="Proof of File Size"></a>Proof of File Size</h3><p>PDP proof itself does not include the file’s metadata; it can only prove that the file exists and is complete, but it does not provide information about what the file is, the file name, file type, or file size. PDP proof information does not include file metadata, and useful metadata includes file size. PDP is not a technology of the blockchain era, and it does not concern itself with this issue.</p><p>Some blockchains describe the computational power of nodes by the size of disk space or charge users based on file size or reward storage nodes according to the stored file size. This makes the file size information crucial.</p><p>To address the issue of missing file metadata, one approach is to associate metadata with file data outside the PDP proof system. Another approach is to modify the file by attaching metadata to the file data. As long as the integrity of the file data is proven, the accuracy of the file metadata can be confirmed.</p><p>However, neither method can guarantee the reliability of file metadata. In the blockchain scenario, the trust model has changed, differing from the issues PDP aims to solve. Previously, PDP was to let users trust storage nodes, but now, it is to let the blockchain trust storage nodes.</p><p>The first approach requires additional mechanisms to ensure the mapping relationship between metadata and file data, which incurs significant overhead. The second approach is simpler to implement, but the problem lies in who attaches the metadata to the file data. Is it trustworthy? What if incorrect information is maliciously attached? Additionally, how to read this metadata? Should the file data or part of the file data be downloaded? Even so, the downloaded information cannot be guaranteed to be correct.</p><p>In conclusion, within the realm of cryptography, PDP cannot solve the proof of file size.</p><h3 id="Proof-of-File-Continuity"><a href="#Proof-of-File-Continuity" class="headerlink" title="Proof of File Continuity"></a>Proof of File Continuity</h3><p>PDP proof requires continuous challenge requests, where successful challenges indicate the file is intact. For example, if a challenge is initiated now and another one an hour later, it at least shows that the file was intact at the time of each challenge. But what about the times when there is no challenge? There are no restrictions.</p><p>If, after the first challenge, the file is moved elsewhere and then brought back for the second challenge, this is entirely possible. PDP does not and cannot prevent such situations. PDP cannot provide proof of file continuity.</p><p>What impact does this limitation have on blockchain? The first thing that comes to mind is exchanging computational power for space. Because in some blockchain rules, the larger the file, the higher the miner’s earnings. Miners can utilize the interval between PDP proofs to free up space for other files, exchanging disk IO for disk space size.</p><p>Additionally, the cost of proof increases. The more frequent the challenges, the safer the file, which imposes pressure on the party seeking proof.</p><h3 id="Proof-of-Multiple-File-Copies"><a href="#Proof-of-Multiple-File-Copies" class="headerlink" title="Proof of Multiple File Copies"></a>Proof of Multiple File Copies</h3><p>PDP naturally does not have the ability to prove the existence of multiple copies of a file. If two copies of the file are required, but the other party only actually stores one, PDP will have no awareness of this, which is easy to understand.</p><p>If you want to disperse the risk of file loss by storing the file in different locations, using PDP as a verification method cannot achieve this goal.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h3 id=&quot;Proof-of-Storage&quot;&gt;&lt;a href=&quot;#Proof-of-Storage&quot; class=&quot;headerlink&quot; title=&quot;Proof of Storage&quot;&gt;&lt;/a&gt;Proof of Storage&lt;/h3&gt;&lt;p&gt;The most</summary>
        
      
    
    
    
    
    <category term="Proof of Storage" scheme="https://en.smallyu.net/tags/Proof-of-Storage/"/>
    
  </entry>
  
  <entry>
    <title>Don&#39;t Go to Pet Shops</title>
    <link href="https://en.smallyu.net/2023/05/11/Don&#39;t%20Go%20to%20Pet%20Shops/"/>
    <id>https://en.smallyu.net/2023/05/11/Don&#39;t%20Go%20to%20Pet%20Shops/</id>
    <published>2023-05-11T10:04:23.000Z</published>
    <updated>2025-08-06T10:38:27.646Z</updated>
    
    <content type="html"><![CDATA[<p>I once saw a joke that I looked for a long time but couldn’t find the original picture. The gist of it was that a netizen tried to buy love for 4000 yuan, of relatively high quality. Then the netizen discovered that although the lady was as beautiful in person as in the photo, and had a good figure, she felt full of technology. Her face and legs had no flesh to pinch. If you asked her to interact with you, she would comply with your requests and say some things, but you could sense in her words and expressions that she was a bit impatient, wanting to get it over with quickly. Then this netizen lamented that she had no feelings, wasn’t like a living person, more like a tool, and it wasn’t a great experience.</p><p>Then there were comments below joking, saying, “Give me 4000 yuan, and I guarantee to be like a living person :P”</p><p>This made me think of my experience going to pet shops. It seems that in any business, this situation appears. Normally, when you see little kittens and Shiba Inu puppies in various short videos, you think these pets are so cute! But when you actually go to the cat house or dog house, you’ll find these pets don’t pay any attention to you because you are a stranger.</p><p>The first time I went to a cat house, I felt cheated because the cats wouldn’t let you hold them. The clerk said previous customers were too rough with the cats, causing many cats to have bad tempers and get angry easily. Then, upon closer inspection, every cat had a sad face, a look of forced business. They were either sleeping or staying far away from people.</p><p>You can feed the cats, and they will come to eat. You can also lure them with a cat teaser, but you’ll notice their eyes won’t look at you because they don’t know you. They’re looking at the food in your hand. They won’t crawl into your hand to let you pet them, nor will they smile at you. Although there are all kinds of cats, all purebred and very good-looking, there is no emotion.</p><p>Surprisingly, the alpacas in the store were particularly docile, seemed to have no temper, were close to people, and even ate my shoelaces.</p><p><img src="/1.jpg" alt="Alpaca"></p><p>But the thing is, you just fear that when it faces you, it will spit. When alpacas get angry, they spit. Having seen such videos, there’s always that shadow, so you don’t dare look at the alpaca too much.</p><p>The dog house gives a similar feeling. Purebred Shiba Inus, very handsome, will find the food in your hand by themselves but won’t look at you. Little Shiba Inus are very lively, fighting all over the place.</p><p><img src="/2.jpg" alt="Shiba Inu"></p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;I once saw a joke that I looked for a long time but couldn’t find the original picture. The gist of it was that a netizen tried to buy</summary>
        
      
    
    
    
    
    <category term="Life" scheme="https://en.smallyu.net/tags/Life/"/>
    
  </entry>
  
  <entry>
    <title>Half-Year Work Review</title>
    <link href="https://en.smallyu.net/2023/05/06/Half-Year%20Work%20Review/"/>
    <id>https://en.smallyu.net/2023/05/06/Half-Year%20Work%20Review/</id>
    <published>2023-05-06T11:24:50.000Z</published>
    <updated>2025-08-06T10:38:27.656Z</updated>
    
    <content type="html"><![CDATA[<p>A review of the past six months of work. Six months ago, I felt lost because I knew Filecoin was adapting to EVM, shifting the storage track towards the computing track. We couldn’t surpass Filecoin.</p><p>However, I still gained something, mainly a deeper understanding of file proofs and a more detailed familiarity with the project’s code, which I hadn’t grasped before.</p><h3 id="Sector-Proofs"><a href="#Sector-Proofs" class="headerlink" title="Sector Proofs"></a>Sector Proofs</h3><p>Sector proofs have always had a problem: the proofs can fail. Initially, I thought the issue was that the contract did not include the file list information during proof checks, leading to expired files not being deleted. Later, I discovered more issues. After fixing the code, if a file was stored on only one storage node, it was fine. But if there were multiple storage nodes, the proof still failed.</p><p>The final reason found was that when a file is stored on multiple nodes, and other nodes submit proofs to the contract, if they find the file has expired, they delete the node’s corresponding file information in the contract and broadcast to other nodes to delete this file. However, when other nodes received the notification, they only deleted the local issue, not the file information in the contract, leading to frequent discrepancies between local files and those recorded in the contract, causing the proof to fail.</p><p>Solving this problem involved thoroughly reviewing the proof-related code.</p><h3 id="EVM-Contracts"><a href="#EVM-Contracts" class="headerlink" title="EVM Contracts"></a>EVM Contracts</h3><p>In last year’s [Annual Work Review](&#x2F;2022&#x2F;08&#x2F;27&#x2F;One Year Work Review&#x2F;), I mentioned rewriting a Go language contract in Solidity, migrating the original contract to run on Ethereum.</p><p>The part of the project that supports Ethereum accounts was completed long ago, allowing storage nodes to use Ethereum nodes and implement file upload and download through Ethereum smart contracts. However, the contract proof section remained unfinished because the project used Bulletproof’s zero-knowledge proof, which was too difficult to rewrite in Solidity.</p><p>The current approach is to use the POA method, where the contract should perform the proof, replacing it with submitting proof parameters and recording them in the contract. Verification nodes then retrieve the proof parameters from the contract, verify the zero-knowledge proof locally, and submit the proof results back to the contract.</p><p>Having reviewed the proof-related code, I can now complete the proof-related part of the EVM contract.</p><h3 id="Why-Ignore-Layer2"><a href="#Why-Ignore-Layer2" class="headerlink" title="Why Ignore Layer2"></a>Why Ignore Layer2</h3><p>I once considered performing the proofs on Layer2 nodes. I made no progress in this direction for two reasons:</p><ol><li>Layer2 is positioned as EVM complete, without additional functionalities.</li><li>Layer2 is also difficult to validate.</li></ol><p>The first point means that for users or developers, the significance of Layer2 is to reduce fees. If it performs identically to Layer1, it would be exceptional. Adding extra features to Layer2 might not align with the purpose of such projects.</p><p>The second point means that Layer2 projects modify Layer1’s node header information, making it hard to implement file validation. It would require recognizing a transaction as a function call of a specific contract in the bytecode layer, verifying zero-knowledge proof parameters, and writing the verification results back into variables at the bytecode level. This is challenging but, if accomplished, would essentially create a business-specific EVM virtual machine, boasting high technical barriers and showing off potential.</p><p>In contrast, a simpler approach is to use a client to verify proof parameters and submit the results back. Whether the client is on Layer2 nodes or elsewhere doesn’t matter. I chose this simpler approach, which, though less impressive, can be completed within my lifetime and shows results, which is now achieved.</p><h3 id="Solidity-Contracts"><a href="#Solidity-Contracts" class="headerlink" title="Solidity Contracts"></a>Solidity Contracts</h3><p>A brief summary of the issues encountered when migrating Go contracts to Solidity.</p><p>Contract size cannot exceed 24 KB, or it will fail to compile. For business contracts, 24 KB is insufficient, requiring splitting into two or more contracts and achieving functionality through inter-contract calls. Splitting isn’t difficult; it just requires clarity on the functions, distinguishing external from internal ones.</p><p>Storage structures can’t include lists, as lists are not fixed-length, making it hard for contracts to calculate space usage. This requires separating lists from structures and using them independently. If familiar with business logic, this is not an issue; otherwise, encountering unfamiliar variable names can be annoying. I was lazy and didn’t write the full logic in the contract, taking two days to figure out the problem.</p><p>Mappings can’t be iterated. Simple original methods need complex rewrites using libraries.</p><p>Mappings return default values if elements don’t exist. It’s impossible to check if a mapping contains a key. If the default value type has meaning in the business, unexpected situations might arise.</p><p>These are minor issues but can complicate the coding process as they require different methods to achieve identical logic.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;A review of the past six months of work. Six months ago, I felt lost because I knew Filecoin was adapting to EVM, shifting the storage</summary>
        
      
    
    
    
    
    <category term="Work" scheme="https://en.smallyu.net/tags/Work/"/>
    
  </entry>
  
  <entry>
    <title>Don&#39;t Underestimate ChatGPT</title>
    <link href="https://en.smallyu.net/2023/03/30/Don&#39;t%20Underestimate%20ChatGPT/"/>
    <id>https://en.smallyu.net/2023/03/30/Don&#39;t%20Underestimate%20ChatGPT/</id>
    <published>2023-03-30T09:09:36.000Z</published>
    <updated>2025-08-06T10:38:27.654Z</updated>
    
    <content type="html"><![CDATA[<p>Previously, I didn’t understand how Filecoin manages disk space. Since it uses Proof of Space, the Sector must occupy disk space when it’s created. How does Filecoin release the occupied space promptly when a user’s file is stored in the Sector? Releasing the space every time a file is written seems too rigid.</p><p>I checked Filecoin’s <a href="https://docs.filecoin.io/basics/what-is-filecoin/storage-model/">documentation</a> and <a href="https://spec.filecoin.io/systems/filecoin_mining/sector/">specifications</a>, but I couldn’t find a direct answer. Running a Filecoin node is quite costly, requiring high-end hardware and close monitoring of disk capacity during operation.</p><p>I happened to ask ChatGPT about it, and to my surprise, it provided a detailed explanation, making me look at ChatGPT in a new light. Filecoin doesn’t release disk space in real-time. Instead, after a Sector is filled with files, there’s a Sealing process, which seals the Sector and replaces the previously generated random files with real data for mining and earning rewards.</p><p>I once heard in a video that Filecoin’s disk utilization is only 50%, but I didn’t understand why. Now it makes sense; before Sealing, the Sector occupies twice the disk space.</p><p>What’s most surprising is ChatGPT’s capability. In retrospect, if I had an experienced Filecoin researcher, they could easily answer my question. But the challenge is finding such an expert willing to answer my questions. Now I have found one.</p><p>On December 21, 2020, I wrote on <a href="/micro-blog/#2020-32">Weibo</a>:</p><blockquote><p>Simple memory has no meaning. Memorizing content from books and the internet only makes one “appear” knowledgeable, deceiving the ignorant. If we think of computers and the internet as another form of life, they would be more knowledgeable than any human.</p></blockquote><p>Unexpectedly, such “life” has now appeared. ChatGPT integrates professional knowledge from various fields and can converse in human language. I always knew that merely increasing my “dead knowledge” reserve was useless because there will always be someone you can’t surpass, even if that someone isn’t human.</p><p>Recently, there was a case of ChatGPT surpassing human abilities: <a href="https://www.zhihu.com/question/592511373">How to view a man’s pet dog being diagnosed by a veterinarian and later saved by asking GPT-4?</a>. The gist is, due to limited veterinary experience, the vet focused only on one possible cause of the dog’s illness. Later, the owner let ChatGPT analyze the dog’s health indicators, and ChatGPT provided two possibilities. At the hospital, it turned out to be the second one. Unlike vets, ChatGPT isn’t limited by past experiences, making it appear more knowledgeable.</p><p>As we age, we must abandon extreme thinking. We cannot believe AI will replace humans because current AI lacks true intelligence. Nor can we deny that AI excels in certain areas and can be a great assistant to humans.</p><p>The most advanced large language model now is GPT-4, which requires a $20 per month subscription on the ChatGPT website. The free preview version is GPT-3.5, which is also impressive. When people thought AI chat was limited to Microsoft’s Xiaoice and Apple’s Siri, GPT-3.5 emerged, gaining widespread attention. I used GPT-3.5 for various tasks, such as generating positive podcast reviews for friends and completing programming assignments for vocational school students.</p><p>ChatGPT’s translation ability is also strong, often surpassing Google Translate. For instance, the term “兜底机制” is translated by Google as “Pocket Mechanism,” whereas ChatGPT translates it as “fallback mechanism,” clearly showing ChatGPT’s understanding of the term’s meaning. Another example is “布偶猫,” translated by Google as “cat plush,” while ChatGPT translates it as “Ragdoll cat,” demonstrating a significant difference in accuracy.</p><p>However, GPT-3.5 has been criticized for “speaking nonsense seriously.” As a language model, programmers can understand why this happens—it’s like choosing from a set of templates, selecting the best-sounding answer from existing language templates. GPT-3.5 seems to work this way. Therefore, relying on GPT-3.5 for knowledge carries significant risk; it can provide correct information but also present fabricated content as knowledge.</p><p>Google’s large language model <a href="https://bard.google.com/">Bard</a> has comprehensive abilities inferior to ChatGPT, weak code handling capabilities, and also suffers from “speaking nonsense seriously” and often “answering off-topic.” Chinese products are even less competitive.</p><p>Compared to GPT-3.5, GPT-4 should be improved in all aspects. While it’s unclear how much the accuracy of information has improved, its language understanding is indeed superior to GPT-3.5, as discussed <a href="https://v2ex.com/t/927744">here</a>. GPT-4 uses a different training model architecture than GPT-3.5, and Microsoft has released a <a href="https://arxiv.org/abs/2303.12712">technical paper</a> on GPT-4. The paper indicates that GPT-4 supports multi-modality, meaning it can generate statistical graphs based on input data, which may not yet be publicly available.</p><p>GPT-4’s overwhelming capabilities have raised many concerns, even prompting Elon Musk to sign an <a href="https://futureoflife.org/open-letter/pause-giant-ai-experiments/">open letter to pause training AI more powerful than GPT-4</a>. No one knows whether GPT-4’s emergence will benefit or harm human society.</p><p>Many products have already integrated GPT’s capabilities. Microsoft’s Office suite was the first to support it, being a self-developed product. It’s uncertain how effective it will be in actual use, but it could revolutionize many repetitive tasks, with GPT capable of handling them more effectively. You don’t need to know how to write a particular function in Excel; with GPT, you can describe it in natural language. Future computer education might include a new subject: how to communicate efficiently with ChatGPT.</p><p>Microsoft’s Bing search engine has also incorporated GPT capabilities. Without GPT, Bing’s search results cannot compete with Google. With GPT, Bing gains the ability to search using natural language. New Bing works by having GPT search the content, summarize it, and then describe it in natural language. The advantage is that GPT presents correct content, but the downside is slower processing. While it’s worth trying, for programmers, Google remains the go-to for quick solutions.</p><p>More exciting is the prospect of GPT-4 plugins, integrating GPT into more scenarios, such as replacing GitHub Copilot for code generation. Once you use Copilot, you can’t go back. It was considered advanced to have automatic code completion, but soon after Copilot’s release, GPT emerged. Copilot faces a threat and has introduced the Copilot X solution, but I have more faith in GPT’s future. I’ve canceled my $10 monthly Copilot subscription and subscribed to ChatGPT Plus for $20 a month, believing GPT will shine in the future.</p><p>Using ChatGPT outside the US still has some hurdles. You need to access the ChatGPT website normally, register with a US phone number, and subscribe to Plus with a US bank card. After several steps, buying a pre-configured account for 150 RMB is the most cost-effective option. Otherwise, even with high costs, success isn’t guaranteed.</p><p>You can buy a US phone number for 300 RMB from Ultra with no KYC, starting with +1, with long-term retention and a $3 monthly fee. With Wi-Fi Calling enabled, you get 100 free SMS. A US phone number is quite useful for opening a US PayPal account and using a US Apple ID with US PayPal. US PayPal can be linked to a domestic Visa credit card. Many IM apps also require a foreign phone number for verification.</p><p>For foreign bank cards, try Depay virtual cards, growing rapidly due to ChatGPT membership needs. You can recharge with cryptocurrency and spend in USD. However, ChatGPT orders have various risk control rules, with IP and order address inconsistencies potentially triggering risk controls, causing subscription failures. For just opening ChatGPT Plus, Apple Pay is available on iPhones accessing ChatGPT, and US PayPal can be tried. Overall, buying an account is the fastest and easiest way.</p><p>Additionally, text-to-image generation in the AI field is quite popular. I’ve tried several hot products.</p><ul><li><a href="https://labs.openai.com/">DALL-E</a> from the same company as GPT, but often produces distorted characters</li><li><a href="https://replicate.com/explore">Replicate</a> offers various model trials, such as <a href="https://replicate.com/stability-ai/stable-diffusion">stable-diffusion</a>, with the same issue of generating strange characters</li><li><a href="https://www.midjourney.com/">Midjourney</a> operates on Discord, producing quality images but with small scenes</li></ul><p>In my experience, current text-to-image generation isn’t very effective, heavily depending on precise input descriptions matching the model’s rules. Hopefully, future improvements with GPT’s natural language capabilities will make text-to-image generation more user-friendly.</p><p>Having ChatGPT is like having an unprecedentedly powerful knowledge base with rich language capabilities, dedicated to serving you. Shouldn’t you own one?</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Previously, I didn’t understand how Filecoin manages disk space. Since it uses Proof of Space, the Sector must occupy disk space when</summary>
        
      
    
    
    
    
    <category term="AI" scheme="https://en.smallyu.net/tags/AI/"/>
    
  </entry>
  
  <entry>
    <title>A Pension Calculator</title>
    <link href="https://en.smallyu.net/2023/03/26/A%20Pension%20Calculator/"/>
    <id>https://en.smallyu.net/2023/03/26/A%20Pension%20Calculator/</id>
    <published>2023-03-26T14:31:04.000Z</published>
    <updated>2025-08-06T10:38:27.632Z</updated>
    
    <content type="html"><![CDATA[<p>Due to the special occupational rules in the computer industry, let’s assume a worst-case scenario plan: saving up all the pension funds for parents before the age of 35.</p><p>The motivation for this plan involves some serious but very depressing issues, which I really don’t want to elaborate on.</p><p>I wrote an online webpage to describe the specific calculation process: <a href="/html/pension.html">Pension Calculator</a></p><p>Interestingly, the style of this webpage was generated by ChatGPT. I was too lazy to write colored CSS, so I handed the tag code inside the body to ChatGPT and let it help me generate a light color style.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Due to the special occupational rules in the computer industry, let’s assume a worst-case scenario plan: saving up all the pension funds</summary>
        
      
    
    
    
    
    <category term="Mission" scheme="https://en.smallyu.net/tags/Mission/"/>
    
  </entry>
  
  <entry>
    <title>Why Trading Cryptocurrencies is Not a Good Idea</title>
    <link href="https://en.smallyu.net/2023/03/15/Why%20Trading%20Cryptocurrencies%20is%20Not%20a%20Good%20Idea/"/>
    <id>https://en.smallyu.net/2023/03/15/Why%20Trading%20Cryptocurrencies%20is%20Not%20a%20Good%20Idea/</id>
    <published>2023-03-15T10:38:01.000Z</published>
    <updated>2025-08-06T10:38:28.725Z</updated>
    
    <content type="html"><![CDATA[<p>Lately, I’ve been troubled by the pain of poverty for a long time, but I don’t think trading cryptocurrencies is a good way to gain wealth. Especially short-term operations and various leveraged contract trades.</p><p>The cryptocurrency world is like a casino filled with the temptation of money, with major exchanges and various DeFi Dapps being the games on the gambling table. Gamblers might win or lose money, but ultimately, it’s the casino that makes money. Very few gamblers can leave the table unscathed.</p><p>Smart people only treat cryptocurrencies as a financial tool, allocating a portion of their disposable assets based on investment nature. Long-term operations can be considered investments, but short-term trading is just gambling.</p><p>The fundamental reason for this phenomenon is that no one can predict the market trend.</p><p>Many people like to analyze the market changes with sound reasoning after they occur, discussing the favorable news, technical trends, and cyclical patterns. The biggest commonality of these analyses is that they are all retrospective. Before things happen, no one knows what will happen. Look at the several black swan events in the past year; how many were predicted by economists or blockchain scientists?</p><p>The reason is simple: no one can predict the future.</p><p>Moreover, if those self-proclaimed quant masters and market trend predictors really possessed the wealth code, why would they reveal it? Why are they eager for everyone to know? It indicates that they are just guessing, and the benefits of increasing their popularity outweigh the profits from the so-called wealth code.</p><p>From an investment perspective, the returns from cryptocurrency trading are quite limited, yet it requires bearing extremely high risks. Compared to traditional funds and stocks, the fluctuations are much larger, but the volatility of cryptocurrency markets is still far from the level that would make someone wealthy overnight. Perhaps ten years ago it was possible, but if you went back ten years, would you really dare to buy?</p><p>It’s easy to see everything clearly from the peak of history, but as a participant in history, it’s very difficult to be ahead of the times, requiring extraordinary vision and courage.</p><p>Additionally, the wild development of cryptocurrencies has somewhat deviated from the realm of value investing. The rise and fall of the market and the bull and bear cycles are not due to changes in people’s perception of cryptocurrencies themselves, at least not in recent years. They are mostly influenced by the Federal Reserve’s monetary policy. In other words, the current cryptocurrency market is only this big, and unless the market capacity is expanded, new chains are just competing for market share with existing chains.</p><p>Therefore, the opportunities to expand the crypto market lie in Web 3.0 and the metaverse. More people from non-crypto industries need to participate in the crypto market.</p><p>The only way to consistently profit from trading cryptocurrencies is through insider trading, which requires sources of information at that level. KOLs (Key Opinion Leaders) can influence the market to some extent. If a KOL has a huge number of followers, they can guide their followers to concentrate on a certain point, which is also a form of market manipulation. Ultimately, those who follow the trend are not the ones who profit, making it unreliable.</p><p>As for why it’s important to care about trading cryptocurrencies, it’s because work itself cannot make you wealthy. Working can be a process of accumulating wealth, but it won’t result in sudden wealth growth. It’s necessary to think and look for opportunities that can bring more returns.</p><p>Regarding the logic of running a business, typically, a company starts with investors’ money and then returns the profits to shareholders once it becomes profitable. Companies often have multiple product lines, and as long as the overall revenue exceeds the costs, the company can survive.</p><p>In fact, companies are also conflicted when it comes to layoffs. If due to profitability issues, a product line needs to be cut, the dilemma lies in whether to endure this difficult period, hoping the product might bring more profits in the future, or risk more losses by not cutting it in time. If it’s directly cut, more costs will be incurred to develop such a product line again in the future.</p><p>Another dilemma in layoffs is when one person scores 60 in field A and another scores 80 in field B. Now, if the entire product line of field B is cut, all people in field B are laid off, meaning the company loses more capable people. Therefore, layoffs are difficult and are closely related to the company’s operational situation and strategic direction.</p><p>In conclusion, trading cryptocurrencies is not advisable, and blindly relying on the company where you work is also not advisable.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Lately, I’ve been troubled by the pain of poverty for a long time, but I don’t think trading cryptocurrencies is a good way to gain</summary>
        
      
    
    
    
    
    <category term="Cryptocurrency Trading" scheme="https://en.smallyu.net/tags/Cryptocurrency-Trading/"/>
    
  </entry>
  
  <entry>
    <title>How Much Does It Cost to Eat a Meal in Beijing</title>
    <link href="https://en.smallyu.net/2023/03/11/How%20Much%20Does%20It%20Cost%20to%20Eat%20a%20Meal%20in%20Beijing/"/>
    <id>https://en.smallyu.net/2023/03/11/How%20Much%20Does%20It%20Cost%20to%20Eat%20a%20Meal%20in%20Beijing/</id>
    <published>2023-03-11T03:45:57.000Z</published>
    <updated>2025-08-06T10:38:27.656Z</updated>
    
    <content type="html"><![CDATA[<p>Looking back over the past six months of blog content, it seems a bit too serious and heavy. Recently, I’ve had a lot of meals and started to get a general idea of dining costs.</p><center style="font-size: 110%;"><strong>Chinese Cuisine</strong></center><p>According to Beijing’s consumption level, an average of 180 RMB per person can get you a decent Chinese meal. If it’s below ¥180, it might seem a bit shabby. Even if you can just get full, the girl sitting across from you might not be satisfied. The best state is when there are still half a plate of food left after you’re full, and you can chat for a while and still have a few more bites.</p><img src="a.png" style="width:40%;" /><p>This is a spicy grilled fish I had a few days ago at Wangjing Kaide MALL, at a place called Nanluo Feimao. It was delicious. The fish was tender, with few bones, slightly spicy, just the right level of heat. The photo turned out bright and colorful. The pot had some additional ingredients, like luncheon meat, yuba, and fried dough sticks, averaging ¥180 per person.</p><img src="j.png" style="width:50%;" /><p>This is from a grilled fish place at Blue Harbor. I’m not sure if this counts as grilled fish since it’s soaked in soup. The fish wasn’t tasty, not as good as spicy grilled fish, but it was boneless. The sausage in the middle was something I insisted on ordering, but it all got left over. It wasn’t bad, just couldn’t eat any more. This meal averaged ¥300 per person, quite expensive, but a lot was wasted. We didn’t think to pack it up at the time.</p><img src="e.png" style="width:50%;" /><p>Beijing roast duck is a famous local dish, a classic. This was at Jinghua Yunyan in Hopson One, a slightly down-to-earth place with close square tables. Prices are moderate to low for a roast duck restaurant. The sweet shrimp wasn’t very good, but the drink cups were very cute. It was winter at the time, and the cups had little hats, which could be taken home as souvenirs. You can get full with ¥140 per person; if you order a couple more dishes, it’s ¥180 per person.</p><img src="c.png" style="width:50%;" /><p>This is at Siji Minfu Roast Duck Restaurant in Wangjing, a very popular chain where you almost always have to wait for over 40 minutes during meal times. The roast duck here is definitely tasty, but I think the best part is the meat soup, especially the soup, which is very delicious. The dishes initially have a strange smell that might be off-putting, but after a couple of sips, you start to like it. The cold dish, which I’m not sure what it’s mixed with, is very fine and cool, with a great texture. I don’t remember much about the roast duck, just that there were many dishes and we couldn’t finish them. The average cost per person was under ¥200.</p><p>Xiaoda Dong is also a well-known chain with many branches in various commercial districts. There’s one on the third floor of Sanlitun Taikoo Li. The braised pork is really satisfying, a must for meat lovers. Xiaoda Dong’s Kung Pao Chicken is also better than Siji Minfu’s, very flavorful. It also costs under ¥200 per person, with many dishes you can’t finish, leaving you very full. Unfortunately, I forgot to take pictures.</p><p>The more expensive roast duck restaurant is Ti Du, where I had a company dinner. The environment is very elegant, and the dishes are quite sophisticated. I haven’t dined there alone, but I estimate it costs at least ¥300 per person.</p><img src="b.png" style="width:50%;" /><p>This is from a Taiwanese restaurant called Taixiangli in Wudaokou Shopping Center. The three-cup chicken is the signature dish with a heavy sauce flavor. The grilled meat rice bowl is also worth trying, very filling. However, the crab roe bun was mediocre, a bit bland, possibly because the three-cup chicken’s strong flavor overpowered it. The average cost was around ¥170 per person.</p><img src="p.png" style="width:50%;" /><p>This is a spicy hot pot, cheap and delicious. The price of hot pot is similar; Haidilao costs around ¥150 per person, enough to get full, with leftovers.</p><center style="font-size: 110%;"><strong>Western Cuisine</strong></center><p>For a more upscale environment, you have to go for Western cuisine. The atmosphere is better, with larger table distances and flower vases on the tables. It’s also more expensive than Chinese cuisine. Cheaper Western meals cost around ¥250 per person, while pricier ones go up to ¥500 per person. I haven’t had anything more expensive.</p><img src="k.png" style="width:50%;" /><p>At a Western restaurant in Sanlitun, I didn’t have time for steak, so I ordered pizza and pasta, finished all the dishes in 10 minutes. I remember the pasta here being the best I’ve ever had, but when I went back, the pasta, pizza, and burgers were all different. The ingredients and plates had changed, and the taste wasn’t the same. By the way, why do Western restaurants have Japanese slogans? 😂</p><img src="g.png" style="width:50%;" /><p>This is a small place in a small mall in Wangjing, on the -1 floor. The photo by the window turned out nice. It was a casual dinner, averaging ¥250 per person.</p><img src="i.png" style="width:50%;" /><img src="m.png" style="width:40%;" /><p>This is the famous Flower Restaurant, with a great environment and beautiful dishes. The second photo is a blue butterfly cocktail, which changes color from blue to pink when you pour in the liquor, quite fun. The average cost was under ¥300 per person.</p><img src="h.png" style="width:50%;" /><p>This is the most expensive Western meal I’ve had, at Steak House. The Wellington steak set was very tender and delicious. The average cost was ¥500 per person.</p><center style="font-size: 110%;"><strong>Korean Cuisine</strong></center><p>For Korean cuisine, you can try the simplest bibimbap, available in various mall fast-food joints, costing ¥50 per person. Or you can try army stew, with Shin Ramyun being the best, and it’s not expensive. You can also buy a few packs of Shin Ramyun for ¥5 each to try at home.</p><img src="n.png" style="width:40%;" /><p>This is from a place in Wangjing called Yuan Mama’s Andong Chicken, in a shopping district. The chicken is Korean-style, with a slightly spicy flavor. The place is small and looks like home cooking, but the chicken is quite delicious. The soup looks heavy but is drinkable, and I really like the taste. Especially pouring the soup over rice to make a mixed rice dish. The average cost was ¥120 per person.</p><img src="f.png" style="width:50%;" /><p>A more substantial dish is Korean BBQ. Pork belly is the best, must order two servings, along with beef brisket and seaweed rice. But be careful not to let the BBQ catch fire; once, we used a wire mesh to grill the beef brisket, and it caught fire, burning all the meat.</p><center style="font-size: 110%;"><strong>Mexican Cuisine</strong></center><img src="l.png" style="width:40%;" /><p>Mexican food is inexpensive and surprisingly delicious. The meat looks dark but isn’t burnt, with a layer of sauce on top. Mexican dishes are typically wrapped in tortillas. There are small cards on the table explaining how to eat them: lift your hand, hold the tortilla, keep your forearm parallel to the table, and tilt your head 45 degrees. It’s quite a particular way of eating. Of course, if you really eat like that, it might look weird.</p><center style="font-size: 110%;"><strong>Japanese Cuisine</strong></center><p>Japanese cuisine prices are similar to Western cuisine, with many raw dishes like sashimi. I don’t eat it often, but sukiyaki is a common dish, along with various small grilled skewers. However, Japanese restaurants seem to have small and cramped spaces. There’s a place in Beijing, I forgot the name, where you can wear kimonos and take Japanese-style photos at the entrance, but the clothes aren’t new, the food is mediocre, expensive, and the portions are small, mainly for photo ops.</p><center style="font-size: 110%;"><strong>Desserts</strong></center><p>If you didn’t have lunch, you’d need to have afternoon tea around two or three in the afternoon. Although it’s just desserts, serving as a snack, the price isn’t cheap. Dessert prices vary, depending on the style of the dessert shop. There are basically two types. Fast-food-style dessert shops cost ¥80 per person, with each person having a cake and a drink, and maybe another cake or ice cream. The other type is internet-famous dessert shops, luxuriously decorated, designed for girls to take pictures, costing ¥180 per person.</p><img src="d.png" style="width:40%;" /><p>This is a fast-food-style dessert</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Looking back over the past six months of blog content, it seems a bit too serious and heavy. Recently, I’ve had a lot of meals and</summary>
        
      
    
    
    
    
    <category term="Life" scheme="https://en.smallyu.net/tags/Life/"/>
    
  </entry>
  
  <entry>
    <title>Blockchain Needs a Technological Revolution</title>
    <link href="https://en.smallyu.net/2023/03/06/Blockchain%20Needs%20a%20Technological%20Revolution/"/>
    <id>https://en.smallyu.net/2023/03/06/Blockchain%20Needs%20a%20Technological%20Revolution/</id>
    <published>2023-03-06T10:45:05.000Z</published>
    <updated>2025-08-06T10:38:27.639Z</updated>
    
    <content type="html"><![CDATA[<p>I happened to see a video earlier, which was about an Internet conference in a certain year. Robin Li of Baidu mentioned that Baidu made a mistake by not seizing the opportunity of mobile Internet. Back then, they thought SMS was expensive, costing 0.1 yuan per message, so they didn’t believe mobile search would become popular and did not invest in the mobile sector. By the time they realized the trend, it was too late. Mobile search was not just about shrinking web pages.</p><p>Hearing this speech reminded me, wasn’t the 0.1 yuan SMS back then similar to the current $10 Ethereum transaction?</p><p>The expensive SMS protocol charged per message, discouraging widespread use. As a result, the cheaper TCP protocol for Internet usage, charged based on traffic rather than messages, led to the obsolescence of SMS.</p><p>Let’s make a simple analogy: what if Ethereum stopped charging per transaction and instead charged based on the transaction amount?</p><p>This would require a fundamental change in the basic operating logic of the blockchain. Without considering implementation details, under the premise of “charging based on transaction amount,” what would happen to the blockchain?</p><p>Charging based on transaction amount means, for example, setting a transfer fee of 1%, so a $100 transfer would incur a $1 fee. Transferring $100 at once or in 10 transactions of $10 each would cost the same fee. The biggest advantage of this is that it greatly favors the popularity of small transactions.</p><p>(Then the network transaction volume skyrockets, miners can’t handle such a massive volume, the network becomes congested, paralyzed, chaotic, leading to multiple forks…</p><p>The popularity of small transactions means Ethereum is no longer just a financial product but becomes true currency. Currency can better fulfill the role of value transfer, which was also the initial vision of Bitcoin.</p><p>In other words, the most fundamental factor limiting the expansion of cryptocurrencies is the blockchain network’s ability to process transactions, requiring high throughput and low fees.</p><p>Under the current technical framework, this is almost impossible. If Bitcoin is SMS, Ethereum is a service that uses SMS for information retrieval, the Lightning Network is like an SMS subscription package, DeFi provides SMS-based financial management capabilities, DAO is an SMS group, GameFi is using SMS to play Snake, ZK Rollups is the most secure encryption for SMS… Web 3.0 is the mobile era integrating various SMS services, and the Metaverse is a virtual world using SMS as IM.</p><p>Today’s blockchain is still centered around “SMS,” striving to expand SMS’s business capabilities. However, the truly revolutionary technology needed is the Internet.</p><p>Next, let’s consider the possibilities of causing a technological revolution.</p><p>First is the exponential growth in hardware performance. If network transmission performance is greatly improved, blockchain transaction speed will also see significant enhancement.</p><p>Secondly, there is breakthrough progress in consensus algorithms. If consensus algorithms require fewer interactions and less network bandwidth, transaction capabilities can also improve.</p><p>Finally, we await the arrival of the Lord to bring new hope to the earth.</p><p>For the current state of the blockchain industry, you can refer to this article, which is an interview record by BlockBeats at this year’s ETHDenver conference: <a href="https://www.theblockbeats.info/news/35283">Interviewing 75 ETHDenver Participants: What “Wealth Codes” Did They Find at the Conference?</a> I didn’t read it thoroughly, but the gist is, there’s nothing too new, technological development faces resistance, and the industry is waiting for an explosion of applications.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;I happened to see a video earlier, which was about an Internet conference in a certain year. Robin Li of Baidu mentioned that Baidu made</summary>
        
      
    
    
    
    
    <category term="Blockchain" scheme="https://en.smallyu.net/tags/Blockchain/"/>
    
    <category term="Blockchain Revolution" scheme="https://en.smallyu.net/tags/Blockchain-Revolution/"/>
    
  </entry>
  
  <entry>
    <title>A Mechanism for Generating Random Numbers on the Blockchain</title>
    <link href="https://en.smallyu.net/2023/02/22/A%20Mechanism%20for%20Generating%20Random%20Numbers%20on%20the%20Blockchain/"/>
    <id>https://en.smallyu.net/2023/02/22/A%20Mechanism%20for%20Generating%20Random%20Numbers%20on%20the%20Blockchain/</id>
    <published>2023-02-22T10:19:59.000Z</published>
    <updated>2025-08-06T10:38:27.628Z</updated>
    
    <content type="html"><![CDATA[<p>The blockchain itself does not allow for random numbers because all nodes need to synchronize their results. If the results differ each time, the entire network would be in chaos. In other words, on the blockchain, if there is a function that generates random numbers, it needs to meet two requirements: 1. The return value is unpredictable; 2. The return value is deterministic.</p><p>These two requirements seem contradictory, but there are solutions. Chainlink’s oracle provides a method for generating random numbers using VRF. Due to the characteristics of VRF, it is suitable for generating random numbers in the blockchain scenario.</p><p>However, now we need to discuss another issue: miner misbehavior. You can refer to this article: <a href="https://hackingdistributed.com/2017/12/24/how-not-to-run-a-blockchain-lottery/">How Not To Run A Blockchain Lottery</a></p><p>Suppose there is a lottery game running on the blockchain, and miners also participate in the lottery. Since winning the lottery results in huge rewards, as long as the reward exceeds the miner’s mining income, the miner has enough motivation to misbehave. The way to misbehave is that because the execution result of a transaction is deterministic, the miner will know the result first. If the result is unfavorable to them, the miner can refuse to produce the block. Economically, this may not be worthwhile for the miner, but this situation not only adds unfairness to the lottery game but also gives miners the right to misbehave. Miners can also be bribed, and if miners collectively misbehave, the network will be in chaos.</p><p>In the face of this situation, we need a way to generate random numbers where miners cannot know what the number is. The random number will only be revealed after the block is confirmed on the chain.</p><p>What is truly random and hard to predict? The future is unpredictable.</p><p>We can try using this method: use the block hash of the block height +2 of the current transaction as the random number seed.</p><p>For example, a transaction is initiated to generate a random number, the current block height is 1, after the transaction is submitted, the random number is null, and the actual random number will only be displayed when the block height reaches 3. Because this random number uses the block hash of height 3 as the random number seed, no one can know what this number will be before the block height reaches 3.</p><p>In the lottery scenario, the lottery result is determined at block height 1, users have already participated in the lottery in the transaction at block height 1, and the lottery result is only announced at block height 3. This almost avoids the problem of miner misbehavior because at block height 1, miners do not know what the result is, and at block height 3, the order and result of the lottery have been determined.</p><p>But can’t miners refuse to produce blocks at block height 3? Refusing 1 block or refusing 3 blocks makes no difference.</p><p>Here we need to distinguish between two situations:</p><ul><li>Requests made at block height 1, querying at block heights 3, 4, and 5 will all get the random number calculated using the block hash at height 3 as the seed.</li><li>Requests made at block height 1 use the block hash at height 3 as the seed; requests made at block height 2 use the block hash at height 4 as the seed.</li></ul><p>To achieve a completely random effect, the second method should be used.</p><p>But then the problem arises, the current block height is constantly changing, won’t this random value become a variable? Users generate a random number at block height 3 and want to know what this random number is, but they can never get this value because the number is actually produced at block height 5, and when querying at block height 5, they have to wait until block height 7…</p><p>Here we need to distinguish between two concepts: generating a random number and querying a random number. The above two situations are described based on the mechanism of querying a random number.</p><p>According to the mechanism of generating a random number, the second method is necessary, otherwise, the random number becomes a constant. What about querying? The undeniable fact is that as long as the user can query the result, the miner can also query it and will know in advance. The problem returns to the original dilemma, which seems unsolvable.</p><p>No, no.</p><p>Why set it to use the block hash of height +2 instead of +1? It is to avoid miners knowing the result in advance. If it is +1, miners can know the result after mining 1 block; if it is +2, miners generally find it difficult to lead the network by 2 blocks.</p><p>So a better approach is to request a random number at block height 1, and then use the block hashes of block heights 2 and 3 as the random number seed. In this case, the miner’s third block will have some influence on the random number, but not a decisive influence. It is possible that the second block has already determined that the miner will not win, so the miner has no reason to misbehave at the third block.</p><p>But what if the third block can still greatly influence the random number? Miners can still refuse to produce blocks.</p><p>From this perspective, the more delayed blocks, the less influence the miner has. If the random number is determined by the block hash of +10 blocks, the first 9 blocks have already eliminated all miners, so miners will not misbehave.</p><p>Are there better solutions? It seems not. If the block hash of +2 blocks is used as the private key for symmetric encryption, the random value is generated before the +2 block is produced but cannot be decoded. The problem is that the contract cannot use the +2 block as the key to encrypt the random value in advance.</p><p>We can only reduce the miner’s influence.</p><p>The future is unpredictable, but when it arrives, some will always have foresight.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;The blockchain itself does not allow for random numbers because all nodes need to synchronize their results. If the results differ each</summary>
        
      
    
    
    
    
    <category term="Blockchain" scheme="https://en.smallyu.net/tags/Blockchain/"/>
    
    <category term="MEV" scheme="https://en.smallyu.net/tags/MEV/"/>
    
  </entry>
  
  <entry>
    <title>Why the Private Key Calculation of Ethereum is Irreversible</title>
    <link href="https://en.smallyu.net/2023/02/20/Why%20the%20Private%20Key%20Calculation%20of%20Ethereum%20is%20Irreversible/"/>
    <id>https://en.smallyu.net/2023/02/20/Why%20the%20Private%20Key%20Calculation%20of%20Ethereum%20is%20Irreversible/</id>
    <published>2023-02-20T15:42:24.000Z</published>
    <updated>2025-08-06T10:38:28.726Z</updated>
    
    <content type="html"><![CDATA[<p>Have you ever wondered why the private key of Ethereum cannot be reverse-calculated from the account address? When you have a private key and want to get the account address corresponding to this private key, you can import the account into MetaMask, or use an SDK like ether.js to import an account into the wallet at the code level, and then print out the account address. Is there any black box operation in this account import process?</p><p>A few days ago, I accidentally saw an article on Medium, where the author wrote a very concise code to calculate the process from the private key to the address. The author’s code is here <a href="https://gist.github.com/RareSkills/eb51623908f348663cd6a241d9dbf115">RareSkills&#x2F;generate-ethereum-address-lower-level.py</a>.</p><p>I copied the code:</p><pre><code class="python">from ecpy.curves import Curvefrom sha3 import keccak_256private_key = 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80cv     = Curve.get_curve(&#39;secp256k1&#39;)pu_key = private_key * cv.generator # just multiplying the private key by generator point (EC multiplication)concat_x_y = pu_key.x.to_bytes(32, byteorder=&#39;big&#39;) + pu_key.y.to_bytes(32, byteorder=&#39;big&#39;)eth_addr = &#39;0x&#39; + keccak_256(concat_x_y).digest()[-20:].hex()print(&#39;private key: &#39;, hex(private_key))print(&#39;eth_address: &#39;, eth_addr)</code></pre><p>This code has only four or five lines, and there are two key points in the calculation: <code>private_key * cv.generator</code> and <code>keccak_256(concat_x_y)</code>. Apart from these two points, the other parts are constant calculations. At first glance, it seems complicated, but when you look at it carefully and break it down, it’s all very simple string concatenation.</p><p>Among them, <code>private_key * cv.generator</code> is the calculation of the elliptic curve. The private key <code>private_key</code> defined above is a hexadecimal number, note it is of <code>int</code> type, and then the generator of the elliptic curve is used to calculate a value. This calculation process is irreversible, which is the process of circling on the elliptic curve. It can be understood by analogy that after a number is taken modulo, you cannot restore the number before the modulo. The elliptic curve just uses a more complex method to provide a safer calculation result than RSA.</p><p>The second irreversible calculation is <code>keccak_256(concat_x_y)</code>, which is a process of calculating the hash value. Keccak is a kind of sha3. Digest algorithms are irreversible, which is undoubtedly the case.</p><p>In other words, in the calculation process from the private key to the address, there are two irreversible points, so overall, it is impossible to reverse calculate the private key from the Ethereum account address.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Have you ever wondered why the private key of Ethereum cannot be reverse-calculated from the account address? When you have a private</summary>
        
      
    
    
    
    
    <category term="Blockchain" scheme="https://en.smallyu.net/tags/Blockchain/"/>
    
  </entry>
  
  <entry>
    <title>On Ethereum Private Key Collision</title>
    <link href="https://en.smallyu.net/2023/01/18/On%20Ethereum%20Private%20Key%20Collision/"/>
    <id>https://en.smallyu.net/2023/01/18/On%20Ethereum%20Private%20Key%20Collision/</id>
    <published>2023-01-18T07:27:25.000Z</published>
    <updated>2025-08-06T10:38:27.722Z</updated>
    
    <content type="html"><![CDATA[<p>Would you try your luck if you had a 1&#x2F;100000000 chance to get rich?</p><h3 id="Ethereum-Private-Key"><a href="#Ethereum-Private-Key" class="headerlink" title="Ethereum Private Key"></a>Ethereum Private Key</h3><p>Ethereum accounts are entirely controlled by private keys, and an account’s address can be derived from its private key. A private key is a 64-character hexadecimal string, such as:</p><pre><code>0xd110227375ab838e8743192d278c105e30f253c966987c50b754412c9b986fe3</code></pre><p>You can import the corresponding account into any Ethereum wallet using this private key. The address for this private key is:</p><pre><code>0x00000006A3D4DA3A559829B1730603CAeE97cC3D</code></pre><p>You can also check account-related <a href="https://etherscan.io/address/0x00000006A3D4DA3A559829B1730603CAeE97cC3D">transaction records</a> on Ethereum explorers based on this address.</p><h3 id="Private-Key-Collision"><a href="#Private-Key-Collision" class="headerlink" title="Private Key Collision"></a>Private Key Collision</h3><p>Since a private key is just a string, is it possible to randomly generate a string such that the corresponding account address happens to have money in it? With the private key, you can control all assets in the account. There are many accounts on Ethereum with substantial balances. What if you happened to generate a private key corresponding to one of these accounts? You’d instantly become rich.</p><p>Of course, the randomly generated string must be a 64-character hexadecimal string. To avoid any collision prevention mechanisms in the Ethereum SDK, we can generate it straightforwardly, like this:</p><pre><code>```javascriptlet s = &quot;0123456789abcdef&quot;;let hex = &quot;0x&quot;;for (let i = 0; i &lt; 64; i++) &#123;  hex += s[Math.floor(Math.random() * 16)];&#125;</code></pre><pre><code>This method is straightforward, generating a 64-character string through random concatenation. Although Ethereum doesn&#39;t have collision prevention mechanisms.### Collision ProbabilityLet&#39;s calculate the probability of randomly generating a private key that collides with an existing account. If there&#39;s an address, how likely is it to randomly generate the private key for that address?In hexadecimal, each character has a 1/16 chance of matching a target private key character. For a 64-character string, the probability is (1/16)&lt;sup&gt;64&lt;/sup&gt;.</code></pre><p>p &#x3D; (1&#x2F;16)^64  &#x3D; 1 &#x2F; 16^64  &#x3D; 1 &#x2F; 115792089237316195423570985008687907853269984665640564039457584007913129639936</p><pre><code>Rounding off and considering just the order of magnitude:</code></pre><p>p &#x3D; 1 &#x2F; 115792089237316195423570985008687907853269984665640564039457584007913129639936  &#x3D; 1 &#x2F; 100000000000000000000000000000000000000000000000000000000000000000000000000000  &#x3D; 1 &#x2F; 10^77</p><pre><code>This is an extremely low probability. The lowest winning rate for the Chinese lottery, &quot;Daletou,&quot; is one in ten million, or 1/10^8. The probability of an Ethereum private key collision being a specific account is equivalent to winning the lottery ten times in a row. It&#39;s almost impossible.However, lottery winning has a speed limit, such as requiring a day to announce the result. Cryptocurrency private keys don&#39;t have such a limit. Can increasing the speed of random private key generation improve the collision probability?Currently, the [hash rate](https://www.blockchain.com/explorer/charts/hash-rate) of the entire Bitcoin network is 270M TH/s. Bitcoin mining involves continuous hashing until a string with a certain number of leading zeros is found. Thus, Bitcoin&#39;s hash rate can describe the private key generation rate. After [unit conversion](https://en.bitcoinwiki.org/wiki/Hashrate):</code></pre><p>r &#x3D; 270M TH&#x2F;s  &#x3D; 270000000 TH&#x2F;s  &#x3D; 270000000000 GH&#x2F;s  &#x3D; 270000000000000 MH&#x2F;s  &#x3D; 270000000000000000 kH&#x2F;s  &#x3D; 270000000000000000000 &#x2F;s  &#x3D; 100000000000000000000 &#x2F;s  &#x3D; 10^20</p><pre><code>This result is rounded to the nearest order of magnitude. If you had the global Bitcoin mining power to perform Ethereum private key collisions, the per-second probability would be:</code></pre><p>ps &#x3D; p * r   &#x3D; 1 &#x2F; 10^57   &#x3D; 1 &#x2F; 1000000000000000000000000000000000000000000000000000000000</p><pre><code>This is still a remote probability. What if the collision attempt continues for one year?</code></pre><p>py &#x3D; ps * 60 * 60 * 24 * 365   &#x3D; ps * 31536000   &#x3D; ps * 10000000   &#x3D; ps * 10^7   &#x3D; 1 &#x2F; 10^50   &#x3D; 1 &#x2F; 100000000000000000000000000000000000000000000000000</p><pre><code>What about 100 million years of continuous operation?</code></pre><p>pb &#x3D; py * 100000000   &#x3D; py * 10^8   &#x3D; 1 &#x2F; 10^42   &#x3D; 1 &#x2F; 1000000000000000000000000000000000000000000</p><pre><code>As shown, time increases the probability only slightly. Computing power may increase exponentially, like the speed improvements of Apple&#39;s M series chips over Intel chips. However, this is still insignificant compared to the order of magnitude with 70 zeros.Even with the computing power of 100 million Earths&#39; worth of Bitcoin miners running for 100 million years, you&#39;d only reduce a few zeros from the likelihood of collision success.### Giving It a TryDespite the improbability, I still want to try.I wrote a script, [eth-collision/eth-collision-random](https://github.com/eth-collision/eth-collision-random), which randomly generates private keys and checks the account balance on [etherscan.io](https://etherscan.io) for addresses derived from these keys. If the balance is greater than zero, it logs the private key. Due to Etherscan&#39;s API call rate limit, the script checks 20 addresses per second, attempting 1.72 million addresses per day.This speed isn&#39;t fast enough. Is there a better way? Most third-party services have API rate limits. To query without restrictions, you&#39;d need to run your own Ethereum node. The minimum hardware requirements for an Ethereum node are a 4-core CPU, 16GB of RAM, and a 1TB hard drive. Such a server costs at least $300 per month on [Vultr](https://www.vultr.com/). It&#39;s expensive. After setting up the node, you&#39;d need to write a program to collect addresses with balances from transaction data in each block, which takes a long time.I noticed that [this page](https://etherscan.io/accounts/1?ps=100) provides a list of Ethereum addresses with the highest balances, 100 per page, for a total of 100 pages. I wrote a crawler, [eth-collision/eth-address-top-list](https://github.com/eth-collision/eth-address-top-list.git), to fetch data from this page, giving me a list of the top 10,000 Ethereum addresses by balance.With these 10,000 addresses, the program can run faster without API rate limits or needing a full node. I used Golang to write a program, [eth-collision/eth-collision-match-address](https://github.com/eth-collision/eth-collision-match-address.git), starting 100 goroutines to speed up private key generation. The program loads the 10,000 addresses into a map and checks if the randomly generated account is in the target list. A JavaScript for-loop can max out the CPU, but intuitively, Golang feels faster.By the way, remember to add a mutex to the map in Golang because maps aren&#39;t concurrency-safe. Adding locks reduces speed. To solve the lock issue, since there are only 10,000 addresses, not much memory is needed, so instantiate multiple maps, one for each goroutine. This ensures the efficiency of private key generation and verification.Are 10,000 addresses too few? How many Ethereum addresses are there? According to Etherscan [statistics](https://etherscan.io/chart/address), there are currently about 230M, approximately 200 million addresses.I found a repository, [eth-collision/Wallet-private-key-collision-brute-force-tool](https://github.com/eth-collision/Wallet-private-key-collision-brute-force-tool), providing a OneDrive download link for a file containing 180 million account addresses with transaction records on the chain. The compressed file is 4.4GB, and after decompression, it&#39;s about 16GB in pkl format, which I converted to a txt file using Python.With this many account addresses, the question becomes how to use the data.First, load all data into a map. This amount of data in memory would require at least 16GB, necessitating a 24GB server. The cheapest suitable server on Vultr costs nearly $150 per month. Furthermore, Golang&#39;s query efficiency with such a large data set and the need for locking are concerns.Are there better solutions? MySQL can&#39;t handle billion-level data queries efficiently. In a previous project, the simplest query in a</code></pre>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Would you try your luck if you had a 1&amp;#x2F;100000000 chance to get rich?&lt;/p&gt;
&lt;h3 id=&quot;Ethereum-Private-Key&quot;&gt;&lt;a</summary>
        
      
    
    
    
    
    <category term="Blockchain" scheme="https://en.smallyu.net/tags/Blockchain/"/>
    
  </entry>
  
  <entry>
    <title>Designing a &#39;Guess 2/3 of the Average&#39; dApp Game</title>
    <link href="https://en.smallyu.net/2022/12/27/%22Designing%20a%20&#39;Guess%202_3%20of%20the%20Average&#39;%20dApp%20Game%22/"/>
    <id>https://en.smallyu.net/2022/12/27/%22Designing%20a%20&#39;Guess%202_3%20of%20the%20Average&#39;%20dApp%20Game%22/</id>
    <published>2022-12-27T07:48:46.000Z</published>
    <updated>2025-08-06T10:38:27.586Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://zh.m.wikipedia.org/zh-cn/%E7%8C%9C%E5%9D%87%E5%80%BC%E7%9A%842/3">Guess 2&#x2F;3 of the Average</a> is a classic game theory game, now redesigned to run as a dApp on the blockchain. Here are the basic rules of the game:</p><ol><li>Players pay <code>any amount</code> to participate in the game.</li><li>Calculate the <code>total amount</code> paid by all users.</li><li>Calculate <code>2/3 of the average</code> of the <code>total amount</code> as the <code>winning number</code>.</li><li>The player who paid an amount closest to the <code>winning number</code> wins.</li></ol><p>The reward rules are:</p><ol start="5"><li>The winner receives the <code>total amount</code> paid by all users in the round.</li><li>The contract takes 1% of the <code>total amount</code> as a service fee each round.</li></ol><p>An important question is how many players participate in each round, or when does each round end? The rules for ending the game are as follows:</p><ol start="7"><li>Each player, upon joining the game, knows their position as the <code>n-th</code> participant.</li><li>A random number <code>x</code> (10&lt;&#x3D;x&lt;&#x3D;100) is generated.</li><li>Based on <code>n</code> and <code>x</code>, a boundary for a random number <code>l, r = n-x, n+x</code> is generated.</li><li>A random number <code>y</code> is generated within the range <code>[l, r]</code>.</li><li>If <code>y == n</code>, the current round ends.</li></ol><p>Additional rules:</p><ol start="12"><li>If a user participates multiple times, only the result of their first participation counts.</li><li>If multiple users pay the same <code>any amount</code>, the first participant wins.</li></ol><p>These are all the rules of the game.</p><p>The rules for ending the game are a bit complex. For example, if a player is the <code>n=50</code>th participant and a random number <code>x=10</code> is generated, the boundary for the random number becomes <code>l, r = 45, 55</code>. A random number is then generated within the range [45, 55], and if it happens to be 50, the current round ends.</p><p>Why do it this way? Because data on the blockchain is public. In the original “Guess 2&#x2F;3 of the Average” game, players’ chosen numbers are secret. But it’s hard to achieve this on the blockchain. Therefore, the dApp version’s rules differ from the original in at least two ways:</p><ul><li>The amount players can pay to participate is unlimited; it can be 0 or infinitely large, whereas the original game has an upper limit.</li><li>The number of players is uncertain, while the original game knows how many players are participating.</li></ul><p>These differences are due to the public nature of blockchain data, requiring the introduction of some random mechanisms. Without a random end mechanism, with a fixed number of players, the later participants would have an advantage as they could deduce the most likely winning number based on earlier participants’ amounts.</p><p>Of course, the final participant doesn’t always have the ability to change the outcome, especially if there is a cap on the participation amount. But if the number of players is random, there is no “later participant” advantage since no one knows when the game will end or who will be the last participant. Thus, even if a player could pay an amount to turn the tide, they could be outdone by subsequent participants.</p><p>In the original game, participation amounts must be integers. However, in the dApp version, participation amounts can be unrestricted, including decimals. This is because, in the original game, participation amounts are manually given, while in the dApp version, they can be freely input on a computer, and the results are calculated by a smart contract, so precision is not limited.</p><p>To explain the game’s end rule, its effect is that in most cases, the game will end when the number of participants is within [10, 100]. This range corresponds to the range of <code>x</code> in <code>rule 9</code>.</p><p>This rule can be understood as follows: every player has the ability to end the game, but the ability is random, with a maximum of 1&#x2F;10 and a minimum of 1&#x2F;100. If they have a 1&#x2F;10 ability, it means there is a 1&#x2F;10 chance to end the game.</p><p>If all users have the highest ability of 1&#x2F;10, the game will likely end after 10 participants. Each person’s probability of triggering the “game end” event is independent, and it is 1&#x2F;10 regardless of the number of participants. The more people participate, the greater the chance of ending the game, because the probability of not ending is (9&#x2F;10) to the power of the number of participants.</p><p>If all users have the lowest ability of 1&#x2F;100, the game will likely end after 100 participants.</p><p>So the range of <code>x</code> in <code>rule 9</code> roughly limits the range of participants. Of course, this range [10, 100] is not a strict probability calculation.</p><p>Based on the defined game end rule, I simulated 100,000 runs and recorded when the game ends based on the number of participants. The code is here: <a href="https://github.com/guessavg/emulate_tool">guessavg&#x2F;emulate_tool</a></p><p><img src="/chart1.png" alt="Chart 1"></p><p>The horizontal axis is the number of players participating in the game, and the vertical axis is the number of times the game ended at that number. For example, around the position of 1, there are 2500 times, indicating that in 100,000 games, 2500 times the game ended with just one participant.</p><p><img src="/chart2.png" alt="Chart 2"></p><p>If the number of times is not intuitive enough, you can look at this proportion chart. The proportion of ending at each number does not exceed 2.5%. The earlier the position, the more likely the game ends because each time it starts from 0, the earlier positions have a slightly higher chance of ending the game.</p><p><img src="/chart3.png" alt="Chart 3"></p><p>This proportional statistics chart better illustrates the result. The game has about a 20% chance of ending with fewer than 10 participants and about a 70% chance of ending with [10, 100] participants. The probability of ending with more than 300 participants is only 0.07%.</p><p>Although the result formed by this rule is not a complete normal distribution probability, it basically meets the initial requirement, which is to end the game at a random point in time without being too outrageous, not resulting in too few or too many participants, and still providing a small probability for the number of participants to reach around 500.</p><p>I believe this is a reasonable design.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://zh.m.wikipedia.org/zh-cn/%E7%8C%9C%E5%9D%87%E5%80%BC%E7%9A%842/3&quot;&gt;Guess 2&amp;#x2F;3 of the Average&lt;/a&gt; is a classic game</summary>
        
      
    
    
    
    
    <category term="dApp" scheme="https://en.smallyu.net/tags/dApp/"/>
    
  </entry>
  
  <entry>
    <title>Differences Between Proof of Storage/Space/Replication</title>
    <link href="https://en.smallyu.net/2022/12/20/Differences%20Between%20Proof%20of%20Storage_Space_Replication/"/>
    <id>https://en.smallyu.net/2022/12/20/Differences%20Between%20Proof%20of%20Storage_Space_Replication/</id>
    <published>2022-12-20T09:58:48.000Z</published>
    <updated>2025-08-06T10:38:27.646Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Timeline"><a href="#Timeline" class="headerlink" title="Timeline"></a>Timeline</h3><style>table {    display: inline;}</style><center><table><thead><tr><th>Abbreviation</th><th>Full Name</th><th>Year</th></tr></thead><tbody><tr><td>PDP</td><td>Provable Data Possession</td><td>2007</td></tr><tr><td>PORs</td><td>Proofs of Retrievability</td><td>2007</td></tr><tr><td>PoS</td><td>Proofs of Storage</td><td>2009</td></tr><tr><td>PoS</td><td>Proofs of Space</td><td>2013</td></tr><tr><td>PoST</td><td>Proofs of Space-Time</td><td>2016</td></tr><tr><td>PoRep</td><td>Proof of Replication</td><td>2017</td></tr><tr><td>PoC</td><td>Proof of Capacity</td><td>2017</td></tr></tbody></table></center><h3 id="Proofs-of-Storage"><a href="#Proofs-of-Storage" class="headerlink" title="Proofs of Storage"></a>Proofs of Storage</h3><p>PDP and PORs were independently published in 2007, each having its own advantages and disadvantages in terms of file proof methods, addressing different branches of the same problem.</p><p>The concept of PoS (Proofs of Storage) emerged as early as 2009, serving as a general term for interactive protocols where a client verifies files on a server, encompassing both PDP and PORs. For example, the paper “Proofs of Storage from Homomorphic Identification Protocols,” with Giuseppe Ateniese as the first author.</p><p>Since blockchain was not well-developed in 2009, PoS (Proofs of Storage) had no relation to consensus mechanisms and merely shared an acronym with PoS (Proof of Stake) without any actual connection.</p><p>PDP and PORs are predecessors to PoS, which unified them under a single name.</p><h3 id="Proofs-of-Space"><a href="#Proofs-of-Space" class="headerlink" title="Proofs of Space"></a>Proofs of Space</h3><p>PoS (Proofs of Space) began with the 2013 paper “Proofs of Space,” with Stefan Dziembowski as the first author.</p><p>Coincidentally, PoS (Proofs of Space) and PoS (Proofs of Storage) share the same abbreviation, which can sometimes cause confusion. In this section, PoS refers to Proofs of Space.</p><p>The concept of PoS aims to parallel PoW (Proof of Work). Hence, from PoS onwards, it is a concept within blockchain, serving as a consensus mechanism.</p><p>PoW involves mining using CPU power, whereas PoS proposes mining using disk capacity, seeking ways to prove a server has a certain amount of disk space.</p><p>The most basic method involves a client generating a file, for example, 1GB, sending it to the server, and then verifying the server has saved that file, thereby proving the server indeed has 1GB of disk space. However, this method is too cumbersome, consuming the client’s disk space and putting immense pressure on network transmission.</p><p>PoS offers a method using a data structure known as hard to pebble graphs, such as a Merkle hash tree. This data structure’s feature is that generating upper-level data must rely on lower-level data.</p><p>For example, in a system using a Merkle hash tree, a client can request the server to return the entire chain of a certain upper-level node, and then verify the path’s correctness. Cross-verifying multiple paths can generally ensure the server’s reliability.</p><h3 id="Proofs-of-Space-Time"><a href="#Proofs-of-Space-Time" class="headerlink" title="Proofs of Space-Time"></a>Proofs of Space-Time</h3><p>PoST (Proofs of Space-Time) emerged in 2016 with the paper “Simple Proofs of Space-Time and Rational Proofs of Storage,” with Tal Moran as the first author.</p><p>PoST builds upon the PoS (Proofs of Space) scheme because while PoS can prove a server has a certain amount of disk space, it cannot prove that the server’s capacity consistently remains at the expected level. For example, during verification, the server’s disk space is 1GB, but once verification ends, the server uses the space for other purposes. During the next verification, the server regenerates the 1GB file for verification.</p><p>Hence, PoS suggests verifying every minute to ensure the server’s honesty. This is clearly not a smart approach.</p><p>PoST aims to solve this problem by increasing the difficulty of the initialization phase, that is, the phase where PoS generates the file, ensuring that the server must spend enough time to generate the file.</p><p>To ensure sufficient time is needed, PoW (Proof of Work) can be used, such as computing 2^30 hash values, which implies a certain amount of time spent.</p><p>PoST combines PoW and PoS by requiring the server to spend enough time generating the file during the initialization phase and then verifying the file generated during the proof phase.</p><h3 id="Proof-of-Replication"><a href="#Proof-of-Replication" class="headerlink" title="Proof of Replication"></a>Proof of Replication</h3><p>PoRep (Proof of Replication) originates from the 2017 paper “Proof of Replication,” with Juan Bene as the first author.</p><p>PoRep is a type of Proofs of Storage and is a research outcome of Protocol Labs, which also developed IPFS and Filecoin. PoRep is the consensus mechanism used by Filecoin.</p><p>PoRep builds upon Proofs of Space and Proofs of Retrievability, adding the capability to distinguish the number of replicas on the server. The approach is relatively simple: during the tag generation phase, a unique identifier is attached to each replica, making each replica unique.</p><p>Because Filecoin operates in a decentralized network, it needs to ensure multiple replicas exist throughout the network. If nodes collude maliciously, previous proof methods are inadequate, so Filecoin employs the PoRep consensus mechanism.</p><p>The 2017 version of PoRep is relatively simple. The 2018 version introduces the use of Depth Robust Graphs data structures. The paper is titled “PoReps: Proofs of Space on Useful Data,” with Ben Fisch as the first author.</p><h3 id="Proof-of-Capacity"><a href="#Proof-of-Capacity" class="headerlink" title="Proof of Capacity"></a>Proof of Capacity</h3><p>PoC (Proof of Capacity) is a consensus mechanism used by the Burstcoin blockchain in 2017.</p><p>PoC provides a mining method where generating new blocks requires a nonce value:</p><pre><code>1 nonce = 8192 hash value = 4095 scoops</code></pre><p>The hash value is calculated using the Shabal hash function, with every two hash values forming one scoop.</p><p>A scoop number is randomly selected from 0 to 4095, and then combined with the corresponding nonce to calculate a <code>deadline</code> value. Among all nodes, the one with the smallest deadline value can generate a new block.</p><p>PoC leans towards being a purely consensus mechanism.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h3 id=&quot;Timeline&quot;&gt;&lt;a href=&quot;#Timeline&quot; class=&quot;headerlink&quot; title=&quot;Timeline&quot;&gt;&lt;/a&gt;Timeline&lt;/h3&gt;&lt;style&gt;
table {
    display:</summary>
        
      
    
    
    
    
    <category term="Consensus Mechanism" scheme="https://en.smallyu.net/tags/Consensus-Mechanism/"/>
    
    <category term="File Proof" scheme="https://en.smallyu.net/tags/File-Proof/"/>
    
  </entry>
  
  <entry>
    <title>Proofs of Retrievability: Understanding Document Verification</title>
    <link href="https://en.smallyu.net/2022/12/16/Proofs%20of%20Retrievability:%20Understanding%20Document%20Verification/"/>
    <id>https://en.smallyu.net/2022/12/16/Proofs%20of%20Retrievability:%20Understanding%20Document%20Verification/</id>
    <published>2022-12-16T09:22:05.000Z</published>
    <updated>2025-08-06T10:38:27.727Z</updated>
    
    <content type="html"><![CDATA[<p>PORs (Proofs of Retrievability) and PDP were published in the same year, 2007. The paper is titled “PORs: Proofs of Retrievability for Large Files,” with Ari Juels as the first author.</p><p>PORs not only prove that a file is indeed stored on the server, but also whether the file has been modified or deleted, a capability that PDP lacks. However, the limitation of PORs is that they can only be used for encrypted files, meaning the file must be encrypted. The key to implementing PORs lies in the complex setup phase.</p><p>The idea behind PORs is that the client generates some random encodings recorded in an array, called sentinels. For example, <code>[6, 4, 0]</code> are three sentinels.</p><p>First, the client’s file is symmetrically encrypted, and it must be done using a block cipher method. During the encryption process, the sentinels are inserted into random positions in the file. Between two sentinels, there might be 1 block or countless blocks; the positions of the sentinels are random.</p><p>Then the encrypted file is sent to the server for storage.</p><p>The content of the client’s challenge is to ask the server to return the encodings at n random positions in the file. The challenge includes the positions of the sentinels.</p><p>Since the file is encrypted, the server cannot determine whether the challenge positions are from the original file data or the sentinel data. The server finds it difficult to predict the positions of the sentinels.</p><p>For the client, it only needs to verify the encodings corresponding to the sentinel positions to determine if the file exists and is intact. If the file is modified or some data in between is lost, the encoding at the sentinel positions will be vastly different, making the challenge impossible to complete.</p><p>Retrievability means that for the client, it can verify a part of the file by specifying the sentinel positions. For example, it can verify the file between the 1st and 3rd sentinels, or between the 5th and 9th sentinels, pointing and checking as needed.</p><p>As for why the file must be encrypted, on one hand, PORs rely on symmetric encryption’s block cipher, and on the other hand, for unencrypted files, the server can more easily predict the sentinel positions. Therefore, PORs can only be used for encrypted files.</p><p>The paper also introduces error-correcting codes to enhance the file’s fault tolerance. In the setup phase, error-correcting codes are added to the blocks before symmetric encryption. The advantage of introducing error-correcting codes is that within a certain error range between two sentinels, if the file is damaged, it can be repaired.</p><p>Why do error-correcting codes become important in the PORs mechanism? Because they combine with the characteristic of PORs, Retrievability. If the file is stored in multiple server environments and suffers different degrees of damage, the presence of sentinels makes it easier to recover parts of the file from other servers. In this context, the introduction of error-correcting codes further strengthens the file’s fault tolerance.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;PORs (Proofs of Retrievability) and PDP were published in the same year, 2007. The paper is titled “PORs: Proofs of Retrievability for</summary>
        
      
    
    
    
    
    <category term="File Proof" scheme="https://en.smallyu.net/tags/File-Proof/"/>
    
  </entry>
  
  <entry>
    <title>Example and Explanation of S-PDP File Proof</title>
    <link href="https://en.smallyu.net/2022/12/14/Example%20and%20Explanation%20of%20S-PDP%20File%20Proof/"/>
    <id>https://en.smallyu.net/2022/12/14/Example%20and%20Explanation%20of%20S-PDP%20File%20Proof/</id>
    <published>2022-12-14T13:39:59.000Z</published>
    <updated>2025-08-06T10:38:27.655Z</updated>
    
    <content type="html"><![CDATA[<p>What we now refer to as PDP generally refers to the PDP mentioned in the 2007 paper “Provable Data Possession at Untrusted Stores,” with Giuseppe Ateniese as the first author. Before this paper, there were already some concepts of file proof, such as B-PDP, but none could ensure that the server had actually stored the file.</p><p>S-PDP is a scheme first proposed in the paper, which can be used by the client to confirm that a file has indeed been saved to the server environment, which is untrusted.</p><p>PDP addresses the problem of saving a file to a server where you don’t just trust the server’s claim of having saved it. Instead, you need a mechanism to confirm the file is really on the server.</p><p>There are many types of PDP, including public, private, static, and dynamic. S-PDP is a basic type of public verification PDP.</p><p>Homomorphic encryption is key to implementing S-PDP.</p><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><p>I want to give a simple example to illustrate the process of S-PDP. The paper contains a lot of general definitions and is not very detailed, so I am explaining based on my understanding.</p><p>Now the client has an original file with the content:</p><pre><code>F = 12345</code></pre><p>Divide this file into smaller blocks, say into 5 parts:</p><pre><code>F = [1, 2, 3, 4, 5]</code></pre><p>On the client side, generate an array W composed of random numbers, with the array length matching the number of file blocks. The content of W must be unpredictable:</p><pre><code>W = [8, 1, 7, 3, 6]</code></pre><p>Generating homomorphic encryption tags involves 2 steps. First, use additive homomorphic encryption on F and W, then use the client’s public key to perform asymmetric encryption on the homomorphically encrypted array:</p><pre><code>T = r[ h(9),  h(3),  h(10),  h(7),  h(11)]  =  [rh(9), rh(3), rh(10), rh(7), rh(11)]</code></pre><p>The client will send the original file F and the homomorphic encryption tags T to the server for storage, keeping only the locally generated random array W, which is the only private content that cannot be leaked. After sending, the client can delete the local original file F and the homomorphic encryption tags T.</p><p>When the client wants to verify the file on the server, the client generates a challenge, for example, to randomly verify the 1st and 3rd blocks:</p><pre><code>chal = [1, 3]</code></pre><p>Upon receiving the challenge, the server generates the proof in 2 steps. First, use the client’s public key to asymmetrically encrypt the 1st and 3rd blocks of the original file F, then use the homomorphic encryption tags T to perform additive homomorphic encryption:</p><pre><code>V = [rh(9), rh(10)] - r[h(1),  h(3)]  = [rh(9), rh(10)] - [rh(1), rh(3)]  = [rh(8), rh(7)]</code></pre><p>After the client receives the proof V, it uses the private key to perform asymmetric decryption on the proof:</p><pre><code>sW = r&#39;[rh(8), rh(7)]   = [h(8), h(7)]</code></pre><p>The decrypted sW corresponds to the values at the 1st and 3rd indices of the random array W. Due to the use of homomorphic encryption, the content of W is not leaked during the process.</p><p>As long as the user has the initially generated random array W, they can verify that the file exists on the server without the original file. The data occupied by this random array W is very small. Also, because of the use of asymmetric encryption, the server must have both the homomorphic encryption tags T and the original file F to complete the challenge. If the server cheats, the client will not be able to decrypt it, and the server will fail the challenge.</p><h3 id="Limitations"><a href="#Limitations" class="headerlink" title="Limitations"></a>Limitations</h3><p>There is an issue with PDP: since V &#x3D; T - F, if the server pre-saves the entire V, it can pass the challenge even after deleting T and F, and the client would not notice.</p><p>This is a limitation of PDP. PDP can only ensure that the server has saved the file at least once (if it doesn’t save it at all, it cannot generate V), but it cannot guarantee that the file is continuously stored on the server, nor can it repeatedly verify the validity of the proof.</p><p>If the first challenge is [1, 3], and the server passes the challenge and saves the proof for [1, 3], then for any future challenges of [1, 3], the server can directly return the pre-saved proof without needing to compute it again. The client cannot tell whether the proof was generated immediately or earlier. This is a limitation of all PDP proofs.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;What we now refer to as PDP generally refers to the PDP mentioned in the 2007 paper “Provable Data Possession at Untrusted Stores,” with</summary>
        
      
    
    
    
    
    <category term="File Proof" scheme="https://en.smallyu.net/tags/File-Proof/"/>
    
  </entry>
  
  <entry>
    <title>My Cryptocurrency Trading Bot</title>
    <link href="https://en.smallyu.net/2022/12/03/My%20Cryptocurrency%20Trading%20Bot/"/>
    <id>https://en.smallyu.net/2022/12/03/My%20Cryptocurrency%20Trading%20Bot/</id>
    <published>2022-12-03T07:29:27.000Z</published>
    <updated>2025-08-06T10:38:27.719Z</updated>
    
    <content type="html"><![CDATA[<p>Of course, it’s not really a robot, just a simple script. However, it’s worth mentioning that it can indeed bring in profits.</p><p>After running for about 10 days, the profit is around 5%, which I think is already a good result. It’s much more reliable than trading manually since I only end up losing money when I trade manually.</p><p>If the principal is $100, then with a 5% profit rate, you can earn $15 a month, which at least covers the cost of running a server. Breaking even is a reason to be happy.</p><p>Looking at it from another perspective, 5% in 10 days, 15% in a month, 150% in a year… this profit rate is simply phenomenal. And this is just using spot trading; the profits would be much higher if leveraging.</p><p>After recent days of running and debugging, fixing some common errors, the program has become fairly stable.</p><h3 id="Principle"><a href="#Principle" class="headerlink" title="Principle"></a>Principle</h3><p><a href="https://www.bi123.co/">https://www.bi123.co/</a> provides signals for various cryptocurrencies. At the top of the hour, it sends emails indicating whether a particular cryptocurrency is bullish or bearish. After long-term human observation, this signal is quite accurate, at least in terms of the overall trend.</p><p>So the script, upon receiving the email, automatically trades on Binance based on the signal. Binance provides a comprehensive API.</p><p>The script also pushes messages in real-time to a Telegram bot for easy monitoring and tracking of the trading results.</p><h3 id="Profit-Analysis"><a href="#Profit-Analysis" class="headerlink" title="Profit Analysis"></a>Profit Analysis</h3><p>In a price fluctuation cycle, if you can buy at a low point and sell at a high point, each upward segment is profit. It doesn’t matter if the price ultimately goes higher; as long as there is fluctuation, there is profit.</p><p>The bi123 signals are sent at the top of the hour, which might seem untimely and could miss profit opportunities or result in larger losses. However, considering a period of at least one hour helps prevent unnecessary buying and selling due to minor fluctuations.</p><p>Since the prices of various cryptocurrencies do not rise and fall uniformly, the script supports configuring multiple cryptocurrencies, allowing for personal preference selection.</p><h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><p>It’s not very technical, the code is here: <a href="https://github.com/smallyunet/txbot">smallyunet&#x2F;txbot</a></p><h3 id="2023-01-12"><a href="#2023-01-12" class="headerlink" title="2023.01.12"></a>2023.01.12</h3><p>More than a month has passed, so let’s summarize my actual usage and conclusions.</p><p>Firstly, due to many mistakes, my balance for the past month has been at a loss, around 3%. Initially, I didn’t notice that the signals are graded: 1-hour level, 4-hour level, and 1-day level. Different levels respond to the market at different speeds. The “Signal Trend” type of signal from bi123.co compares closing prices; for instance, if the current price is $1500 and it was $1300 four hours ago, it sends a bullish signal. It’s that simple and direct. Therefore, the strength of signals at different levels varies greatly. Generally, using the 1-hour signal is not recommended, and indeed, I experienced higher loss rates using it. Switching to the 4-hour signal improved results significantly. I recommend using the 4-hour signal.</p><p>Secondly, regarding signal types, bi123.co offers various signals such as “Signal Trend,” “RSI Divergence,” “MD5 Short-term,” and “Long-Short Arrangement.” Previously, I only used the “Signal Trend” type, which can lead to untimely market responses. I recommend using all types of signals together.</p><p>The trading bot script now supports configuration, using different signal strengths and types. The default configuration is what I find to be a good setup.</p><p>Looking at the bot’s performance, it cannot go against the market, meaning it’s hard to profit during a bear market since the bot only supports spot trading without short selling or leverage. This could be added later. The bot also incurs losses during short-term market fluctuations or sideways trends. From this perspective, the bot seems rather limited.</p><p>However, the bot is not completely useless. It can help you follow the market trends, selling in time when prices drop and buying in time when prices rise, preventing situations where you hold during a drop or miss a buy during a rise. All these operations are automated, so you don’t need to worry about your assets. The bot can help you not miss any market opportunities, cutting losses when the market drops and following gains when it rises.</p><p>Another use of the bot is supporting multi-currency configuration, allowing you to catch profit opportunities when a particular currency surges. It’s common for one currency to rise sharply while others don’t move much. Manual operations can easily miss such opportunities, but an automated bot can easily and naturally capture these opportunities.</p><h3 id="2023-01-15"><a href="#2023-01-15" class="headerlink" title="2023.01.15"></a>2023.01.15</h3><p>In just two days, the market surged, and the bot’s performance met expectations. As the market rose, the bot automatically bought in, following the gains in time. Here’s the change in my assets over the past month under the bot’s control (the units of the vertical axis are not important):</p><img src="balance.png" width="100%"><p>After a period of practice, I still recommend using such a bot.</p><h3 id="2023-03-16"><a href="#2023-03-16" class="headerlink" title="2023.03.16"></a>2023.03.16</h3><p>After trying out the bot for a while, I’ve decided to abandon and stop using it. I tracked 56 cryptocurrencies, receiving their signals and trading automatically based on these signals. Here’s the change in my assets over the past month:</p><img src="balance2.png" width="100%"><p>Perhaps the number of tracked currencies was too many, resulting in too small an amount invested in each one. For whatever reason, due to the bot’s unsatisfactory performance and my current disapproval of cryptocurrency trading, I no longer recommend using such a bot.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Of course, it’s not really a robot, just a simple script. However, it’s worth mentioning that it can indeed bring in</summary>
        
      
    
    
    
    
    <category term="Cryptocurrency" scheme="https://en.smallyu.net/tags/Cryptocurrency/"/>
    
  </entry>
  
  <entry>
    <title>Observations on the Blockchain Industry</title>
    <link href="https://en.smallyu.net/2022/11/15/Observations%20on%20the%20Blockchain%20Industry/"/>
    <id>https://en.smallyu.net/2022/11/15/Observations%20on%20the%20Blockchain%20Industry/</id>
    <published>2022-11-15T09:05:50.000Z</published>
    <updated>2025-08-06T10:38:27.721Z</updated>
    
    <content type="html"><![CDATA[<p>Recently, I’ve been feeling a bit lost, so I’m just writing randomly. This might be somewhat disorganized. Previously, I’ve only written about work retrospectives, not about conceptual content. This year has passed quickly with many events, yet no significant changes.</p><p>The past year has been a bear market, especially after May, with the blockchain industry entering a severe winter. Unlike before, where various concepts were emerging continuously, it seems like nothing major has happened, and everyone is still wondering what the next narrative in the cryptocurrency industry will be.</p><h3 id="ETH"><a href="#ETH" class="headerlink" title="ETH"></a>ETH</h3><p>Ethereum is half of the crypto industry. Many projects are built on Ethereum, many tokens are in Ethereum contracts, and many concepts were proposed by Ethereum, such as DAOs. Such a large ecosystem won’t collapse easily. If it does, those projects will go down with it. Bitcoin’s value lies in pioneering the entire industry, but for future blockchain applications and ecosystem expansion, it has to be Ethereum. Ethereum can thrive.</p><p>Another point is the long development cycle of public chains. Back in the day, Ethereum struggled to raise investments. “In 2017, Vitalik came to China to learn Chinese,” and later returned to Western countries to develop for two years before EVM took shape. Now, it has almost become the standard for smart contracts. Various chains are trying to be compatible with EVM because no virtual machine or ecosystem is as complete as EVM. The white paper initially released by Ethereum highlighted smart contracts, while PoS appeared in later versions of the white paper.</p><p>From 2017 to 2019, there was a boom in public chains with innovations in consensus mechanisms or application scenarios. Many chains from that period remain, and investors were willing to invest in underlying chains. Nowadays, few new chains are being launched because competition is minimal, and the return cycle is long. This year’s Aptos and Sui focus on the Move programming language, with no significant innovation in consensus mechanisms. I don’t think Move will become very popular.</p><p>The Ethereum merge, touted as the biggest upgrade in history, actually did nothing. For ordinary users, it felt the same whether it happened or not. After the merge, the price of ETH fell from 1700 to 1400. The expected reduction in issuance, deflation, and price increase did not materialize.</p><p>However, the fact that Ethereum’s price didn’t collapse after the merge indicates that its value doesn’t come from mining. Some believe that mining guarantees the coin’s price because there is a cost involved. Ethereum shows that it can work without mining power and hardware collateral.</p><h3 id="CEX"><a href="#CEX" class="headerlink" title="CEX"></a>CEX</h3><p>The price of cryptocurrencies is closely linked to US stocks, with fluctuations depending on the Federal Reserve’s interest rate hikes and CPI indicators. However, there are times when they are less correlated. If users lose confidence in US stocks, funds may flow into cryptocurrencies, and vice versa.</p><p>The cryptocurrency market is relatively small, seemingly only a few hundred billion dollars compared to the tens of trillions in the US stock market, so its impact is not significant. Some conspiracy theories suggest that cryptocurrencies are a reservoir for US currency to alleviate inflation.</p><p>Recently, FTX collapsed, misappropriating users’ cryptocurrency assets, causing users to lose confidence in cryptocurrencies, especially CEX. This led to another bear market, with Ethereum’s price falling back to around 1300 from 1700. Major exchanges began to disclose their proof of assets.</p><p>Trading on exchanges is truly gambling, and I can’t handle it. I once had a dream of getting rich quickly, holding $100 and leveraging 125x to short Mask, only to get liquidated in seconds. Later, I used $100 to long Sol, but ended up with only half left. I don’t dare to play anymore. The crypto market is full of gamblers, with prices driven by news. Doge coin relies entirely on Musk’s endorsement. FTX held more SHIB than ETH.</p><p>By the way, Liangxi is of low quality, Ma Yilong is uneducated, and KOLs are all clowns. Sun Yuchen actually despises these people, but uses their traffic and hype.</p><h3 id="Finance"><a href="#Finance" class="headerlink" title="Finance"></a>Finance</h3><p>The rise of NFTs was quite sudden, but now the hype has died down. I read an article that said there are two blockchain scenarios: one is migrating from Web 2 to Web 3, which isn’t innovation but chain transformation, and the other is native to Web 3. Initially, it was thought that NFTs could serve as on-chain proof of art, but it didn’t take off. Instead, blue-chip NFTs succeeded by creating original works on-chain and peripherals off-chain. Currently, NFTs still have more investment attributes, relying on brand and rarity.</p><p>Various Fi projects ultimately fall under Finance, such as SocialFi, GameFi, and DeFi. There are currently no reliable scenarios that work. The biggest Web 3.0 and metaverse are still conceptual stages. If it doesn’t work abroad, it definitely won’t work domestically due to a natural resistance to Fi. In this context, you might feel hopeless.</p><p>There are chat rooms and email services based on ENS, but who uses them? There are small games that combine on-chain assets, but neither players nor project teams make money. So what do they do?</p><p>When buying VPNs at some major airports, I found they support TRC-20, which was surprising. It turns out Tron is still alive and being used by merchants. This gave me a reason to download the Trx wallet. It can really be used to buy things, without worrying about domestic payment methods. However, it is still in the Finance scenario.</p><h3 id="DSN"><a href="#DSN" class="headerlink" title="DSN"></a>DSN</h3><p>There are two leaders in the distributed storage network: Filecoin and Arweave.</p><p>Filecoin is typical of off-chain storage or contract-based DSN, using IPFS to store data off-chain, with on-chain proof, settlement, and challenges. Filecoin has strong academic capabilities, first developing IPFS and leading in PoC with many innovations in file proof, surpassing basic PDP and Proof of Retrivailiabily. Their papers on chained file proofs are published in top conferences.</p><p>The advantage of off-chain storage is that files can be large without affecting chain efficiency. However, Filecoin is known for the risk of data loss. If data is lost, it’s really gone. Also, Filecoin’s nodes and SDK are not very user-friendly. It’s said that to calculate power based on disk space, they deliberately control the encoding speed of files, leading to a poor user experience, sometimes taking one or two hours to know if a file was successfully stored. Few projects use Filecoin to build.</p><p>Arweave is typical of on-chain storage or chain-based DSN. Arweave has less innovation compared to Filecoin. Its block structure is similar to Filecoin, recording a calldata in the block and randomly verifying 10% of the previous block’s calldata. Filecoin’s PoC consensus is purer, while Arweave relies on PoW mining, first verifying files and then mining with randomX.</p><p>Arweave uses an economic model where the rarer the file, the higher the mining probability, achieving permanent storage, unlike Filecoin’s temporary storage. Arweave’s collaboration with Meta also increased its price significantly.</p><p>The advantage of on-chain storage is that files are never lost. However, data bloating is a significant issue, making it less suitable for storing large files, but good for NFT data. Ethereum has long had a solution combining IPFS for off-chain NFT storage.</p><p>I understand the distinction between on-chain and off-chain storage or chain-based and contract-based storage simply by checking if generating new blocks relies on the previous block’s file data.</p><p>Some believe that the primary direction for blockchain is still distributed computing, and the path for distributed storage is not very clear. Filecoin is also working on actor nodes supporting EVM execution environments. Years ago, the TV show “Silicon Valley” already envisioned the future of distributed storage.</p><p>Following previous thought patterns, distributed storage aims to either replace Web 2’s cloud server market or innovate in Web 3.</p><h3 id="Layer-2"><a href="#Layer-2" class="headerlink" title="Layer 2"></a>Layer 2</h3><p>Firstly, layer 2 is still within the Finance scope. Ethereum plans to promote layer 2 to enhance the mainnet’s performance and distribute computational pressure.</p><p>Currently, layer 2 lacks a true leader. Each layer 2 project is isolated, unable to interact with one another, posing a significant user experience problem. Users need to choose a layer 2 platform, so only small projects are placed on layer 2. Large contracts on layer 1 are unlikely to move to layer 2.</p><p>Layer 2’s technical infrastructure is incomplete. zk is not yet feasible, op and arb are relatively usable but quite centralized, and interactions with layer 1 are slow. During this year’s Arbitrum Odyssey, the sudden increase in users caused gas fees to reach three times the mainnet, which became a famous issue, and the problem was hard to fix.</p><p>op’s challenge period is relatively long, reportedly one to two weeks, which is unacceptable for ordinary users. The question is, who validates transactions on the mainnet? Users won’t do it themselves, and trusting third parties means placing faith in them.</p><p>State channels and sidechains have greater limitations compared to rollups, being less secure. op seems to have evolved from plasma.</p><p>Ethereum has many blueprints for layer and sharding, but as someone said, “Ethereum is great at everything, just slow at everything.” We’ll have to wait a long time for Ethereum to meet our expectations.</p><h3 id="Others"><a href="#Others" class="headerlink" title="Others"></a>Others</h3><p>DID has been around for years, but no project has truly succeeded. Currently, it is still believed that MetaMask or wallets are the entry point to Web 3. If DID is to take off, it might require a major market shake-up.</p><p>Solana’s price dropped significantly during the FTX incident. Solana’s feature is its PoH consensus, but after several outages, it has lost much of its appeal.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Recently, I’ve been feeling a bit lost, so I’m just writing randomly. This might be somewhat disorganized. Previously, I’ve only written</summary>
        
      
    
    
    
    
    <category term="Blockchain" scheme="https://en.smallyu.net/tags/Blockchain/"/>
    
  </entry>
  
  <entry>
    <title>Randomized Block Confirmation Consensus Mechanism</title>
    <link href="https://en.smallyu.net/2022/09/25/Randomized%20Block%20Confirmation%20Consensus%20Mechanism/"/>
    <id>https://en.smallyu.net/2022/09/25/Randomized%20Block%20Confirmation%20Consensus%20Mechanism/</id>
    <published>2022-09-25T09:43:28.000Z</published>
    <updated>2025-08-06T10:38:27.728Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Steps"><a href="#Steps" class="headerlink" title="Steps"></a>Steps</h3><ol><li><p>Within a time window, a node will receive multiple validated blocks and randomly select one as its next block.</p></li><li><p>In the next time window, if a node does not receive a block and notices that the overall block height of the network is higher than its own, it will discard the previously confirmed block.</p></li><li><p>If block heights are the same, the minority obeys the majority.</p></li></ol><h3 id="Why-Do-This"><a href="#Why-Do-This" class="headerlink" title="Why Do This"></a>Why Do This</h3><ul><li>Receiving Multiple Validated Blocks</li></ul><p>The idea behind Proof of Work is that within a time window, there is only one correct answer, ensuring consistency across the network. Conversely, why can’t there be multiple correct answers within the same time window?</p><ul><li>Randomly Selecting a Block</li></ul><p>Since multiple valid blocks exist simultaneously in the network, a mechanism is needed to select one among them. For fairness, a completely random method is used.</p><ul><li>Discarding the Previous Block</li></ul><p>The block discarding mechanism provides the system with self-correction capability. The DAO attack on Ethereum required developers to lead the community in a hard fork, indicating that the system lacked self-correction capability and required human intervention. It seems all current blockchain systems are like this.</p><ul><li>The Minority Obeys the Majority</li></ul><p>In the absence of transactions, it is possible that all nodes are in a waiting state. In this case, since block heights are the same, no node is willing to discard its own block, causing a network split. This is a game state, so the principle of minority obeys majority is used to break the balance.</p><h3 id="Some-Issues"><a href="#Some-Issues" class="headerlink" title="Some Issues"></a>Some Issues</h3><ul><li>Why Random?</li></ul><p>To avoid the rich getting richer, nodes with computing power becoming wealthier, and nodes with assets getting wealthier, giving every node participating in the network a fair chance to receive block rewards.</p><ul><li>Who Randomizes?</li></ul><p>Each node randomizes and selects a block on its own, rather than using a method like a Verifiable Random Function where each node uses a confirmed result.</p><ul><li>Completely Random or Restricted Random?</li></ul><p>Completely random.</p><p>Completely random means that if a node receives 100 blocks, the probability of selecting a particular block is 1%. Restricted random means, for example, if the previous block was provided by a certain node, the next block will not use its block, and the block reward will not go to it either.</p><p>If it is restricted random, nodes that have already produced blocks and nodes that have not produced blocks will have different weights. No matter which side the weight leans towards, it is not reasonable. If nodes that have produced blocks have more weight, the rich getting richer issue persists. If nodes that have not produced blocks have more weight, participants in the network will create new accounts like crazy, using nodes that have not received block rewards to produce blocks.</p><ul><li>Does Randomness Lead to Forks?</li></ul><p>Definitely, but forks are small-scale. If the network is efficient, only the latest one or two blocks will be uncertain. Once the majority of nodes confirm, it becomes the mainstream chain.</p><ul><li>Will Forks Always Exist?</li></ul><p>No, because forks will be eliminated. New nodes joining the network will definitely choose to sync data with a particular node. For other nodes, random selection means choosing from validated blocks. Validation means that the historical data is the same as theirs. When a forked chain has no transactions, due to the self-correction mechanism, it will keep discarding its blocks until it aligns with the main network.</p><ul><li>What if New Nodes Do Not Sync Data?</li></ul><p>If new nodes do not sync existing data but start anew, they need to attract more than the majority of nodes in the network. For example, if there are 1000 nodes, due to the completely random mechanism, they need an additional 1000 nodes for their chain to become mainstream. This approach can be seen as a way to attack the network, and it seems more difficult than a 51% attack.</p><ul><li>Is There a 51% Attack?</li></ul><p>Due to the block height priority combined with the principle of minority obeys majority, it might be thought that an attacker only needs to control 51% of the highest block height nodes to attack.</p><p>This may be a conceptual misunderstanding. An attack refers to overthrowing existing data, not generating new data. A 51% attack does not exist.</p><ul><li>Does Rollback Cause Uncertainty?</li></ul><p>For users, it is indeed a bad experience. A transaction might be successful one minute, and the next minute, the node discards the block, and the transaction is canceled.</p><p>However, this uncertainty is short-lived. It can be considered that confirming a block requires two or more time windows. Because even if there are small-scale forks in the network, it will eventually trend towards majority consensus.</p><p>Thus, the issue becomes the timing of client confirmation of a transaction.</p><ul><li>Do Unconfirmed Blocks Cause Resource Waste?</li></ul><p>If a node receives 10 blocks and confirms 1, the other blocks are wasted. Repeated correction is also considered resource waste.</p><p>PoW wastes computational resources, while this random block confirmation method wastes network transmission resources. If a node wants its block to be confirmed, it must first let other nodes receive its block. So, if there are 1000 nodes in the network, each round requires broadcasting the block to all 1000 nodes.</p><p>Fortunately, the waste of network transmission resources has an upper limit. Blockchain networks inherently need to broadcast every transaction to the network. Compared to that, only needing to broadcast an additional block’s content is not too much of a burden. Also, since blocks are chosen completely randomly, nodes trying to broadcast their block multiple times through higher network configurations are futile.</p><ul><li>Will Nodes Discard All Blocks if the Network is Abnormal?</li></ul><p>If a node receives very low block heights from the network, according to rule 2, will it gradually discard all blocks?</p><p>No. It is crucial to distinguish between receiving abnormal information from the network and being unable to connect to the network to get information. If a node has 1000 connection records in its routing table but can only connect to 10 due to network conditions, it is an abnormal situation. The node should not discard blocks according to the normal consensus process.</p><ul><li>Are There Any Existing Proposals?</li></ul><p>In the paper <a href="https://arxiv.org/abs/2001.07091">Blockchain Consensus Algorithms: A Survey</a>, pages 16-17, there is a mention of a consensus method for randomly selecting block nodes and coin-age-based selection. This indeed is a random concept, but the paper describes randomness as random node selection, not for blocks, and discusses it in the context of PoS, implying that block nodes are selected and predetermined.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h3 id=&quot;Steps&quot;&gt;&lt;a href=&quot;#Steps&quot; class=&quot;headerlink&quot; title=&quot;Steps&quot;&gt;&lt;/a&gt;Steps&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Within a time window, a node will receive</summary>
        
      
    
    
    
    
    <category term="Blockchain" scheme="https://en.smallyu.net/tags/Blockchain/"/>
    
    <category term="Consensus Mechanism" scheme="https://en.smallyu.net/tags/Consensus-Mechanism/"/>
    
  </entry>
  
  <entry>
    <title>VRF + BFT Consensus Causing Transaction Failure Issues</title>
    <link href="https://en.smallyu.net/2022/09/03/VRF%20+%20BFT%20Consensus%20Causing%20Transaction%20Failure%20Issues/"/>
    <id>https://en.smallyu.net/2022/09/03/VRF%20+%20BFT%20Consensus%20Causing%20Transaction%20Failure%20Issues/</id>
    <published>2022-09-02T22:39:51.000Z</published>
    <updated>2025-08-06T10:38:28.717Z</updated>
    
    <content type="html"><![CDATA[<p>Yesterday, I encountered an issue where Ontology’s node stopped producing blocks. The node uses VBFT consensus, the network connectivity was intact without any isolation, thus no forks occurred. The error reported was that the block coming from the proposal had a different expected block hash (MerkleRoot). For various reasons, we didn’t delve deeply into the problem yesterday and instead used a somewhat brute-force method to restore the network to normal. However, the mention of VBFT reminded me of some incidents at my previous company.</p><p>I first got involved with blockchain at my previous company. The project was touted as a self-developed blockchain and also used VBFT (VRF + BFT) consensus, though it wasn’t referred to as such, it was called UBFT or something similar.</p><p>I suspect that the idea of VRF + BFT was proposed by Ontology, and my previous company copied this concept and implemented it. Ironically.</p><p>What I mainly want to talk about is a hidden bug caused by the unreliable implementation of VRF + BFT at my previous company. This incident happened almost two years ago, and I didn’t document it in a blog back then, possibly because I was busy making PPTs? When I encountered the consensus-related issue yesterday, I remembered this incident and now have the time and inclination to write about it. Given the long passage of time, there might be some discrepancies in the details.</p><h3 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h3><p>First, let me introduce the project’s situation. It had several key features.</p><p>One feature was heterogeneous multi-chains, meaning that multiple heterogeneous chains could be included on the same node. Heterogeneous means that a chain can use different consensus mechanisms and run based on different databases. Multi-chain means multiple chains can run on the same node, as one chain was deemed insufficient, akin to a single data table in traditional business. Multiple chains facilitate data partitioning, better supporting business in consortium chain scenarios. Heterogeneous multi-chain can be understood as launching Ethereum chains with different chain IDs using the same binary package. Now, a certain open-source consortium chain still touts the flexible assembly evolved from heterogeneous multi-chain as a major feature, guess why.</p><p>Another feature was support for multiple databases, supporting many relational and non-relational databases simultaneously by writing a middle layer for data operations to adapt to various databases.</p><p>Then there was the consensus mechanism, based on the open-source Tendermint project. Tendermint core implements BFT-like consensus, and the modification made was to replace the round-robin selection of proposal nodes with the VRF function, enabling random selection of proposal nodes. Additionally, hierarchical consensus support was added, meaning the concept of a consensus group that changes every few blocks. The method of changing consensus groups borrowed from the BFT process, ensuring the safety of the group-switching process. The origin of the hierarchical consensus concept is unclear, perhaps it was popular in projects of that era?</p><p>These features were developed before my involvement, so I only had some understanding of them.</p><p>The issue I encountered was that if a failed transaction was sent to the blockchain, the node would immediately return a failed transaction result. If another failed transaction was sent again, the result of the second transaction would not be returned, and the node would stop producing blocks. Subsequently, any failed transactions would exhibit the same phenomenon. However, if a correct transaction was sent, the node would immediately return the result, and everything would return to normal. This phenomenon occurred probabilistically, not every failed transaction would trigger the issue.</p><h3 id="Preconditions"><a href="#Preconditions" class="headerlink" title="Preconditions"></a>Preconditions</h3><p>First, a failed transaction refers to a transaction where the contract returns a failed execution result. Blockchain systems can have two types of transaction failures: one where the transaction cannot be executed, and another where the transaction is executed but the contract returns a failure at the contract layer. The project did not strictly distinguish between these two types of failures, allowing contracts to return transaction-level failures, which is problematic design.</p><p>Invalid transactions would be ignored during the proposal because there was no need to record invalid transactions on the blockchain. Coupled with the project’s erroneous handling of failed transactions, the phenomenon was that contract-execution-failed transactions would be ignored. This is the first precondition.</p><p>The basis of BFT consensus is to vote twice to finalize a block. No matter what BFT, prefixing with any letter, no matter how complex the process to decide which node proposes and how to propose, no matter what optimizations for consensus efficiency like parallel proposals or pipelined consensus, as long as it is BFT consensus, it involves two rounds of voting. The names for these two stages may vary, whether using proposal or prepare to describe it, the process is essentially the same.</p><p>The BFT process involves one node generating a block, sending it to other nodes, and if more than 2&#x2F;3 nodes agree, proceeding to the next round of voting. If more than 2&#x2F;3 nodes agree in the second round of voting, the block is finalized. Understanding BFT consensus hinges on the two rounds of voting. Why two rounds of voting achieve 3f + 1 fault tolerance and why at least two rounds are required is something I don’t know either.</p><p>Ignoring failed transactions happens during transaction verification. There are two checks in the project, pre-consensus check and post-consensus check. Some transactions can’t be checked pre-consensus, such as database write operations in contracts. If the database is written pre-consensus and consensus fails, the data would be chaotic. Thus, checks can only be done post-consensus. This is the second precondition.</p><h3 id="The-First-Failed-Transaction"><a href="#The-First-Failed-Transaction" class="headerlink" title="The First Failed Transaction"></a>The First Failed Transaction</h3><p>Let’s analyze the bug based on the phenomenon. The first failed transaction proceeds normally. A failed transaction enters, it isn’t detected as a failure pre-consensus, so the pre-proposal node proposes a block as usual, distributing it to other nodes for the first round of voting. Then it proceeds to the second round of voting. During the block confirmation phase before writing the block, post-consensus checks are conducted. If a transaction failure is detected and the block contains only this transaction, the block is discarded, and no block is produced. Other nodes also return messages to the proposal node, indicating the block didn’t materialize and the transaction failed. Thus, the first failed transaction returns a normal result.</p><p>For the second failed transaction, the same processing flow should occur, everything should be normal. Even if the transaction fails during the block confirmation phase, the failure result would be broadcasted to other nodes. The protocol uses empty messages to represent voting or block finalization failures. Other nodes wouldn’t be left waiting due to transaction failures. Since the BFT protocol flow isn’t problematic, why does the bug still occur?</p><p>Here, the project’s VRF modifications come into play.</p><p>In the BFT protocol, one node generates a block, distributing it to others to initiate the first round of voting. Which node generates the block? It can’t always be the same node as that would be too centralized. Tendermint does this in round-robin fashion, e.g., A, B, C, D, then back to A.</p><p>The VRF (Verifiable Random Function) alters this selection method. If nodes are selected in order, it’s easy to predict the next node to generate a block, posing risks like node bribery or attacks. VRF, with consistent parameters, yields the same result; with different parameters, the result is random. Using block height and voting round as parameters, each block can be generated by a randomly selected node, avoiding predictability. This modification was a project highlight.</p><p>However, VRF has an issue. Given its randomness, there’s a chance that node A might be selected consecutively, which isn’t negligible. If node A is malicious and generates blocks twice in a row, it could burden the network, though not necessarily breaking it. To mitigate this, the project added a blacklist mechanism on top of VRF.</p><p>If node A generated the last block, it is blacklisted. If the VRF result is in the blacklist, VRF runs again to avoid re-selecting the same node.</p><h3 id="The-Second-Failed-Transaction"><a href="#The-Second-Failed-Transaction" class="headerlink" title="The Second Failed Transaction"></a>The Second Failed Transaction</h3><h4 id="No-Result-Returned"><a href="#No-Result-Returned" class="headerlink" title="No Result Returned"></a>No Result Returned</h4><p>Considering VRF and the blacklist, let’s examine the first failed transaction. Node A receives the transaction, broadcasts it to other nodes, and then packages it into a block for voting. At this point, node A is blacklisted. After the voting failure, node A returns a failure and the transaction is no longer in node A’s transaction pool because it’s already processed.</p><p>What about node B? The block’s transaction verification failed, but the transaction remains in node B’s pool as it hasn’t been processed yet. Should the transaction pool transaction be deleted? Yes, but it wasn’t. This led to node B, chosen to generate the next block, packaging and broadcasting the same transaction, resulting in another proposal failure. Now, both nodes A and B are blacklisted.</p><p>Following this logic, the same transaction blacklists all four nodes in one round. However, the transaction result return isn’t affected because node A already returned the result.</p><p>The second failed transaction arrives, and all nodes are blacklisted. What happens? If all nodes are blacklisted, the blacklist becomes ineffective. The VRF result dictates the node.</p><p>Let’s analyze the second failed transaction. Node A receives the transaction, assuming node B is responsible for generating the block this time. If node B’s block fails verification, it deletes the transaction and returns the failure result. Node B, chosen, generates the block and returns the notification. But the client submitting this transaction is connected to node A!</p><p>Why did the first failed transaction receive a response? Because the blacklist hadn’t failed yet, all nodes processed the transaction and returned the result. Now with the blacklist failed, only node B returns the result, so node A’s client doesn’t receive it.</p><p>Why can’t the failed blacklist work like the first transaction, processing by all nodes?</p><h4 id="Blocking-Subsequent-Transactions"><a href="#Blocking-Subsequent-Transactions" class="headerlink" title="Blocking Subsequent Transactions"></a>Blocking Subsequent Transactions</h4><p>Let’s continue analyzing the second failed transaction. Node C</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Yesterday, I encountered an issue where Ontology’s node stopped producing blocks. The node uses VBFT consensus, the network connectivity</summary>
        
      
    
    
    
    
    <category term="Blockchain" scheme="https://en.smallyu.net/tags/Blockchain/"/>
    
    <category term="BFT" scheme="https://en.smallyu.net/tags/BFT/"/>
    
  </entry>
  
  <entry>
    <title>One Year Work Review</title>
    <link href="https://en.smallyu.net/2022/08/27/One%20Year%20Work%20Review/"/>
    <id>https://en.smallyu.net/2022/08/27/One%20Year%20Work%20Review/</id>
    <published>2022-08-27T03:17:16.000Z</published>
    <updated>2025-08-06T10:38:27.722Z</updated>
    
    <content type="html"><![CDATA[<p>It’s been more than a year since I joined the company, and I want to do a simple phase review. Because I usually record the general work content on the internal Confluence, summarizing it now has some references to follow.</p><p>A lot has happened over the past year. I made a very good friend, which made me less focused at work. Compared to before, both my work efficiency and dedication have significantly decreased. However, overall, there have still been great gains.</p><h3 id="State-channels"><a href="#State-channels" class="headerlink" title="State channels"></a>State channels</h3><p>In the first month of joining the company, I mainly familiarized myself with the project. This project is much larger in scale than the previous company’s project, integrating functionalities equivalent to Filecoin, IPFS, Raiden Network, Ontology, and other public chain projects. It also implemented its own network module and network proxy similar to libp2p. Initially, it was a bit challenging, partly due to the large codebase and partly because I was unfamiliar with public chains. Although I knew the technical modules of blockchain itself, I didn’t know what Layer 2, IPFS, or PoC were. In the first month, I managed to set up and run the project, understood the basic process of uploading and downloading, and mainly looked at the interaction implementation of the p2p network at the protocol level, which was the first time I learned what DHT meant.</p><p>In the second month, besides delving into code details, I made one change: replacing the DFS in the State channels routing with Dijkstra’s algorithm. The project has a Layer 2 similar to Raiden Network, used to solve the issue of frequent payments to other nodes during file downloads. The routing change was relatively independent and wouldn’t cause trouble for the entire project. The optimization with Dijkstra’s algorithm, considering path length, was actually insignificant because our DNS nodes are not that numerous, unlike Raiden Network’s fully P2P mode.</p><p>In the third and fourth months, the main task was adding fees in State channels, deducting part of the transfer amount at the relay nodes. That was a painful process because I didn’t understand Layer 2 or State channels at the time. Fortunately, after two months, I figured out the protocol. Due to project scenario constraints, the transaction couldn’t be directly verified by the initiating node, causing some instability in channel states, but it was harmless.</p><p>After joining the company, I hardly asked colleagues about the project, whether it was the overall architecture or specific code details. I read the code and documentation on my own, especially facing many completely unfamiliar concepts. Doing so was intentional. The inefficiency of doing everything by oneself is natural, but the benefit is that after that process, I had enough confidence to understand and complete such a large-scale project on my own.</p><p>Since it was my first job change, I doubted my abilities, wondering if my feeling about the previous company’s project and technology was an illusion or reality. With a salary increase from job-hopping, I felt somewhat guilty, questioning if I could competently handle such a project in a new company and live up to the salary. Asking colleagues for help is so simple! In the previous company, I also received much care, but I hoped to have the ability to stand alone, and this was a perfect opportunity to solve problems without relying on external help.</p><h3 id="Solidity-contracts"><a href="#Solidity-contracts" class="headerlink" title="Solidity contracts"></a>Solidity contracts</h3><p>In the fifth month, I was conflicted about the direction to optimize Layer 2. It was difficult to start, and I was preparing to solve the performance issue but had no ideas. Later, a requirement came to rewrite the project’s native contracts in Solidity, as there were plans to support EVM. I spent about a week reading Solidity documentation, as I didn’t know Ethereum or Solidity at the time.</p><p>In the sixth month, January this year, I rewrote the contracts in Solidity. That was a pleasant time because it didn’t require much thinking about what to do or how to do it; I just followed the existing implementation. The code output was substantial. Switching programming languages isn’t stressful.</p><p>In the seventh month, February this year, I added support for the Ethereum SDK in the node’s SDK. I fiddled with Ethereum’s testnet, found it not very useful, and ended up using the node’s development mode.</p><p>Although Solidity’s syntax is easy to understand, due to EVM’s limitations, there are many things to pay attention to and many language details that need time to get familiar with. Although it took a month to write the contract, it took a lot of time afterward to modify and improve it. In short, during that process and requirement, I learned to write Solidity contracts and became familiar with Ethereum smart contract development, though still lacking experience with production-level contract security issues.</p><h3 id="Upload-and-download-of-folders"><a href="#Upload-and-download-of-folders" class="headerlink" title="Upload and download of folders"></a>Upload and download of folders</h3><p>Starting in March this year, I worked on uploading and downloading folders. This idea originated from the project’s support for Git, wanting to support the Git protocol and directly use the git command to clone Git repositories. It turned out that ordinary folder uploads and downloads were missing, only supporting file uploads and downloads.</p><p>Our project used part of the IPFS IPLD protocol, converting files into blocks for transmission, but didn’t use IPFS’s file management part. IPFS has a layer of API for file system operations, unifying file and folder processing, and easily converting between data structures. We directly read files and convert them into blocks, complicating folder upload and download implementation.</p><p>This task has been ongoing with various small issues, thanks to the patient cooperation of testing colleagues. Folder processing is slightly more complex than single files due to infinite nesting, containing both files and folders within folders, and handling empty folders and large files.</p><p>IPLD nodes are stored in a Merkle DAG data structure. A single file generates a Merkle Tree, while folder uploads need to organize multiple Merkle Trees into one tree, then deserialize this tree into a folder during download and write the content to the disk.</p><p>The implementation idea is simple: the tree structure has data blocks as raw nodes and proto nodes connecting data blocks as intermediate nodes. Just write the extra folder information into the links of proto nodes to store and transfer the association information between files to other nodes.</p><p>However, the actual implementation took much effort, with some detours. For example, adding extra data during upload caused block data validation failures, preventing the complete tree structure from forming, requiring deep debugging into IPLD code. During download, unfamiliarity with block data parsing and the unordered nature of block data transmission between nodes led to suspected overall logic issues when features failed.</p><p>Due to unordered block data transmission, sorting blocks during download was necessary. Confusing tree level-order traversal with pre-order traversal initially caused misordered blocks, taking a long time to debug and switch to breadth-first traversal.</p><p>This feature, though trivial, deepened my understanding of file upload and download.</p><h3 id="Asymmetric-encryption-of-files"><a href="#Asymmetric-encryption-of-files" class="headerlink" title="Asymmetric encryption of files"></a>Asymmetric encryption of files</h3><p>From April to May, during a severe pandemic period, I worked from home for over a month, focusing on supporting asymmetric encryption of files. Previously, only AES symmetric encryption was supported.</p><p>There’s not much to say about this, just noting that ECDSA is a digital signature algorithm, not for encryption&#x2F;decryption, requiring hybrid modes like ECIES, combining symmetric encryption to achieve asymmetric encryption&#x2F;decryption of files.</p><h3 id="Support-for-Ethereum-accounts"><a href="#Support-for-Ethereum-accounts" class="headerlink" title="Support for Ethereum accounts"></a>Support for Ethereum accounts</h3><p>From June to August, I focused on new Layer 2 solutions, aiming to implement Layer 2 based on Optimistic rollups.</p><p>Rollups haven’t been tackled much yet, currently focused on storage node support for Ethereum accounts. During this period, besides compiling and running the Optimism project and adding options for various network modes to storage nodes, much time was spent perfecting previous Solidity contracts, resolving issues like contract size limits and discrepancies between actual and expected results during node operation.</p><p>Since account addresses and public-private keys have a different format, protocol messages of storage nodes also require a new signature method. These changes are still ongoing.</p><h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><p>Not much has been done, but I haven’t been idle either. Not too diligent, but I’ve gained a lot.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;It’s been more than a year since I joined the company, and I want to do a simple phase review. Because I usually record the general work</summary>
        
      
    
    
    
    
    <category term="Work" scheme="https://en.smallyu.net/tags/Work/"/>
    
  </entry>
  
  <entry>
    <title>Why Pay Attention to Programming Concepts</title>
    <link href="https://en.smallyu.net/2022/07/24/Why%20Pay%20Attention%20to%20Programming%20Concepts/"/>
    <id>https://en.smallyu.net/2022/07/24/Why%20Pay%20Attention%20to%20Programming%20Concepts/</id>
    <published>2022-07-24T14:53:55.000Z</published>
    <updated>2025-08-06T10:38:28.725Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1"><a href="#1" class="headerlink" title="1"></a>1</h3><p>A couple of days ago, I encountered a small problem: a Solidity smart contract exceeding 24 KB couldn’t be deployed on the Ethereum mainnet due to EVM’s code size limitation. So, I considered how to reduce the contract size, but I was quite unclear about the concept of contract size.</p><p>I noticed that a contract can include other contracts and call their methods, just by passing the deployed contract’s address as a parameter to the contract:</p><pre><code class="solidity">contract Demo &#123;&#125;contract Main &#123;    Demo demo;    constructor(Demo _demo) public &#123;        demo = _demo;    &#125;&#125;</code></pre><p>Does the contract size include the imported contracts? When EVM executes the contract, does it load the code of other contracts first and then run them together? Does the code size calculation include all contracts? That would be troublesome.</p><p>Later, I realized that interfaces can be used instead of contracts:</p><pre><code class="solidity">contract IDemo &#123;&#125;contract Demo is IDemo &#123;&#125;contract Main &#123;    IDemo demo;    contract(IDemo _demo) public &#123;        demo = _demo;    &#125;&#125;</code></pre><p>The code for an interface is certainly less than the concrete implementation because the interface doesn’t contain method bodies. Replacing all imported contracts with interfaces would make the contract much smaller, wouldn’t it?</p><p>Of course, the concern here isn’t how to write Solidity contracts or how to calculate contract code size, which I later figured out. What puzzled me was the sudden realization of the difference between using interfaces and using contracts.</p><p>Previously, I defined interfaces for contracts to provide a description of external methods. Here, I realized that interfaces could replace contracts themselves, directly defining variables and using those interface-defined variables to call methods within the contract. But why is that possible? Isn’t it just an interface?</p><h3 id="2"><a href="#2" class="headerlink" title="2"></a>2</h3><p>If you’ve recently learned Java or use Java as your working language, you might find this problem laughably simple. Isn’t this just polymorphism?</p><p>In the first Java class, the teacher tells us that object-oriented programming has three main features: encapsulation, inheritance, and polymorphism. I can still remember this fundamental concept today. Yet, after years of work, I found myself puzzled by such a simple problem in practical work, failing to grasp the meaning of using an interface as a type. This is absurd. Maybe it’s because I haven’t written Java in a long time and have been using Golang instead.</p><p>Java is undeniably the benchmark for object-oriented programming languages. Solidity, though a seemingly new scripting language for smart contracts, combines features from multiple languages but is fundamentally based on object-oriented principles. Contracts are classes, deploying a contract is instantiating an object, a contract address is the object’s memory address, and calling a contract is calling a method on the object…</p><p>Any object-oriented programming language includes object-oriented features and can use object-oriented writing styles, relying on basic features like polymorphism. From an object-oriented perspective, what’s difficult about Solidity? It’s merely a change in form, with programming logic remaining the same, plus some blockchain-specific concepts like transactions and block height.</p><p>From a programming language perspective, Solidity can’t compare to mature languages like Java. Its object-oriented features are incomplete, and constructs like modifier and require, though seemingly convenient, add a lot to the cognitive load and make the code structure less uniform. How can EVM compare to JVM? Yet, as a lightweight scripting language, Solidity uses redundant static typing.</p><p>It’s essential to remember that programming concepts precede programming languages. I still believe that formal programming languages <a href="http://smallyu.net/2022/02/16/%E6%88%91%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E5%AD%A6%E4%B9%A0%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">aren’t worth learning</a>, but I don’t deny that learning programming concepts can start from learning programming languages. For example, the concept of <a href="https://en.wikipedia.org/wiki/Polymorphism_(computer_science)">polymorphism</a> involves using a unified symbol to represent different types, including three interpretations: supporting multiple types of parameters (method overloading in Java), supporting multiple types of parameters (generics in Java), and subtypes (using interfaces as types, as in the polymorphism scenario mentioned above).</p><p>Object-oriented programming is a programming concept encompassing many computer science ideas, and Java is a fully object-oriented language. It not only covers many useful features but also implements them thoroughly and elegantly. If you’ve learned Java, you’ll naturally understand object-oriented principles, which are infinitely beneficial. From this perspective, does Golang have anything worth learning compared to Java? Is it the struct syntax or the use of the * symbol? Perhaps Golang is more of a fast-food language, allowing convenient go func(). However, it’s not highly recommended for learning purposes.</p><p>Spending a few minutes browsing the Java documentation, I quickly recall the content since it’s so fundamental. It’s also a reminder to myself not to forget how to code.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h3 id=&quot;1&quot;&gt;&lt;a href=&quot;#1&quot; class=&quot;headerlink&quot; title=&quot;1&quot;&gt;&lt;/a&gt;1&lt;/h3&gt;&lt;p&gt;A couple of days ago, I encountered a small problem: a Solidity smart</summary>
        
      
    
    
    
    
    <category term="Programming Languages" scheme="https://en.smallyu.net/tags/Programming-Languages/"/>
    
  </entry>
  
  <entry>
    <title>Understanding Web 3.0</title>
    <link href="https://en.smallyu.net/2022/06/19/Understanding%20Web%203.0/"/>
    <id>https://en.smallyu.net/2022/06/19/Understanding%20Web%203.0/</id>
    <published>2022-06-19T11:47:30.000Z</published>
    <updated>2025-08-06T10:38:28.713Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Web-3-0-Development"><a href="#Web-3-0-Development" class="headerlink" title="Web 3.0 Development"></a>Web 3.0 Development</h3><p>Web 3.0 is a concept that has existed for several years and has become more popular with the promotion of blockchain technology. When people were still unsure what the 3.0 version of the Web would look like, blockchain emerged. Especially with Ethereum’s dApp providing great possibilities, Web 3.0 became associated with blockchain, decentralization, and self-sovereignty.</p><p>A few days ago, I <a href="https://smallyu.net/micro-blog/#2022-18">mentioned</a> that “Web 3.0 Development” could be described as a career position, encompassing blockchain development and having a broader scope than just “blockchain development.”</p><p>In the Web 2.0 era, Web development referred to traditional front-end and back-end development. The front-end used frameworks like React.js, Vue.js, and Angular.js along with component libraries. The back-end used the Spring ecosystem, along with middleware like Zookeeper, Kafka, and Elasticsearch, and databases such as MySQL and Oracle, forming the common tech stack for Web development.</p><p>The tech stack for Web 3.0 development might evolve to include smart contract development tools and frameworks like Remix, Hardhat, and Ruffle. People will focus on Solidity’s language features, the setup and operation of blockchain nodes, secondary development, and even the development of blockchain nodes themselves. It’s hard to draw direct parallels between Web 2.0 and Web 3.0 tech stacks. For instance, in blockchain development, it’s challenging to describe your job as front-end or back-end development; it’s more accurately described as blockchain development or smart contract development.</p><p>Some positions are now using the term “web3 development,” but it’s important to distinguish between Web 3.0 and web3. Many current positions refer to Ethereum’s web3 framework. We need a new description and a better, more promising career positioning: Web 3.0 development.</p><p>What I want to convey here is to believe that we are on the right path.</p><h3 id="Primary-and-Secondary-Markets"><a href="#Primary-and-Secondary-Markets" class="headerlink" title="Primary and Secondary Markets"></a>Primary and Secondary Markets</h3><p>The primary market for blockchain refers to native chains like Bitcoin and Ethereum. The secondary market includes various projects derived from these chains, especially those based on Ethereum, such as Layer 2 solutions, oracles, NFTs, and ENS.</p><p>Some teams work on primary market projects like Solana, Filecoin, and Neo, which emerged after Ethereum. Dfinity’s IC is an example of an active primary market, and Bitcoin SV is working on “smart contract-enabled Bitcoin.”</p><p>Many startups are focusing on the secondary market. For example, some teams from 360 are working on smart contract security, scanning contracts for vulnerabilities. Others are developing NFT trading protocols, creating APIs similar to NFT exchanges, or designing different outfits for virtual characters in the metaverse. Decentralized email services based on IC also fall into this category. Various Ethereum scaling solutions are also part of the secondary market, with OP recently issuing tokens.</p><p>From a business perspective, there is no higher or lower value between these markets. Technically, it’s hard to say which is simpler or more complex. However, I believe the primary market is more foundational, albeit with slower technological development and fewer variations. The preference depends on personal inclination. Here, I want to emphasize that Web 3.0 development is a broad term, and understanding the differences between these market levels is crucial.</p><h3 id="Decentralization-as-a-Historical-Regression"><a href="#Decentralization-as-a-Historical-Regression" class="headerlink" title="Decentralization as a Historical Regression"></a>Decentralization as a Historical Regression</h3><p>Although Web 3.0 is seen as a promising direction, it also has its limitations.</p><p>This topic came to mind when considering wallet security. One problem is that once a private key is leaked, you lose control over your assets permanently, or someone else permanently gains control.</p><p>We know that an account address can be decoded from a private key. The private key is your asset. When backing up a wallet, you’re backing up the private key. If your private key is leaked, it’s like handing over your money to someone else. Whether they take it immediately or you can reclaim it before they act is another issue.</p><p>This differs from traditional account models. Your user password isn’t your property. Centralized accounts are based on KYC; you can retrieve your assets by proving your identity through ID, fingerprint, or facial recognition. Your account password can be changed, and even if leaked, others can only control your account temporarily.</p><p>Private keys cannot be changed. The only option is to transfer assets to another private key quickly. Decentralization intentionally differentiates between identity and digital identity, increasing digital identity sovereignty but weakening control over it.</p><p>The question arises: Is decentralized asset security? Is holding your money better than storing it in a bank? Considering Bitcoin’s origin, rooted in distrust of centralized institutions, decentralization was born.</p><p>Think about it! Initially, there were no centralized institutions. People bartered, living in a decentralized world. To reduce personal asset protection costs and enhance punitive mechanisms against wrongdoers, centralized institutions were formed to protect the majority’s interests.</p><p>Promoting decentralization now seems like a historical regression. Decentralization isn’t a new concept; it existed and was selectively abandoned by people.</p><p>However, the difference now is that advanced technology might achieve what was previously impossible, pushing the world toward a new vision. But current technology isn’t that advanced yet, with many blockchain technical bottlenecks.</p><p>Therefore, my view is that today’s decentralization concept isn’t an evolution of the centralized world but a supplement to it. Centralized and decentralized systems will coexist in the future.</p><p>It’s important to note that decentralization isn’t synonymous with Web 3.0. Web 3.0 is an evolution of Web 2.0, indicating a new version. Web 3.0 will be an era where centralized and decentralized systems coexist.</p><h3 id="LUNA-Collapse"><a href="#LUNA-Collapse" class="headerlink" title="LUNA Collapse"></a>LUNA Collapse</h3><p>Recently, something amusing happened. One day, LUNA’s price was $80 in the morning and dropped to $1 by the evening. In the next three to four days, LUNA’s price plummeted from $1 to $0.00001, a nearly ten-thousand-fold drop within days. A once top-ten cryptocurrency suddenly became worthless.</p><p>My basic understanding is that UST had a trading pool that tilted slightly when there was a large sell-off. Initially, there was a slight fluctuation, but as social media spread the news, retail investors lost confidence in UST and started selling off massively, driving the price lower. The Terra team had 50,000 Bitcoins as reserves and attempted to stabilize the balance, but Bitcoin’s value was also dropping. The Bitcoins pledged were worth less than expected, failing to stabilize the price. Eventually, the Terra team gave up, allowing the price to fall.</p><p>Shortly after the LUNA incident, some people discussed whether LUNA still had a chance. One possibility was that the Terra team, with $2 billion in reserves, could buy all UST when its market cap dropped below $2 billion, destroy the excess UST, and leave only $2 billion worth of UST, restoring its price to $1. However, the Terra team didn’t plan to do so and later issued a new LUNA.</p><p>LUNA’s failure doesn’t imply the failure of algorithmic stablecoins. Some teams are developing new algorithmic stablecoins, reportedly aiming to simulate the Federal Reserve’s operation model through algorithms, working on whitepapers.</p><p>In the grand era of Web 3.0, LUNA’s incident is just an early joke.</p><h3 id="Web5"><a href="#Web5" class="headerlink" title="Web5"></a>Web5</h3><p>Recently, a new concept, Web5, emerged, implying Web 5.0. The person who proposed it <a href="https://blog.web3labs.com/web5">said</a> they skipped Web4 because Web2 + Web3 &#x3D; Web5. Well, it’s impressive. Who else could propose Web5? Would anyone with some software engineering knowledge dare to say this?</p><p>In short, my conclusion is that Web5 will definitely not succeed. Whether it’s called Web5, Web6, or Web7, its concept still revolves around decentralization and SSI, falling within my understanding of Web 3.0. If you understand the principles of DIDs, you’ll know that the so-called Web5 is purely a gimmick at this stage.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h3 id=&quot;Web-3-0-Development&quot;&gt;&lt;a href=&quot;#Web-3-0-Development&quot; class=&quot;headerlink&quot; title=&quot;Web 3.0 Development&quot;&gt;&lt;/a&gt;Web 3.0</summary>
        
      
    
    
    
    
    <category term="Blockchain" scheme="https://en.smallyu.net/tags/Blockchain/"/>
    
    <category term="Web3" scheme="https://en.smallyu.net/tags/Web3/"/>
    
  </entry>
  
  <entry>
    <title>Mental Attitudes in Interpersonal Communication</title>
    <link href="https://en.smallyu.net/2022/05/25/Mental%20Attitudes%20in%20Interpersonal%20Communication/"/>
    <id>https://en.smallyu.net/2022/05/25/Mental%20Attitudes%20in%20Interpersonal%20Communication/</id>
    <published>2022-05-25T15:31:50.000Z</published>
    <updated>2025-08-06T10:38:27.719Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1"><a href="#1" class="headerlink" title="1"></a>1</h3><p>I just thought of a problem, and I can’t quite figure it out.</p><p>Suppose you have something worth 10 yuan, and another person offers something worth 5 yuan, very eager to trade with you. At this point, are you willing to trade?</p><blockquote><p>Of course, I wouldn’t trade with him. Since you want to trade with me, it must be an equal exchange. Why should I exchange my higher-value item for your lower-value item? That’s unfair to me. I won’t trade with him.</p></blockquote><h3 id="2"><a href="#2" class="headerlink" title="2"></a>2</h3><p>At this point, you have two options:</p><p>One is to take out something worth 5 yuan and trade, keeping 5 yuan and gaining an item;</p><p>The other is not to trade, keeping 10 yuan and waiting until someone is willing to trade something worth 10 yuan.</p><p>Which one would you choose?</p><blockquote><p>It depends on the situation. If I’m in a hurry to trade, I might choose the first option. If I’m not in a hurry and I like the item, then I’ll wait.</p></blockquote><h3 id="3"><a href="#3" class="headerlink" title="3"></a>3</h3><p>Let’s consider another problem.</p><p>Suppose a person has 10 yuan and is willing to spend all 10 yuan. At one point, he takes out 3 yuan;</p><p>Another person also has 10 yuan, willing to spend a total of 5 yuan, and at the same point, takes out all 5 yuan.</p><p>On the surface, 5 yuan is more than 3 yuan, but their willingness is different.</p><p>Which one do you think is paying a higher price?</p><blockquote><p>The first person is paying a higher price. He is willing to give me everything he has, just that he could only take out 3 yuan at that time. But he is also willing to give me the remaining 7 yuan later, so he is paying a higher price. The second person, although he has the money, isn’t willing to give it all to me.</p></blockquote><h3 id="4"><a href="#4" class="headerlink" title="4"></a>4</h3><p>What if you only need 5 yuan, and anything more is useless?</p><p>The situation is different then.</p><blockquote><p>I think the more, the better. I’m quite greedy.</p></blockquote><h3 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h3><p>If you only need 5 yuan, but someone is willing to give you 10 yuan.</p><p>Does he know you only need 5 yuan?</p><p>If he knows, his willingness is overkill.</p><p>If he doesn’t know, why didn’t you tell him?</p><h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>A person without friends has 10 yuan. A person with friends only has 5 yuan. Should the person without friends take out 5 yuan or wait for the person with 10 yuan?</p><p>A person without a partner has 10 yuan. A person with a partner only has 5 yuan. If a person without a partner is willing to spend 10 yuan, even if he only takes out 3 yuan now, how does your 5 yuan compare?</p><h3 id="Remarks"><a href="#Remarks" class="headerlink" title="Remarks"></a>Remarks</h3><p>The above-mentioned currency units are the same, with no exchange rate issues.</p><h3 id="Extension"><a href="#Extension" class="headerlink" title="Extension"></a>Extension</h3><p>If you consider different exchange rates, different total amounts of money, remaining amounts, and changes over time, the problem becomes more complex.</p><br><h1 id="Adding-a-Case"><a href="#Adding-a-Case" class="headerlink" title="Adding a Case"></a>Adding a Case</h1><div class="time">2022-06-18</div><h3 id="5"><a href="#5" class="headerlink" title="5"></a>5</h3><p>Suppose you are now locked in prison, suffering day after day, and you gradually get used to the pain.</p><p>You keep waiting for someone who can open the prison door and let you out.</p><p>Finally, one day, someone comes and opens the prison door for you, but there is a time limit, and after two hours, you have to go back to the cell.</p><p>He promises to come every day to open the door for you, even if it’s only for two hours.</p><p>Would you thank him for the short-lived freedom he brings you?</p><p>The more you enjoy the joy of freedom, the harder it is to bear the pain in the cell. You get two hours of happiness, but the remaining time’s pain doubles.</p><p>You might even resent why someone who can only open the door for two hours comes instead of someone who can truly set you free.</p><p>How would you feel in this situation?</p><h3 id="6"><a href="#6" class="headerlink" title="6"></a>6</h3><p>As time goes on, you learn more about the person who opens the door.</p><p>You find out that he doesn’t just open the door for you; he also opens the door for your neighboring inmate for two hours, and it’s also him.</p><p>At this point, you might feel jealous and afraid. Why is it not just you? Why are there others? Will there be a day when he stops opening the door for you?</p><p>You think about giving up, but you don’t. Maybe in the future, you won’t even have the chance to give up, driving you crazy.</p><p>You question him, why?</p><p>He looks innocent, not knowing what he did wrong.</p><p>He reassures you that he won’t forget you.</p><h3 id="7"><a href="#7" class="headerlink" title="7"></a>7</h3><p>Later, you discover that it’s not just you, not just your neighboring inmate.</p><p>There are many others, also for two hours, and it’s him.</p><p>His time is spread across many people, so you only get two hours.</p><p>Some people get more time, some less, but you get two hours.</p><p>You hoped for someone who could set you free for twenty-four hours, but you got someone who could only give you two hours.</p><p>What do you do?</p><h3 id="Extension-1"><a href="#Extension-1" class="headerlink" title="Extension"></a>Extension</h3><p>If it were not a one-sided need for bail, but a mutual need where you both open each other’s prison doors, how would the situation be different?</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h3 id=&quot;1&quot;&gt;&lt;a href=&quot;#1&quot; class=&quot;headerlink&quot; title=&quot;1&quot;&gt;&lt;/a&gt;1&lt;/h3&gt;&lt;p&gt;I just thought of a problem, and I can’t quite figure it</summary>
        
      
    
    
    
    
    <category term="Opinion" scheme="https://en.smallyu.net/tags/Opinion/"/>
    
  </entry>
  
  <entry>
    <title>Records of Psychological Treatment</title>
    <link href="https://en.smallyu.net/2022/05/02/Records%20of%20Psychological%20Treatment/"/>
    <id>https://en.smallyu.net/2022/05/02/Records%20of%20Psychological%20Treatment/</id>
    <published>2022-05-02T06:02:44.000Z</published>
    <updated>2025-08-06T10:38:28.692Z</updated>
    
    <content type="html"><![CDATA[<style>li:nth-child(odd) {  list-style-type: "A:";}li:nth-child(even) {  list-style-type: "B:";}</style><h4 id="1"><a href="#1" class="headerlink" title="1"></a>1</h4><ul><li><p>Hello.</p></li><li><p>Hello, Bishop. I’m here to confess my sins. I’ve been feeling unhappy lately. I think I’ve mentally abused a girl.</p></li><li><p>Take your time, speak slowly, one step at a time. Are you saying you abused someone and now you feel unhappy because of it?</p></li><li><p>Yes, it’s complicated. I think my actions were wrong, but my actions were caused by her, so ultimately, it’s her fault.</p></li><li><p>You’re confusing me. Let’s start from the current situation. What is your relationship now, and how is it?</p></li><li><p>We’re friends, maybe… if she’s willing. We had a fight before, but we made up. She said it’s fine. But I’m not sure how she really feels, if she might change her mind. You know, women, they always change their minds.</p></li><li><p>Are you a couple? Were you a couple before?</p></li><li><p>No, she has a boyfriend. Mentioning this makes me sad.</p></li><li><p>So you’re saying, as ordinary friends, you fought, made up, but you’re not sure if she’s forgiven you? How does this relate to mental abuse? Why are you sad?</p></li><li><p>You have too many questions. I don’t know which one to answer first.</p></li></ul><h4 id="2"><a href="#2" class="headerlink" title="2"></a>2</h4><ul><li><p>That’s my fault. Let’s take it one by one. You’re unsure if she’s forgiven you, right?</p></li><li><p>She forgave me. Although I worry she might change her mind, I have no reason to doubt her. Or rather, I’m afraid she’ll change her mind.</p></li><li><p>You’re afraid she’ll change her mind because you’re afraid of losing her as a friend?</p></li><li><p>Yes.</p></li><li><p>Why do you have no reason to doubt her?</p></li><li><p>Because she said to trust her, she won’t lie to me.</p></li><li><p>Has she ever lied to you?</p></li><li><p>Almost never, and even if she did, it wasn’t really a lie, just some things.</p></li><li><p>So you don’t trust her, afraid she might lie to you.</p></li><li><p>I don’t think she would lie to me on purpose.</p></li><li><p>You mentioned some things, what things? Did they make you not trust her?</p></li><li><p>Yes. She’s not always reliable. I worry she won’t follow through on what she says, like forgiving me.</p></li><li><p>Consistency is indeed a valuable trait.</p></li><li><p>I thought it was a basic human quality.</p></li><li><p>Tell me specifically, what did she fail to follow through on?</p></li><li><p>She promised to hang out, but when the time came, due to various reasons, it didn’t happen.</p></li><li><p>She broke her promise?</p></li><li><p>Not exactly, a lot happened in between.</p></li><li><p>The “various reasons” you mentioned, do you know what they are? Do you find them reasonable?</p></li><li><p>Reasonable, yes, but they were all her reasons. I’m wondering if she didn’t want to hang out with me and made up some excuses.</p></li><li><p>You suspect she lied to you.</p></li><li><p>Yes.</p></li><li><p>Didn’t she say she wouldn’t lie to you? You just said you believe she wouldn’t lie to you on purpose.</p></li><li><p>Ah, that’s true. To believe or not to believe, that is the question.</p></li></ul><h4 id="3"><a href="#3" class="headerlink" title="3"></a>3</h4><ul><li><p>Your logic is contradictory. If you trust her, you shouldn’t doubt she lied to you. If you don’t trust her, then… don’t trust her, why be friends with her?</p></li><li><p>I’m just afraid she doesn’t want to hang out with me.</p></li><li><p>Why not ask her directly if she doesn’t want to hang out with you?</p></li><li><p>Her answer would definitely be “no”. I don’t need to ask.</p></li><li><p>You doubt her answer would be a lie.</p></li><li><p>It’s possible.</p></li><li><p>Why?</p></li><li><p>Because she almost never really hangs out with me. If I just ask, she would say nice things.</p></li><li><p>So you want her to hang out with you to prove her words are true. Otherwise, you feel insecure, right?</p></li><li><p>Insecure… I’m just unsure if I should trust her. I want to believe her and be friends with her, but I need some facts to prove her words are true, to make me able to trust her. It’s indeed a matter of security, I lack a sense of security.</p></li><li><p>From another perspective, why would she lie to you?</p></li><li><p>Maybe she has a habit of lying, or she tells white lies. White lies are still lies, I hate lies. Maybe she says nice things to avoid hurting me, but she doesn’t realize that this also hurts me.</p></li><li><p>Whether it’s a lie or not, her intention is good.</p></li><li><p>I wish she would be straightforward.</p></li><li><p>Does it make a difference?</p></li><li><p>A huge difference. If she says she doesn’t want to hang out with me, then I won’t think about it. If she makes up some reasons, I’ll still think about asking her out in the future.</p></li><li><p>You think she’s stringing you along?</p></li><li><p>Not exactly… I believe she’s not stringing me along, at least not intentionally.</p></li><li><p>You still believe her.</p></li><li><p>Her intentions are good.</p></li><li><p>Do you still doubt her?</p></li><li><p>No. If I don’t believe her words but trust her character, my logic is confused. I should trust her.</p></li></ul><h4 id="4"><a href="#4" class="headerlink" title="4"></a>4</h4><ul><li><p>Back to the original question, what do you mean by “mental abuse”?</p></li><li><p>It’s my fault, I’ve done many bad things to her.</p></li><li><p>Care to elaborate?</p></li><li><p>Suddenly, I don’t want to say. I admit it’s my fault. I just hope for a chance to make up for my mistakes.</p></li><li><p>What about your “sadness”?</p></li><li><p>No need to mention it.</p></li><li><p>Are we ending this conversation too abruptly?</p></li><li><p>It’s enough already.</p></li></ul><h3 id="Appendix"><a href="#Appendix" class="headerlink" title="Appendix"></a>Appendix</h3><blockquote><p>#Message to a friend I had a falling out with#</p><p>I’ve recently come to understand some things. I know where I went wrong, but I won’t tell you because I’m afraid my understanding is incorrect, inadequate, or not deep enough. Because talk is cheap. I just hope for a chance to prove through my actions that I can do better than before.</p><p>Recently, I played the game “Nine Wondrous Streets”, and my characters were Hanno and Shakespeare. The story ended with a poem written by my character, which touched me deeply.</p><p>The poem is: “If you call, I will return.”</p><p>– 2022.04.21 (Sina Weibo)</p></blockquote><h3 id="Appendix-1"><a href="#Appendix-1" class="headerlink" title="Appendix"></a>Appendix</h3><p>I recommend a book titled <a href="https://book.douban.com/subject/26369699/">The Courage to Be Disliked: The Philosophy of Alfred Adler</a>, by Ichiro Kishimi.</p><img src="book.jpeg" width="30%"><p>The content is very worthwhile, and it has inspired me greatly. It mainly uses “Adlerian psychology” (individual psychology) to explain many psychological issues. Among the dozens of emotional and psychology-related books I’ve read recently, I personally think this is the best one.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;style&gt;
li:nth-child(odd) {
  list-style-type: &quot;A:&quot;;
}
li:nth-child(even) {
  list-style-type: &quot;B:&quot;;
}
&lt;/style&gt;

&lt;h4 id=&quot;1&quot;&gt;&lt;a href=&quot;#1&quot;</summary>
        
      
    
    
    
    
    <category term="Life" scheme="https://en.smallyu.net/tags/Life/"/>
    
  </entry>
  
  <entry>
    <title>How to Deal with Misunderstandings</title>
    <link href="https://en.smallyu.net/2022/04/21/How%20to%20Deal%20with%20Misunderstandings/"/>
    <id>https://en.smallyu.net/2022/04/21/How%20to%20Deal%20with%20Misunderstandings/</id>
    <published>2022-04-21T13:31:39.000Z</published>
    <updated>2025-08-06T10:38:27.700Z</updated>
    
    <content type="html"><![CDATA[<p>All misunderstandings stem from interpreting others’ actions through our own mindset.</p><p>Each person is an independent individual, kind, free, and happy.</p><img src="1.png" style="width:80%"><p>Everyone has their own worldview, which has settled after experiencing a turbulent life, serving as a weapon to face a cruel world and complex human nature, perhaps like a magic mirror, rich and magical.</p><p>A worldview gives each person different levels of understanding, translating others’ words into meanings they can comprehend within their minds.</p><img src="2.png" style="width:80%"><p>When you want to express an idea, you convert the idea into words, a process governed by your ability to express. Your magic mirror is red, so the words you say are also red, and these red words are kind.</p><img src="3.png" style="width:80%"><p>Through some medium, your words reach the other party.</p><img src="4.png" style="width:80%"><p>Unfortunately, the other party’s magic mirror is blue. You understand this situation, as it is hard to expect everyone to have the same level of understanding and the same color magic mirror as you. This world is inherently diverse and colorful.</p><p>So, unfortunately, your red words, interpreted by a blue magic mirror, are understood as pink. Red is without malice, but pink carries some other connotations, deviating from your original intent.</p><img src="5.png" style="width:80%"><p>The other party responds to you based on the pink meaning with blue words. The response is already biased because the other party misunderstood your meaning.</p><img src="6.png" style="width:80%"><p>The blue content may be without malice or may carry a bit of malice, but it flies towards you.</p><img src="7.png" style="width:80%"><p>Again, unfortunately, your magic mirror is red. For the blue content from the other party, your magic mirror interprets it as yellow.</p><img src="8.png" style="width:80%"><p>This deepens the misunderstanding. Originally pure red and blue hearts both feel unforgivably hurt. How could the other party do this!</p><img src="9.png" style="width:80%"><p>Over time, the gap between the two people grows larger.</p><img src="10.png" style="width:80%"><p>As a clever magician, you strive to change this situation. Through your diligent practice, you find a way to acquire a blue magic mirror.</p><img src="11.png" style="width:80%"><p>In the future, when the other party communicates with you using a blue magic mirror,</p><img src="12.png" style="width:80%"><p>you can take out your blue magic mirror to interpret the other’s content.</p><img src="13.png" style="width:80%"><p>Through the interpretation of the blue magic mirror, the other party’s kind content can reach your mind unchanged.</p><img src="14.png" style="width:80%"><p>You will not be hurt by this.</p><img src="15.png" style="width:80%"><p>Of course, you have no reason to ask others to have the same red magic mirror as you. This is too difficult, not to mention whether others are willing or not, they may not have enough strength to handle your red magic mirror.</p><p>If you want to communicate with the other party, just take out your blue magic mirror.</p><p>In summary, make yourself stronger.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;All misunderstandings stem from interpreting others’ actions through our own mindset.&lt;/p&gt;
&lt;p&gt;Each person is an independent individual,</summary>
        
      
    
    
    
    
    <category term="Dreams" scheme="https://en.smallyu.net/tags/Dreams/"/>
    
    <category term="Perspective" scheme="https://en.smallyu.net/tags/Perspective/"/>
    
  </entry>
  
  <entry>
    <title>Problems in the Previous Company (2)</title>
    <link href="https://en.smallyu.net/2022/03/11/Problems%20in%20the%20Previous%20Company%20(2)/"/>
    <id>https://en.smallyu.net/2022/03/11/Problems%20in%20the%20Previous%20Company%20(2)/</id>
    <published>2022-03-11T10:58:39.000Z</published>
    <updated>2025-08-06T10:38:27.727Z</updated>
    
    <content type="html"><![CDATA[<p>Recently, I <a href="/micro-blog/#2022-10">noticed</a> the field of service integration in software development and some <a href="https://coolshell.cn/articles/20765.html">startups</a> that have achieved success in this direction. Additionally, seeing some people interviewing at the company reminded me of past experiences at my previous company. In a previous article, I didn’t specifically mention that the department’s market positioning was unclear. Of course, there are many historical reasons for this outcome. The company initially had a solid backing as a subsidiary, acting confidently as a client, but later shifted to a vendor role without a market-oriented gene. Here, I will only discuss the results.</p><p>If the department’s positioning was to develop products based on technical foundations, then the problem was very serious.</p><p>After officially taking over the development of the core product, I found the project’s code to be in engineering disarray. It wasn’t that the code was messy; it lacked top-level design, clear module divisions, a coherent directory structure, and reliable software design. The project supported four or five types of databases, yet the configuration methods for these databases were not unified, scattered in different locations within different configuration files. It was unclear where configurations were effective or ineffective, which functions worked well, and which did not, relying either on experience or guesswork. The API design was also poor. In my article “<a href="/2021/11/23/%E9%9A%8F%E6%83%B3/">Thoughts</a>“, I mentioned issues with URL parameters. Additionally, URL configuration and parameter validation were written in a single configuration file, meaning that to add a URL in a smart contract, one had to modify the configuration file and restart the node. As for hot-loading configuration rules, no one seemed to care.</p><p>The mechanism of smart contracts had issues as well. After a transaction was submitted to the contract, the transaction check and execution were divided into two steps. The check function’s input and output were bitMaps, and it was crucial to ensure that the input and output lengths were consistent; otherwise, the node would panic due to out-of-index errors in the loop handling. The problem was, it was a smart contract—why use such rigid writing? Later, someone told me the principle of writing smart contracts was “absolutely no errors,” because despite being called smart contracts, they were deeply coupled with project functionalities, named system contracts, developed by the underlying chain developers and not for user utilization. Writing contracts required sufficient understanding of the underlying chain. People seemed proud of this, thinking, “We can write this because we are familiar,” not realizing it was an incomplete functionality, but seeing it as a high-threshold feature. Originally, there was no plan to support smart contracts, but due to expanding needs, it was forcibly added. Someone at the time even revered a leader’s article that said, “Blockchain doesn’t necessarily need smart contracts,” greatly admiring this design contrary to the broad concept of smart contracts.</p><p>After writing several contracts, one would notice that each contract’s check function had a statement to check if the transaction was a null pointer. One would think, how could a null transaction appear in internal system function calls? After reproduction and troubleshooting, it was found that in concurrent scenarios, the queue would occasionally be abnormal: pushing a batch of transactions in, popping out would yield null transactions, purely a data structure issue. Although the issue was identified, it wasn’t resolved. Instead, I lazily added a check in the contract each time. Who knows how many hidden bugs were left by previous developers?</p><p>When handling business with contracts, database read-write performance would become a bottleneck for transaction performance, such as with MySQL. Additionally, there was a question I never understood: how does the check function in the contract determine if a transaction is successful or failed? Because contracts are developed for specific business purposes. The check and execution of transactions by the contract occur at the commit stage of BFT consensus. Consensus is already reached at this point, and the check function can’t pre-execute database writes (if contracts relied on database features like transactions, blockchain would be meaningless). Should all possible failure scenarios be precluded? Is it semantic or execution-level exclusion? Even if exceptions could be enumerated, how much performance would it cost? One might wonder, why not check before consensus? There are checks before consensus, but regardless of before or after consensus, the total database operations remain unchanged, and so does the performance cost. (Extended thought: Why don’t public chains have this issue, but consortium chains do?)</p><p>Version management confusion was another engineering issue. No one could clearly state the current version number. Was it 2.0? The configuration file still said 1.4. Was it 2.0.1? There was also a 2.0.3 in the repository, but no one knew who changed it or what changes were made. Test cases appeared in the main codebase, such as scenarios requiring exception testing in BFT consensus through malicious voting, only observable by modifying the code. Consequently, that part of the code remained in the project, activatable via configuration. Other redundancies existed, such as common interfaces for smart contracts added to be compatible with UTXO, though other contracts didn’t need them but still had to implement them.</p><p>The project had various technical issues, including ones I previously solved, like the issue of blacklists failing in the proposal phase due to VRF use, indicating the system was particularly incomplete in core areas, with high costs for refactoring. The project’s greatest value was participating in a well-known industry test. Passing the test would earn the company a certificate from an organization, proving the software was qualified, certified, and up to standard. The company could then use this certificate for promotion, bidding, and sales. The software quality itself was irrelevant. Initially, the test items seemed basic blockchain requirements, nothing significant about passing. But upon personal involvement, I realized the testing process was fraught with difficulties, all human-induced, due to unprofessional developers, lax team management, many unreasonable project designs, and loss of documentation and personnel, greatly increasing test preparation difficulties. Perhaps no one realized what effective difficulties were, creating an illusion of a good project.</p><p>If the department’s positioning was service integration, providing solutions and technical support, it was also inadequate.</p><p>Besides the blockchain layer, the department had projects like Bass, middleware, SDK, and browsers involving components like Kafka, Zookeeper, Redis, and Prometheus, but their use was superficial with low technical content, overall poorly done. There were no products, UI, user thinking, or owner awareness, with all improvements made ad-hoc based on business needs, resulting in rushed efforts, always prioritizing customer demands. Service integration could be simple or complex, easy to do well or poorly. Yet the department also seemed reluctant about service integration. For instance, when doing something with Hyperledger Fabric, the leader would say, “Clients will ask, ‘You only use Fabric, haven’t done much, why charge?’” This reflects the department’s chaotic positioning.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Recently, I &lt;a href=&quot;/micro-blog/#2022-10&quot;&gt;noticed&lt;/a&gt; the field of service integration in software development and some &lt;a</summary>
        
      
    
    
    
    
    <category term="Work" scheme="https://en.smallyu.net/tags/Work/"/>
    
    <category term="Issues" scheme="https://en.smallyu.net/tags/Issues/"/>
    
  </entry>
  
  <entry>
    <title>Why I Don&#39;t Study Programming Languages</title>
    <link href="https://en.smallyu.net/2022/02/16/Why%20I%20Don&#39;t%20Study%20Programming%20Languages/"/>
    <id>https://en.smallyu.net/2022/02/16/Why%20I%20Don&#39;t%20Study%20Programming%20Languages/</id>
    <published>2022-02-16T06:20:30.000Z</published>
    <updated>2025-08-06T10:38:28.723Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Original-Text-from-2021-06-27"><a href="#Original-Text-from-2021-06-27" class="headerlink" title="Original Text from 2021.06.27"></a>Original Text from 2021.06.27</h3><p>Here, “programming languages” specifically refer to the concrete implementation forms of programming languages, not the design philosophy or language features.</p><ul><li>Because I have long known what top programming language experts look like.</li><li>Because learning a certain feature of a programming language is already second nature to me.</li></ul><p>At least in the short term, I will maintain and stick to my current views and practices.</p><h3 id="Update-on-2021-08-08"><a href="#Update-on-2021-08-08" class="headerlink" title="Update on 2021.08.08"></a>Update on 2021.08.08</h3><p>Yesterday, I met a post-2000s female student at a role-playing game event. She was there as a participant but also worked part-time as a DM at the store. It made me reflect on what I was doing when I was 20 years old.</p><p>The link to my old blog has always been at the bottom of my blog, but I seldom check it. Reflecting a bit more seriously, I suddenly understood why I looked down on my classmates’ programming skills when I graduated, why I could face my colleagues on at least equal footing when I started working, why I remained unfazed even when my coding ability was questioned during interviews recently, and why I now disdain learning the formal aspects of programming languages.</p><p>Standing in front of the bookshelves at the National Library, I couldn’t help but recall the days I spent in the library during my university years.</p><h3 id="Update-on-2021-08-29"><a href="#Update-on-2021-08-29" class="headerlink" title="Update on 2021.08.29"></a>Update on 2021.08.29</h3><p>I’m back to add more on this topic. &#x2F;facepalm</p><p>On QQ Space, I saw a post by a university classmate who is quite the geek. His recent post was about “relearning Advanced Programming in Unix,” and the previous one was about a video of a technical conference on Bilibili. I once tried to attend some technical conferences and meetups but later realized that apart from benefiting the speakers, the audience was just tagging along. You can’t really expect to learn much from them. Conferences are more about being part of a circle.</p><p>Regarding Unix programming or programming languages, I genuinely like them. I can imagine the joy of writing commands to achieve the desired results, which is a primitive source of happiness for a programmer. If I wanted to learn this content, I now have reliable sources of information, effective and clear methods, and given enough time, I could comprehensively and systematically master these topics and their details.</p><p>However, I always feel that I should focus on more “advanced” or “higher-level” things. I don’t even know what “advanced” and “higher-level” mean here, but I always feel that there are more important things I need to understand and master, and I can’t afford to spend time on these things.</p><h3 id="Update-on-2022-02-16"><a href="#Update-on-2022-02-16" class="headerlink" title="Update on 2022.02.16"></a>Update on 2022.02.16</h3><p>Recently, I encountered a problem at work that might be unsolvable. It involves rewriting a Golang smart contract in Solidity to run on Ethereum. Part of it is based on Bulletproofs (a type of zero-knowledge proof) to prove the integrity of files. Setting aside whether Solidity’s expressiveness can implement Bulletproofs, zero-knowledge proofs have always been my blind spot. I can’t write them in any language, and the source files contain magic numbers, a binary file, and a seed list whose origins I don’t know.</p><p>Of course, work problems should be solved at work. This made me ponder some issues and feel confused. For instance, what kind of person can write a Bulletproofs implementation? Why can’t I? Where is the gap, and how big is it? What is the learning cost of Bulletproofs, and how high is the threshold?</p><p>A few days ago, I asked about this in a chatroom (<a href="https://t.me/c/1711254099/593">https://t.me/c/1711254099/593</a>):</p><blockquote><p>Hi everyone, I’d like to take this opportunity to ask for your opinions.</p><p>Recently, while learning about zero-knowledge proofs, I found the principles quite difficult to understand. To implement a system like Bulletproofs in code (<a href="https://cathieyun.medium.com/building-on-bulletproofs-2faa58af0ba8">https://cathieyun.medium.com/building-on-bulletproofs-2faa58af0ba8</a>), merely knowing programming languages and how to program is not enough. Some additional (cryptographic) prerequisite knowledge is required.</p><p>This made me think that a programmer’s job, or designing software or protocols, crucially involves applying programming skills to various fields, and mastering programming languages might be the most basic skill.</p><p>In the article “Demystifying Computer Science,” it is mentioned that the article covers all aspects of computation. Bulletproofs, at its core, is computation too, but much more complex, right?</p><p>Therefore, I’m not sure about this view: computer science is actually at a relatively “fundamental” level, and studying programming languages is a highly specialized task that is not suitable for most people? Even if someone is very skilled in programming, they still need to spend a lot of time learning about other fields.</p></blockquote><p>This was in a chatroom dedicated to discussing programming languages, so my message emphasized the concept of programming languages. Immediately, someone replied (<a href="https://t.me/c/1711254099/595">https://t.me/c/1711254099/595</a>):</p><blockquote><p>I think different programming languages are similar to basic materials like steel and wood. If I want to make a stool, I can use wood by simply understanding its properties. If I want to make a knife, I can use steel, also quite straightforward. But if I want to make a car chassis, I need to understand more about steel properties and mechanics. Building a skyscraper requires learning about architecture and combining material properties with architectural knowledge. Computer + audio knowledge &#x3D; digital music; computer + graphics + design knowledge &#x3D; Photoshop, etc.</p></blockquote><p>He vividly compared the relationship between programming languages and domain knowledge. A few days later, another person agreed with my view (<a href="https://t.me/c/1711254099/757">https://t.me/c/1711254099/757</a>):</p><blockquote><p>For the definition of computation, I’d like to quote from Yin’s blog: computation is “mechanical information processing.”</p><p>Programming languages are tools&#x2F;methods for expressing “computation.” In SICP’s words, they “capture how-to knowledge.”</p><p>So, knowing programming languages allows one to express domain knowledge. Studying programming languages aims to create better tools (to enhance expressiveness).</p><blockquote><p>Even if someone is very skilled in programming, they still need to spend a lot of time learning about other fields.</p></blockquote><p>Totally agree.</p></blockquote><p>In short, being able to write code is not enough! Knowing only programming languages is insufficient!</p><h3 id="Update-on-2022-03-05"><a href="#Update-on-2022-03-05" class="headerlink" title="Update on 2022.03.05"></a>Update on 2022.03.05</h3><p>To what extent should programming languages be studied? My view is, study them to a usable extent. For different people, “usable” has different meanings and needs to be weighed by oneself.</p><p>A few days ago, I watched a video about personal development, which should be the first result if you search on YouTube. It mentioned a few sentences, roughly meaning, “When you’re looking for a job, don’t worry about what you will get, but about what you will become.”</p><p>If you want to become a programming language expert, devote all your efforts to studying programming languages. If you want to become a specialized senior developer, focus on the technical direction of your position. If you have no goals or ambitions elsewhere, lower your programming skill requirements and “don’t study programming languages.”</p><p>So the most important question is, what kind of person do you want to become?</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h3 id=&quot;Original-Text-from-2021-06-27&quot;&gt;&lt;a href=&quot;#Original-Text-from-2021-06-27&quot; class=&quot;headerlink&quot; title=&quot;Original Text from</summary>
        
      
    
    
    
    
    <category term="Programming Languages" scheme="https://en.smallyu.net/tags/Programming-Languages/"/>
    
    <category term="Learning" scheme="https://en.smallyu.net/tags/Learning/"/>
    
  </entry>
  
  <entry>
    <title>New Year&#39;s Eve</title>
    <link href="https://en.smallyu.net/2022/02/01/New%20Year&#39;s%20Eve/"/>
    <id>https://en.smallyu.net/2022/02/01/New%20Year&#39;s%20Eve/</id>
    <published>2022-02-01T11:47:43.000Z</published>
    <updated>2025-08-06T10:38:27.721Z</updated>
    
    <content type="html"><![CDATA[<p>The pile of packages in the corner has been left unopened for a long time<br>The quilt I wanted to replace has not been bought yet</p><p>The murder mystery games are not as lively as before<br>Weekday players are not as immersed as before<br>The game proceeds as usual countless times<br>New stories, new scripts, new stores<br>But in my mind, only past scenes come to mind  </p><p>Open-source projects remain stagnant as usual<br>Nothing specifically needs to be done during the Spring Festival<br>I always want to avoid wasting time and life<br>But self-improvement has become a part of daily life  </p><p>Playing games that I’m not interested in to kill time<br>But I worry if time can really be used for leisure<br>However, if I don’t consume time, what else can I do  </p><p>Some people start families at a young age<br>Some are still single even at an older age<br>At the same age, some are forced to grow up<br>At the same age, some don’t want to take responsibility  </p><p>The vehicles on the street are not as bustling as before<br>On New Year’s Eve, I especially don’t want to go out<br>I want to experience the troubles alone<br>Mainly because there’s nothing to do outside  </p><p>The roommate reminds me to lock the doors and windows<br>But the kindness from hometown catches me off guard<br>Under the prosperity and beauty of this great era<br>How many struggling cattle and horses are concealed  </p><p>The scenery outside the window has been seen many times<br>The wind and clouds change<br>Constant and unchanging  </p><p>Maybe my writing skills have declined<br>Recently, there have indeed been many things without a clue<br>Too many things are unclear about the outcome<br>But at least I will always be here</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;The pile of packages in the corner has been left unopened for a long time&lt;br&gt;The quilt I wanted to replace has not been bought</summary>
        
      
    
    
    
    
    <category term="Life" scheme="https://en.smallyu.net/tags/Life/"/>
    
  </entry>
  
  <entry>
    <title>Chinglish</title>
    <link href="https://en.smallyu.net/2021/11/25/Chinglish/"/>
    <id>https://en.smallyu.net/2021/11/25/Chinglish/</id>
    <published>2021-11-25T13:50:59.000Z</published>
    <updated>2025-08-06T10:38:27.643Z</updated>
    
    <content type="html"><![CDATA[<p>Recently, I’ve noticed a few typical Chinglish phrases:</p><ul><li>This book doesn’t have any magic, just some lexical expression tutorials.</li><li>This approach is too low; that solution is too low.</li><li>Am I out?</li></ul><p>These are examples of sentences with English words mixed into Chinese, a phenomenon that occurs frequently in many (domestic) TV shows and variety programs.</p><p>The problem is, how do we translate these English words in these sentences? Literal translation definitely can’t convey the full meaning (why?). One sad possibility is that the people who speak this way are not good at English or Chinese. They can’t completely replace Chinese with English, nor can they completely replace English with Chinese.</p><p>If we consider Chinglish as a language, it would be a third hybrid language that people who don’t understand English or Chinese can’t comprehend. I saw a video, maybe it was a joke, where a British person lived in China, and after returning to the UK, he chatted with his family, saying, “This is too low, that is too low.” His family asked him, “What does ‘low’ mean?” He said, “Low is just low…”</p><p>The meaning of language can also be influenced by ideology. On some domestic platforms, many Chinese words can’t be typed out, but it doesn’t affect people’s understanding of what’s being discussed.</p><p>Some people claim to have “linguistic purism” and can’t tolerate mixed Chinese and English sentences, thinking it’s an impure expression. They believe one should use either pure Chinese or pure English. Such people might be suspected of nationalism.</p><p>Whether it’s hieroglyphs or Latin letters, they are tools used by humans to express their thoughts and are mediums for social consensus. The Martian script of the post-90s generation and the pinyin abbreviations of the post-00s generation are part of a generation’s collective memory, also a form of alternative language.</p><p>It’s enough to convey the meaning.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Recently, I’ve noticed a few typical Chinglish phrases:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;This book doesn’t have any magic, just some lexical expression</summary>
        
      
    
    
    
    
    <category term="Opinion" scheme="https://en.smallyu.net/tags/Opinion/"/>
    
  </entry>
  
  <entry>
    <title>The Curse of Knowledge</title>
    <link href="https://en.smallyu.net/2021/11/24/The%20Curse%20of%20Knowledge/"/>
    <id>https://en.smallyu.net/2021/11/24/The%20Curse%20of%20Knowledge/</id>
    <published>2021-11-24T14:19:55.000Z</published>
    <updated>2025-08-06T10:38:28.702Z</updated>
    
    <content type="html"><![CDATA[<p>At the beginning, everyone is an empty container:</p><img src="1.png" style="width:20%"><p>As experiences grow, new contents are added to the container:</p><img src="2.png" style="width:20%"><p>And new contents continue to increase:</p><img src="3.png" style="width:20%"><p>When two containers meet, they contain different contents:</p><img src="4.png" style="width:40%"><p>The two containers will try to show the same side of the content, create connections, reach consensus on certain issues, and form closer relationships:</p><img src="5.png" style="width:40%"><p>As each continues to grow, the proportion of the same side decreases from 1&#x2F;2 to 1&#x2F;3, weakening their connection:</p><img src="6.png" style="width:40%"><p>When the proportion of the same content becomes 1&#x2F;4, they no longer continue to have a connection:</p><img src="7.png" style="width:40%"><p>At this time, a third container appears:</p><img src="8.png" style="width:60%"><p>The leftmost and middle containers, with a common proportion of 2&#x2F;4 &#x3D; 1&#x2F;2, establish a connection:</p><img src="9.png" style="width:60%"><p>As time continues and content continues to grow, the middle node acquires some unique and special content. This unique content is key to distinguishing one container from another, commonly known as independent thinking ability:</p><img src="10.png" style="width:70%"><p>This special part of the content not only is special itself but also influences the existing content, making the previous content more enriched and characterized by independent thinking:</p><img src="11.png" style="width:70%"><p>Due to the interference of special content on previous content, the proportion of the same previous content has decreased, weakening the relationship between the leftmost container and the middle container:</p><img src="12.png" style="width:70%"><p>Even to the point of having no connection:</p><img src="13.png" style="width:70%"><p>The leftmost container has never obtained such special content:</p><img src="14.png" style="width:70%"><p>Until one day, the rightmost node acquires some special content, only it is triangular:</p><img src="15.png" style="width:70%"><p>The middle container and the right container cannot reach a consensus:</p><img src="16.png" style="width:70%"><p>The content of the middle container does not stop growing. After having special content, the newly added content also becomes colorful:</p><img src="17.png" style="width:70%"><p>The middle container no longer has connections with the left and right nodes and finds it difficult to establish connections again:</p><img src="18.png" style="width:70%"><p>The middle container is left alone, just like in the beginning:</p><img src="19.png" style="width:70%"><p>The content of the middle container continues to grow:</p><img src="20.png" style="width:25%"><p>Together with other containers, each continues to accumulate content independently:</p><img src="21.png" style="width:60%"><p>In various forms and colors:</p><img src="22.png" style="width:40%;">]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;At the beginning, everyone is an empty container:&lt;/p&gt;
&lt;img src=&quot;1.png&quot; style=&quot;width:20%&quot;&gt;

&lt;p&gt;As experiences grow, new contents are</summary>
        
      
    
    
    
    
    <category term="Opinions" scheme="https://en.smallyu.net/tags/Opinions/"/>
    
  </entry>
  
  <entry>
    <title>Random Thoughts</title>
    <link href="https://en.smallyu.net/2021/11/23/Random%20Thoughts/"/>
    <id>https://en.smallyu.net/2021/11/23/Random%20Thoughts/</id>
    <published>2021-11-23T15:40:59.000Z</published>
    <updated>2025-08-06T10:38:27.728Z</updated>
    
    <content type="html"><![CDATA[<p>It’s almost 1 AM and I can’t sleep, so I’ll write a little. Today during the day (yesterday), the tester reminded me that REST API input parameters should start with uppercase letters.</p><p>At first, I was a bit nervous. Did I fall behind? Have I not been developing according to the standards? REST API parameters with uppercase initials? (The interface’s <code>Content-Type</code> is <code>application/json</code>).</p><p>Then I checked GitHub’s API documentation, took another look at the DIDs (Decentralized Identifiers) standard document, and combined it with my long experience using JSON. No, there’s no habit of starting JSON keys with uppercase letters.</p><p>Then I thought of a ridiculous reason and asked, “Is the uppercase initial parameter a company standard?” The tester replied:</p><blockquote><p>I asked before, and it seems like you developers write it that way yourselves, like whether it’s a public or private variable, it should start with an uppercase letter.</p></blockquote><p>Sure enough. (smile)</p><h3 id="Access-Control"><a href="#Access-Control" class="headerlink" title="Access Control"></a>Access Control</h3><p>Access modifiers in Java are a basic concept used to control class access permissions. There are 3 keywords and 4 situations, such as <code>public</code> for public access and <code>private</code> for private access:</p><pre><code class="Java">public class aaa &#123;    public int a;    private String b;&#125;</code></pre><p>For more details, refer to Java’s documentation: <a href="https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html">Controlling Access to Members of a Class</a>.</p><p>Languages like Python, which are scripting languages, don’t have access control concepts. So, it’s conventionally accepted that variables named with a leading <code>_</code> are private, although there’s no code-level protection, just a naming difference.</p><pre><code>class aaa:    a = 1    _b = 2</code></pre><p>In Python, variable names starting with <code>__</code> can achieve code-level private variable effects, but using <code>__</code> for private variables isn’t entirely Python’s intention. Refer to Python’s documentation: <a href="https://docs.python.org/3/tutorial/classes.html#private-variables">9.6. Private Variables</a>.</p><p>It’s well known that Golang is a peculiar language, not only requiring you to write braces on the same line as the function name but also requiring you to do some things, like variables starting with an uppercase letter indicating public and those with a lowercase letter indicating private.</p><p>Golang’s distinction between variable case isn’t just a naming difference but a code-level control. What will the following code output?</p><pre><code>func main() &#123;    a := struct &#123;        i int    &#125;&#123;        i: 1,    &#125;    s, _ := json.Marshal(a)    fmt.Println(string(s))&#125;</code></pre><p>Of course, it’s <code>&#123;&#125;</code>, because <code>i</code> is lowercase and is automatically ignored during marshaling.</p><p>This is actually quite an unusual requirement. Golang reduces keywords and reuses keywords for “simplicity” in design, but it still needs to provide certain capabilities, requiring some odd workarounds.</p><p>In the above Java code, I deliberately used a lowercase <code>aaa</code> for the class name. Java classes generally start with an uppercase letter, but it doesn’t restrict you from writing your code in any particular way.</p><p>Even though I work with Golang, I’m not its disciple, nor am I a disciple of any other language. If you’re still a disciple of a particular language, I hope you can change your perspective soon.</p><p>So, because of some “features” of Golang, to make serialization a bit easier, the project’s REST API tends to use uppercase initial variable names as keys.</p><p>Time to sleep, I’ll write more tomorrow.</p><h3 id="No-Issues"><a href="#No-Issues" class="headerlink" title="No Issues"></a>No Issues</h3><p>There’s no issue whether JSON keys start with uppercase or lowercase letters. To save the trouble of writing <code>&lt;code&gt;json&lt;/code&gt;</code>, the output parameters are uppercase by default, so the input parameters are uppercase as well. This is an engineering symmetry and poses no problem.</p><p>I remember once designing a REST API where input parameters used camelCase <code>myName</code> and output parameters used snake_case <code>my_name</code>. The reason was that Java’s Entity could automatically map camelCase variables in the POST body to the object during input. For output parameters, the program directly returned data from the database, which was in snake_case (not following the development standard). This achieved the simplest code but indeed had asymmetric input and output, which was inappropriate.</p><h3 id="One-Thing"><a href="#One-Thing" class="headerlink" title="One Thing"></a>One Thing</h3><p>If it was just this issue, it wouldn’t be worth writing about. Yesterday, when the tester told me how something should be done, I thought of another incident that happened at a previous company.</p><p>There are two forms of URL input parameters: one is <code>.com/?a=1&amp;b=2</code>, and the other is <code>.com/:a/:b</code>. In that project, it was entirely the second form, i.e., route-form parameters.</p><p>The second form was sometimes particularly long, like <code>.com/:a/:b/:c/:d/:e</code>. Parameters were often query conditions, and if a parameter in the middle wasn’t needed as a condition, i.e., no need to pass the parameter, this route-form parameter couldn’t skip a segment. They used a bizarre workaround: <code>all</code>. Use <code>all</code> to replace the unneeded parameter, <code>.com/:a/:b/all/:d/:e</code>. The program’s judgment was also quite ridiculous.</p><p>REST interfaces are a kind of web service, but if you lack basic web development knowledge, it’s easy to make shortcomings.</p><p>At that time, I suspected the technical level of the person who developed that project, my nominal team leader. Well, maybe it was an unpleasant memory.</p><p>To explain, I don’t just have opinions about others for no reason. At that company, there was a performance system where each quarter you had to write a performance plan about what you would do. Generally, the team leader set a big goal, and the team members divided it and completed various tasks. Because I doubted his ability, I feared he would set low goals, limiting my potential, so I tested him. Having opinions about others doesn’t benefit me; I was just afraid I’d be in a position where I couldn’t perform well.</p><p>I didn’t intend to resign, so I was trying hard to improve my environment and situation to get a situation I could adapt to. I remember when colleagues resigned, I joked that the happiest time in work might be when you submit your resignation and receive an offer. A colleague said the happiest time was when the year-end bonus was given… also a joke. They then said if it wasn’t desperate, no one would want to resign.</p><p>I knew parameter form issues were minor, but I insisted the interface design should use parameter form instead of route form. Parameter form is better, so why not use it? Explain your reason; besides “previous people wrote it this way,” do you have any technical considerations? Can you overwhelm me technically, showing your skills in detail?</p><p>My basic view was he lacked web development experience and didn’t know about parameter forms. I analyzed two possibilities: either he had skills but didn’t say, or he lacked skills. So I created a topic from a small issue, giving him a chance to speak, and later expressed my doubts about his abilities to the leader strongly. I thought if he had skills, he should show them.</p><p>Sigh, what followed were some closure steps.</p><h3 id="Empathy"><a href="#Empathy" class="headerlink" title="Empathy"></a>Empathy</h3><p>I also thought, if I were him, what would I do?</p><p>If a junior treated me that way, could I handle it better?</p><p>If someone questioned my technical skills or focused on my mistakes, what would I do?</p><p>I knew I seemed to disrupt a harmonious peace.</p><h3 id="And-Then"><a href="#And-Then" class="headerlink" title="And Then"></a>And Then</h3><p>Now, I have no interest in arguing over such small issues. What’s right or wrong, who cares?</p><p>But past experiences seem necessary. If I hadn’t been serious in the past, I might still be curious: what would happen if I insisted on my views or argued over right and wrong?</p><p>Because of past experiences, I know the results.</p><p>The results aren’t great, and a bit boring.</p><p>I don’t like or expect that.</p><p>No more for now.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;It’s almost 1 AM and I can’t sleep, so I’ll write a little. Today during the day (yesterday), the tester reminded me that REST API input</summary>
        
      
    
    
    
    
    <category term="Work" scheme="https://en.smallyu.net/tags/Work/"/>
    
  </entry>
  
  <entry>
    <title>Is GitBook Good to Use?</title>
    <link href="https://en.smallyu.net/2021/11/21/Is%20GitBook%20Good%20to%20Use_/"/>
    <id>https://en.smallyu.net/2021/11/21/Is%20GitBook%20Good%20to%20Use_/</id>
    <published>2021-11-21T06:21:20.000Z</published>
    <updated>2025-08-06T10:38:27.715Z</updated>
    
    <content type="html"><![CDATA[<p>On October 15, I wrote the following:</p><blockquote><p>Using Cloudflare’s DNS, I changed the subdomain <code>gub</code> from a CNAME pointing to GitBook to point to GitHub. Over 72 hours have passed, and with DNS proxy enabled, it still redirects to GitBook. It appears to be a 302 forward.</p><p>It’s not a caching issue. I’ve opened dev mode and purged everything multiple times. I suspect Cloudflare’s proxy service for forward records updates very slowly or has a bug. The elapsed time has definitely exceeded the TTL.</p></blockquote><p>A month later, the issue was inadvertently resolved. I’d like to elaborate on the problem I encountered.</p><h3 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h3><p>This involves two concepts: DNS (Domain Name System) and CDN (Content Delivery Network). If you’re not familiar with web services, you might want to understand their connection and differences first.</p><h3 id="The-Problem"><a href="#The-Problem" class="headerlink" title="The Problem"></a>The Problem</h3><p>Initially, I planned to write an open-source book and chose GitBook as the platform. GitBook is well-known, and the open-source rendering tool GitbookIO&#x2F;gitbook makes it the best choice for open-source books. After a brief trial, I didn’t notice any issues with the platform. I created a Workspace, then a new repository on GitHub, linked it to GitBook, and everything went smoothly. I tested GitBook and GitHub’s auto-sync capability, and while there could be minor conflicts, they were easy to resolve.</p><p>I bound a custom domain to GitBook. The domain <code>smallyu.net</code> is hosted on Cloudflare, and the subdomain <code>gub.smallyu.net</code> has its DNS records set on Cloudflare. It’s well-known that Cloudflare offers free CDN services, which can be enabled by toggling the orange button in DNS records:</p><p><img src="/1.png" alt="CDN Toggle"></p><p>The toggle was on when pointing to GitBook. A few days later, GitBook underwent a major upgrade, completely changing the writing interface. A day or two after the upgrade, I wanted to update some pages but found the new GitBook workflow counterintuitive and buggy. Each modification was like a Git Pull Request, and clicking the edit button each time created a new PR entry. With multiple PR records, the page state became uncontrollable, with no option to delete PRs, which was frustrating. Additionally, refreshing the edit page multiple times due to slow internet speed resulted in several PR entries, making it hard to identify recent changes. I even complained:</p><blockquote><p>The online editing on GitBook is too difficult to use. You can’t delete commits, create new documents, and the cursor jumps around… How are they being responsible to users?</p></blockquote><p>I decided to abandon GitBook and switched to docsify, deploying the pages on GitHub Pages, and changing the <code>sub.smallyu.net</code> domain to point to GitHub. After updating the DNS records, the change didn’t take effect (Cloudflare’s CDN Proxy was on). Visiting <a href="https://gub.smallyu.net/">https://gub.smallyu.net</a> still redirected to the old GitBook page.</p><p>I initially suspected a DNS TTL issue because in Proxied mode, the TTL value is set to Auto. Given Cloudflare’s numerous CDN nodes and my domain’s low traffic, DNS record updates might be slow. After waiting three long days, the issue persisted, with the domain still redirecting to the old page.</p><p><code>dig</code> results showed:</p><pre><code>gub.smallyu.net.300INA104.21.81.212gub.smallyu.net.300INA172.67.146.253</code></pre><p>No CNAME records were found. This indicated Cloudflare’s CDN IP. The domain resolved to the CDN, but the CDN didn’t return the expected new content.</p><p>Interestingly, disabling the CDN Proxy resolved the issue, with the domain correctly resolving to GitHub’s A and CNAME records, showing the new page.</p><p>What was the problem? Cloudflare’s CDN hadn’t refreshed the content.</p><p>Cloudflare offers Caching configurations and Purge capabilities:</p><p><img src="/2.png" alt="Caching Configuration"></p><p>Despite multiple “Purge Everything” attempts, the CDN content didn’t refresh. Developer mode was also ineffective:</p><p><img src="/3.png" alt="Developer Mode"></p><p>Even setting custom page rules to bypass caching was futile:</p><p><img src="/4.png" alt="Page Rules"></p><p>I even deleted the original Workspace and deactivated the account on GitBook to no avail.</p><p>Ultimately, as long as Proxy was off, domain resolution worked. I thought it might be a CDN bug or GitBook using a 302 forward that the CDN couldn’t refresh correctly.</p><h3 id="The-Cause"><a href="#The-Cause" class="headerlink" title="The Cause"></a>The Cause</h3><p>Recently, while visiting <a href="https://gub.smallyu.net/">https://gub.smallyu.net</a>, the page lagged, reminding me it wasn’t using CDN. Googling the issue led me to useful information. Previously, searches only yielded cache update tips; this time, I found different insights.</p><p>Cloudflare has partners with control over Cloudflare DNS. When the domain was pointed to GitBook, the CDN’s DNS fell under GitBook’s control, overriding Cloudflare settings.</p><p>Relevant links:</p><ul><li><a href="https://community.cloudflare.com/t/dns-subdomain-no-longer-works-nor-redirects-to-anything/240984/7">DNS subdomain no longer works nor redirects to anything</a></li><li><a href="https://community.cloudflare.com/t/subdomain-cname-does-not-update/280696/2">Subdomain CNAME does not update</a></li></ul><p>I emailed GitBook Support:</p><p><img src="/11.png" alt="Email to GitBook Support"></p><p>Surprisingly, GitBook Support resolved the issue within a day:</p><p><img src="/12.png" alt="GitBook Support Response"></p><p>Tests confirmed everything was normal, validating the cause.</p><h3 id="Lesson"><a href="#Lesson" class="headerlink" title="Lesson"></a>Lesson</h3><p>Who would have thought that a widely used service like Cloudflare would delegate domain resolution control on CDN to partners?</p><p>Who would have thought GitBook’s product wouldn’t delete domain records even after the user deleted the Workspace and deactivated the account?</p><p>The lesson here is to shift from a user mindset to a developer mindset. Influenced by the concepts of “official” and “authoritative,” we often doubt our methods and errors first when using platforms, rarely questioning the platform itself. Even if it’s clearly a platform issue, we don’t prioritize contacting platform support. This point can be expanded into many topics for future discussion.</p><h3 id="Tools"><a href="#Tools" class="headerlink" title="Tools"></a>Tools</h3><p>I now use the Rust team’s <code>mdbook</code>. GitBook feels outdated and not well-maintained. docsify, though suitable for project documentation, lacks the stylistic focus on text and inter-page links like a book. While mdbook’s style isn’t trendy, it’s functional, fast, and practical.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;On October 15, I wrote the following:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Using Cloudflare’s DNS, I changed the subdomain &lt;code&gt;gub&lt;/code&gt; from a CNAME</summary>
        
      
    
    
    
    
    <category term="Tools" scheme="https://en.smallyu.net/tags/Tools/"/>
    
  </entry>
  
  <entry>
    <title>A Person I Don&#39;t Quite Like</title>
    <link href="https://en.smallyu.net/2021/11/12/A%20Person%20I%20Don&#39;t%20Quite%20Like/"/>
    <id>https://en.smallyu.net/2021/11/12/A%20Person%20I%20Don&#39;t%20Quite%20Like/</id>
    <published>2021-11-11T16:11:46.000Z</published>
    <updated>2025-08-06T10:38:27.632Z</updated>
    
    <content type="html"><![CDATA[<p>Actually, I don’t know that person very well, only have a few impressions.</p><p>When I was an intern, it coincided with policy suppression and company layoffs. Half of the interns in the same batch were let go, including a colleague from another team in my department. It should be the department leader at that time who handed over my resume to another department, and I was transferred to the blockchain department later.</p><p>The first person I met in the new department was that person, who was also the leader. From the conversation, it seemed that he had seen the blog address I left on my resume. After that, all my work was assigned by the team leader, starting with web development and later on to other tasks.</p><p>Shortly after I graduated and became a full-time employee, that leader left the company to become a partner at a startup that is currently working on an open-source consortium blockchain. Because of this, I don’t have much confidence in the technology of that open-source consortium blockchain. At first, I even felt I could see a bit of my previous company’s blockchain product in their project. Maybe all consortium blockchains are like that.</p><p>At his farewell ceremony, I remember him saying some things I didn’t like.</p><p><strong>“Some people leave right on time after work, not working overtime. How can they improve themselves?”</strong></p><p>It seemed he also said that although he left early, he continued working at home. It’s been too long, I can’t remember the exact words, but that was the gist. Of course, he wasn’t saying it to me directly but to everyone, not targeting anyone specifically.</p><p>Although I was still young at the time and could handle working overtime, I completely disagreed with that kind of jerk logic. Later, the company required 996 work hours for a while. I could manage to be the earliest to arrive and the last to leave, just short of sleeping at the company. Besides, I was quite serious at work, mainly doing simple web development, my old profession. And how do you know you’re the only one doing useful things after work hours?</p><p><strong>“If my startup fails, I hope you all can leave a position for me.”</strong></p><p>I couldn’t understand this statement. If you’ve already left, why still think about a way back? Unfortunately, “everyone” fell faster than his startup career, perhaps because he left.</p><p><strong>“None of you are capable!”</strong></p><p>At a dinner, someone said, “If you start a business, take us with you?” And then he said this. Finally, he spoke his mind when leaving, haha.</p><p>There’s nothing much after that. In short, I felt I saw the classic image of a greasy uncle. I remember I started feeling dizzy after two glasses of baijiu.</p><p>The next time we met was at a department team-building event, and he was invited too. He was quite familiar with the department leader. Another department leader also joined the team-building.</p><p>During the meal, the other department leader mentioned a cliché question, and no one really responded. Then the topic shifted to whether there were any women in his startup, and if so, could he introduce some to us.</p><p><strong>“There are women. (pauses) Female PhDs!”</strong></p><p>This kind of statement almost completely contradicts my values. The implication was, PhDs, huh! And what about you?</p><p>On an anonymous community, you can find comments about their company saying it has the corrupt culture of a state-owned enterprise combined with the excellent tradition of overtime and on-call duties of an internet company.</p><p>Once, during a major product release live broadcast, they were chatting and laughing, the atmosphere was lax, and both the attire and environment were very low-end.</p><p>In the same year he left to start his own business, their company began working on their current project, maybe a few months later. Anyway, not much time has passed since then, and they don’t have many people, but they release versions quite frequently. I saw him post on his moments saying they aim to build the best blockchain platform in China.</p><p>Looking at their presentations in other live meetings, the most striking thing is a slide listing a bunch of guiding and member units.</p><p>Occasionally, headhunters contact me, saying that the company is recruiting.</p><p>For these special reasons, I might never go or be able to go to that kind of high-end company with female PhDs.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Actually, I don’t know that person very well, only have a few impressions.&lt;/p&gt;
&lt;p&gt;When I was an intern, it coincided with policy</summary>
        
      
    
    
    
    
    <category term="Opinion" scheme="https://en.smallyu.net/tags/Opinion/"/>
    
  </entry>
  
  <entry>
    <title>A Method for Blockchain Node Storage Expansion</title>
    <link href="https://en.smallyu.net/2021/11/10/A%20Method%20for%20Blockchain%20Node%20Storage%20Expansion/"/>
    <id>https://en.smallyu.net/2021/11/10/A%20Method%20for%20Blockchain%20Node%20Storage%20Expansion/</id>
    <published>2021-11-10T14:25:28.000Z</published>
    <updated>2025-08-06T10:38:27.628Z</updated>
    
    <content type="html"><![CDATA[<p>Blockchain is inherently a system that supports horizontal scaling, with exceptional node expansion capabilities.</p><img src="1.png" style="width:50%"><p>However, vertical scaling of blockchain remains a frequently discussed topic. A single node’s hard drive capacity is always limited. If a node holds all the data, the performance requirements for a single machine are quite high; if a node does not have complete data, it cannot be considered one of the P2P network nodes.</p><p>The most straightforward solution is to use a distributed database. Since the database itself supports scaling, the storage module of the blockchain node also supports scaling (assuming there is no conflict between the blockchain and the database in principle).</p><p>Here, we describe a simple conceptual implementation idea.</p><p>Vertical scaling of nodes aims to use multiple nodes working together to replace the position of an original node, with the entire cluster providing the same input and output as a single node.</p><img src="2.png" style="width:80%"><p>Nodes can completely distribute block data across different sub-nodes, such as by using the classic database partitioning idea, modulo operation on block numbers, or random distribution.</p><img src="3.png" style="width:50%"><p>Nodes can be divided into index nodes and storage nodes. Index nodes only record the relationship between block numbers and sub-nodes, with the sub-node cluster acting as the storage module of the index node. The index node is also responsible for sending and receiving blocks and other operations. Apart from the reduced access speed due to network latency, there seem to be no major issues.</p><p>Is it necessary to have more than one type of node? Is there a way to achieve all functions with just one set of source code, one binary program, and one type of node? Of course, this does not mean simply packaging three types of nodes together. Due to the different functional focuses and especially the different “identities” of nodes, nodes might have to be differentiated. Should a single node providing capabilities to the outside and a cluster of nodes providing capabilities to the outside have the same status within the cluster?</p><p>After dispersing block data, “world state” data can be entirely stored on the index nodes.</p><img src="4.png" style="width:50%"><p>If state data also needs to be scaled, the index nodes can similarly retain only index data and distribute the state data across storage nodes.</p><img src="5.png" style="width:50%"><p>Such a solution may be overly simplistic, but what if it works effectively?</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Blockchain is inherently a system that supports horizontal scaling, with exceptional node expansion capabilities.&lt;/p&gt;
&lt;img src=&quot;1.png&quot;</summary>
        
      
    
    
    
    
    <category term="Blockchain" scheme="https://en.smallyu.net/tags/Blockchain/"/>
    
  </entry>
  
  <entry>
    <title>A Consensus Mechanism Based on &quot;Egocentrism&quot;</title>
    <link href="https://en.smallyu.net/2021/10/29/A%20Consensus%20Mechanism%20Based%20on%20%22Egocentrism%22/"/>
    <id>https://en.smallyu.net/2021/10/29/A%20Consensus%20Mechanism%20Based%20on%20%22Egocentrism%22/</id>
    <published>2021-10-29T14:28:52.000Z</published>
    <updated>2025-08-06T10:38:27.589Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h3><p>The meaning of “egocentrism” is that for each person, the size of the world depends on how much of the world they can reach. The world is vast and unrelated to me; the world is small and all related to me. The people one knows, the things one understands, and the information one receives are all limited, destined or not. You cannot know everyone in the world or understand everything in the world. So what if you are knowledgeable and experienced?</p><p>In blockchain, the consensus mechanism is a key means to ensure data consistency and also brings the most core decentralized feature to the blockchain. Consensus mechanisms are strongly consistent or achieve majority consistency with certain fault tolerance. Is it possible to have a consensus mechanism that does not prioritize data consistency?</p><p>The world is inherently complex. Attempting to synchronize all nodes to just one data state is counterintuitive. Moreover, whether it’s large-scale unauthorized consensus or small-scale identity-based consensus, the method to achieve data consistency is “multi-point to single-point,” meaning only one node processes data at a time. Other nodes either accept the data that meets the conditions after consensus or vote on whether to agree to the data operation before confirmation. In any case, a “hero” node must do something at the critical moment of data change.</p><p>Some heroes are powerful, acting first and reporting later. After changing the data, they inform you, “I changed the data.” Initially, you are dissatisfied, but you find that the hero indeed solved problems you couldn’t, and you recognize the hero’s actions.</p><p>Other heroes are elected by the public and act cautiously, asking each person, “Do you agree to change this data?” If most agree, the hero acts.</p><p>Of course, everyone has an equal chance to be a hero. Some are naturally powerful; others are clever. Opportunities are always there. If you can’t solve the problem, who can you blame? Everyone can be elected. If no one chooses you, who can you blame?</p><p>So, why can’t we be our own heroes? Why should we submit to others’ halos? Everyone is their own hero, in their world, in a world limited by personal contact range. A consensus mechanism where the node’s boundary is limited by the network scale it touches.</p><h3 id="Network-Overview"><a href="#Network-Overview" class="headerlink" title="Network Overview"></a>Network Overview</h3><p>In an unstructured peer-to-peer network, routing tables are an essential component. The size of the network a node can access depends on how many “contacts” are stored in the routing table. Consensus on data processing is based on the nodes in the routing table. If the routing table has 10 nodes, strive for consensus with these 10 nodes; if it has 10,000 nodes, strive for consensus with 10,000 nodes. No need for a distributed routing table; an ordinary array will do. In this case, the network nodes look like this:</p><img src="21.png" width="40%"><p>Centered on the current node, the number of connected nodes can be many or few, some far and some near. In the issue of route discovery, nodes also need seed addresses. For example, when a node starts, it first resolves the seed address record:</p><pre><code>lookup(&quot;seek.domain&quot;)     -&gt; 127.0.0.1    -&gt; 127.0.0.2</code></pre><p>Then sequentially requests the resolved node addresses to obtain the contents of their routing tables and adds them to its own. This is the usual approach, but it can lead to the node instantly acquiring the entire network’s routing information. This isn’t bad, just feels a bit fast. Meeting a person takes time, talking to people takes time, and you can’t talk to three people simultaneously. Even if you get many contacts, you can’t “multithread” and contact everyone. Our information processing “bandwidth” is limited, and so is the node’s. We can even slightly restrict the speed of network discovery, such as serially processing the action of adding records to the routing table: establish a connection with the node before adding information.</p><p>Slowing down route discovery may sound abnormal. Is it intended to keep the network out of sync? Many consensus bottlenecks are due to network bandwidth and protocol interaction complexity. Lowering the communication cost between nodes will also reduce the consensus’s fault tolerance. The network may be divided into different regions, forming various circles.</p><img src="22.png" width="50%"><p>For consensus algorithms, partitioning is a problem to avoid, but network segmentation is natural and normal. Human thoughts are divided and possibly opposed, but they may agree after some events. Thus, network segmentation is entirely permissible, forming small interconnected or isolated networks. The key is having a mechanism to “correct” such splits, allowing segmented networks to merge under certain conditions.</p><h3 id="Synchronizing-Data"><a href="#Synchronizing-Data" class="headerlink" title="Synchronizing Data"></a>Synchronizing Data</h3><h4 id="Active"><a href="#Active" class="headerlink" title="Active"></a>Active</h4><p>The concept of the blockchain genesis block is retained here, with all nodes having the same first block. A newly joined node starts from the genesis block, while other nodes have higher block heights. For example, the current node’s block height is 2, and it wants to synchronize block height 3 from the network. The node’s routing table has addresses of other nodes, all with block height 3. The current node requests block height 3 sequentially from other nodes.</p><img src="1.png" width="50%"><p>After the request, it finds that 2 nodes have identical blocks for height 3, with the same block content, hash, and previous block hash. The current node adopts this block as its 3rd block.</p><img src="2.png" width="50%"><p>If some nodes have block heights greater than 3, should the highest block height be prioritized? Considering the time dimension, things should follow an order. You can’t skip 3 years and live as a 4-year-old. Blockchain data should also follow a sequence. The current node needs block height 3 and requests block height 3, regardless of other heights. Higher block heights don’t matter if you need height 3.</p><p>If each node’s block differs after all requests, whom should you trust?</p><img src="3.png" width="50%"><p>You have to choose one. If you can’t determine which node or content is trustworthy, choose randomly. Preferably the last requested node, as missed nodes are already missed. The last node is the closest, and you can’t judge if other nodes have identical content until then. After discarding previous nodes, the last node is the choice you can’t let go of.</p><p>For actively requesting block data, the key point is requests must be sequential based on the routing table. Before getting a response from the first node, no request is made to the second. You shouldn’t be too capricious. If a node deliberately speeds up and requests multiple sets of data simultaneously, it doesn’t matter. After all, it’s just synchronizing data. Some like it fast, some slow, some enjoy fast living, and some slow living.</p><h4 id="Passive"><a href="#Passive" class="headerlink" title="Passive"></a>Passive</h4><p>Besides actively requesting block data, nodes also receive broadcast messages from other nodes. For example, the current node’s block height is 2, and it receives blocks 3, 4, and 4 from other nodes.</p><img src="4.png" width="50%"><p>According to the majority principle, should it choose the content of block 4 as its 3rd block? But this has a problem: you can’t predict how many blocks you’ll receive, and you can’t calculate the total amount and proportion of block content. For passively received blocks, take the content of the first received block as the standard.</p><p>The order of arrival in life is important. If the required block height is 3 and the received broadcast block height is also 3, then take it. If not, replace it with a more suitable one later. If a node aggressively broadcasts the same block marked from 1 to high heights, hoping a node needing the block will receive it, let it be. Nodes actively synchronizing blocks request content by height, so this aggressive approach doesn’t yield much benefit.</p><h3 id="Adding-Data"><a href="#Adding-Data" class="headerlink" title="Adding Data"></a>Adding Data</h3><p>Who generates data in the network? To solve this, we can define that every node can generate data. An extreme case is where everyone trusts only their data, playing solo, making the network a single-player version. So nodes need to spread their generated data, sending it to other nodes. For other nodes, it’s “passive data synchronization.”</p><h4 id="A-Node-Needs-It"><a href="#A-Node-Needs-It" class="headerlink" title="A Node Needs It"></a>A Node Needs It</h4><p>Active block data broadcasting has two cases: a node needs the block, and you happen to send it.</p><img src="5.png" width="50%"><p>The current node receives a content request, adds block height 4, and directly persists the block to the main chain. It then starts broadcasting block height 4, sequentially through the routing table. The current node won’t pack the next block until the broadcast ends. If a node’s block height is 3, you are the first to send it block height 4, and it will accept your block and respond. After receiving the response, you know at least one node accepted your block, and you can continue with the next block. Of course, the node won’t stop broadcasting this round even if it gets a response. This is logical, hoping more nodes accept the block content.</p><p>If the receiving node finds the block content is 5 and the previous block hash is 3, not matching its previous block hash 4, it still accepts the block, replacing its blocks until the hash matches.</p><img src="51.png" width="50%"><img src="52.png" width="50%"><p>This mechanism risks replacing the entire chain upon receiving a block, a serious unacceptable cost. But such risk exists. You met a bad person who undermined your values, leading you astray. Reflect on why your routing table has such</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h3 id=&quot;Introduction&quot;&gt;&lt;a href=&quot;#Introduction&quot; class=&quot;headerlink&quot; title=&quot;Introduction&quot;&gt;&lt;/a&gt;Introduction&lt;/h3&gt;&lt;p&gt;The meaning of “egocentrism”</summary>
        
      
    
    
    
    
    <category term="Blockchain" scheme="https://en.smallyu.net/tags/Blockchain/"/>
    
    <category term="Consensus Mechanism" scheme="https://en.smallyu.net/tags/Consensus-Mechanism/"/>
    
  </entry>
  
  <entry>
    <title>You are...</title>
    <link href="https://en.smallyu.net/2021/10/02/You%20are.../"/>
    <id>https://en.smallyu.net/2021/10/02/You%20are.../</id>
    <published>2021-10-02T09:03:56.000Z</published>
    <updated>2025-08-06T10:38:28.726Z</updated>
    
    <content type="html"><![CDATA[<p>You are a warlord during the civil war, disguised as a bandit who slaughtered an entire village and kidnapped the princess. You escort the princess to a tavern to exchange information, seeking the help of Morse, a master of espionage, to find a hidden map of arms. You encounter a reporter who saved your life as a child and an agent who has pursued the princess. They smile with hidden knives, intending to steal your status and friends. Ultimately, you lose and die in a pool of blood, but find solace in her happiness.</p><p>You are a young, wealthy playboy. Your girlfriend betrays you by dating your brother, and you betray her by dating a classmate. Both the classmate and the girlfriend like your money. In the end, you have to choose between a new love and an old flame. Regardless of your choice, the outcome is tragic.</p><p>You are a wealthy businessman from the United States, invited to a mysterious banquet. The host committed a murder over a decade ago and is brutally murdered in a locked room during the banquet. As a police officer investigating the case, you discover the murderer is a master of disguise and that the American businessman is not who he claims to be. You uncover the seemingly pure female anchor’s hidden murderous intent, who collaborated with the killer for revenge.</p><p>You are Fusu, a prince of the Qin State. Jing Ke comes bearing a map, and Hu Hai, controlled by villains, seeks to usurp the throne. You aim to protect the Qin dynasty’s legacy. Your allies are oblivious to Hu Hai’s disguise, leading to an inevitable defeat.</p><p>You are a Japanese police officer with a deep-seated vendetta. During the digitization of the police office system, many criminals faked their deaths through connections. No one knows of their existence because they have no “identity.” You secretly investigate and kill these “clean” individuals, who are the true criminals. The flawed judicial system and incompetent police always remain indifferent. Your pregnant wife was killed by a juvenile criminal, and you watched as the criminal was released. The dirty judicial system, the incompetent investigative system. You personally punish those who should no longer exist in the world.</p><p>You are a dragon prince. Your grandfather, the chief of the gods, was killed due to rebellion from other tribes. Was it really a rebellion? No! You remember your previous life when your grandfather adopted you and protected you from military pursuits by misleading the troops. As a powerful leader, you learn that your grandfather sacrificed his life for your chance. You recall your childhood sweetheart from a previous life, whose union with you led to divine punishment. On your wedding day, half the tribe was sacrificed for your wedding. In this life, you learn the chief lost his mind to prevent the tragedy and protect the children of all tribes. The Three Lives Stone, the Three Lives Path.</p><p>You are a boy chasing your college love, who disappeared under your parents’ intervention, leaving you longing.</p><p>You are a monster, seeking your story within the tales.</p><p>You are the leader of the rebellion. Robots occupy the planet, and you lead a powerful force to resist. Later, you discover you are not truly yourself but a clone with a covered consciousness. In your dreams, you see strange images of snowy mountains, grasslands, wind, and scattered red eyes. Your only relative is a sister who is desperately searching for you.</p><p>You are a member of a phone scam gang, selecting appropriate voice styles to target different victims. You are a victim of a bus accident, teaming up with other victims to punish the culprits of the accident through scams.</p><p>You are a demon hunter in a small town, working with the town’s only police officer to deal with the suddenly insane residents. It turns out you all live in a computer world, and the main server has shut down. You are the only remaining complete models, and the virus will soon invade. Your good friend, the police officer, bravely sacrifices himself in the fight against the virus. You face a choice: destroy everything to end it instantly, or fight alongside your companions with a slim hope against the machines.</p><p>You are the ruler of a dynasty. The princess of the bird deity tribe abandoned you. After years of war, you meet a girl who resembles the princess, and you vaguely see her as your dream lover. Years later, you discover the princess’s consciousness remains in your wound; she never forgot you and always cared for you, but she could not betray her race. On one hand, there is the principled princess you deeply miss; on the other, the lovely girl who has accompanied you for years. In the past, time moved slowly, and one could only love one person in a lifetime.</p><p>You are the boss of the class. A sudden disaster traps you under the ruins of a collapsed building. Ancient trees whisper, giving you a chance to be reborn in another world. In the new world, the campus is black, the playground’s old lady is pale with intestines spilling out, the classroom is filled with masked red-headed dolls staring at you, and a woman in white roams the woods with sinister long nails. You unite to defeat the terrifying ghosts, restoring peace. On the school’s anniversary, life seems back on track, but you commit suicide on stage. During the earthquake, only you remained conscious, and you wished for the ancient tree to bring you to a more terrifying life to toughen your siblings, making them face a harsh world repeatedly.</p><p>You are the child of a mountain god. That year, mountain ghosts wreaked havoc, and your father disappeared fighting them. As you grew, each child became busy, and no one cared about the annual death anniversary. This year, he bought a delayed-action camera to include himself in the photo. But where is everyone? No one returned? That year, a forest fire took your firefighter father’s life as he raised you seven kids alone. The ghost you saw at night was him, with bandages hiding his disfigured face to avoid scaring you. He always watched over and protected you.</p><p>You are a regular visitor to the brothel. You and the top courtesan were childhood sweethearts, promising to be together but ended in nothing.</p><p>You are a wealthy college student. Someone approached you for money, pretending to be a good friend. He personally killed the girl you liked, sacrificing her to the Moon Worship Cult. The underground organization mixed with illegal transactions, and she couldn’t escape.</p><p>You are Monday. From Monday to Sunday, one person per day. You are one person, yet not one person, with different personalities. You are trapped in a basement by bad people, and a good friend rescues you. From that day, you sense something wrong. Are you really you? You wish for the seven of you to always be together, but others gradually make new friends, leaving you alone. Your birthday wishes are strangely granted by a mysterious person hiding in the dark. Someone wishes for their mother’s embrace, and the mysterious person hides the mother’s corpse in the sofa, making them feel the warmth when lying down. Someone wishes to see a childhood friend, and the mysterious person kills a child of similar build, pasting the photo on the corpse’s face. The mysterious person, whose parents argued and father committed suicide in childhood, cut open his father’s belly and crawled inside out of fear of abandonment. This mysterious person is the good friend who rescued you from the basement.</p><p>You are a Taiwanese aborigine. Dutch troops occupy Taiwan, aiming to conquer mainland China. You, as a Ming dynasty undercover, are highly regarded among Dutch officers while seeking to unite the aborigines to form a military regime. She is the only person you miss, with whom you lived on a deserted island for twelve years, starting from scratch. He is now a senior officer in the Dutch army. You can’t bear to fight him but must expel the Dutch from this land. On the decisive day, Qing troops, Spanish troops, and the Flying Dutchman all arrive.</p><p>You are a student with outstanding grades due to cheating, a successful yet depressed businessman, a clown working in a circus, and a failed truck driver. Your father may not understand you. On the day of the college entrance exam, you run away from home, escaping the familiar city. The next day, your father, tired and worn, knocks on your door. “Let’s go! Depression is also an illness; we’ll treat it slowly!” You expect a beating but receive a hug full of guilt.</p><p>You are a product of Odin’s curse. Your ancestor once injured Odin’s eye. To others, you are a white crow; to the heartless, you appear as a normal boy. When a white crow hatches, an extra thirteenth hour appears where everything stops. Monsters from hell appear, killing humans within a kilometer radius, taking their hearts and eyes representing the past and future. Those killed enter the eye world, waiting for the next thirteenth hour to return to the human world, possessing the bodies of the living. Your sister, the only person you care about, is mistaken for a maid by a monster and killed. You, an evil product, bring disaster. Who will be the next cursed child?</p><p>You are a candidate for a crime performer. You were once the best detective in the country, with your most admired subordinate. The emergence of the Detective Instrument makes detectives redundant, leading to a surge in crime performers who collaborate with the instrument to identify the true culprit. The top crime performer team, the Hexagon, all died, and the elusive escape artist remains at large.</p><p>You are a top university graduate, attending your cousin’s parent-teacher conference. Your parents favor boys over girls and neglect your cousin, who faced childhood trauma. Your girlfriend gave her a pair of shoes, making her very happy. But one day, you find her losing the</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;You are a warlord during the civil war, disguised as a bandit who slaughtered an entire village and kidnapped the princess. You escort</summary>
        
      
    
    
    
    
    <category term="Script Murder" scheme="https://en.smallyu.net/tags/Script-Murder/"/>
    
  </entry>
  
  <entry>
    <title>『Ground-Up Blockchain』Preface</title>
    <link href="https://en.smallyu.net/2021/10/02/%E3%80%8EGround-Up%20Blockchain%E3%80%8FPreface/"/>
    <id>https://en.smallyu.net/2021/10/02/%E3%80%8EGround-Up%20Blockchain%E3%80%8FPreface/</id>
    <published>2021-10-02T06:03:03.000Z</published>
    <updated>2025-08-06T10:38:28.726Z</updated>
    
    <content type="html"><![CDATA[<p>I once had a thought: if an ordinary programmer were willing to spend five years focused on studying and researching a particular technology framework, like <a href="https://spring.io/projects/spring-boot">Spring Boot</a>, five years would be enough time to understand most of the details of this framework. After five years, with a deep enough understanding of Spring Boot, writing a book like “Spring Boot from Beginner to Expert” wouldn’t be a problem. What does writing a book bring? At the very least, it can increase some credibility. Is writing a book difficult? Look at the current Chinese technical books; aren’t they all just electronic waste? However, in reality, most programmers with more than five years of experience still can’t manage to “write a book.” Even if the book is poorly written, it’s better than nothing! So why does no one write?</p><p>How many books turn into technical manuals midway through? They become broad and unfocused, with both useful and useless information crammed in. Perhaps out of a sense of responsibility to the audience, the logic is: “The content I write may not be insightful, but at least it’s comprehensive!” This is similar to consumers thinking, “I may not use this feature, but it has to be there!”</p><p>I also want to create some electronic waste, like a collection of various boring technical blog posts. Now it’s the National Day holiday in 2021, and I have time to think about this.</p><p>Will the content of the book conflict with the Blog? If there’s something interesting and worth writing about, it should be prioritized on the Blog. This makes sense, but the Blog content is more about describing personal experiences, expressing attitudes and opinions, and often can’t focus, especially on low-quality technical content. Blog content often needs to be carefully worded; you might see only 100 words, but actually, 1000 words were thought out, considered for several days, then refined to remove inappropriate wording, clarify viewpoints, and leave concise but useful content.</p><p>The content of the book will be more casual, to save time and avoid repeated revisions. There needs to be a starting point for new things; you can’t wait until all materials are ready before beginning. If someday I have the ability to write a valuable book, I might not want to write it anymore.</p><p>The book title is borrowed from <em>Ground-up Computer Science</em>. I don’t have a better idea for now. The content will focus on Blockchain, which should be fine; this field is deep enough with plenty of content to write about. There’s no need to worry too much about opportunity costs since other fields don’t offer better choices.</p><p>In terms of language, I might use simple words directly. Often, when reading other materials, I come across a word that leaves an impression, so I use it directly without deliberately translating it in my mind. For example, the content of this book doesn’t have any magic, just a mix of ordinary technical stuff.</p><p>This project might take a while, around 1 to 2 years. I hope that by the end of 2023, I can be somewhat satisfied with the content of this book, archiving version 0.9. The missing 0.1 will be for corrections.</p><p>The content of the book will mainly focus on ideas. We’ve all heard the story “drawing a line for $10,000” – drawing the line is worth $1, knowing where to draw it is worth $9,999. The story may not be true, but its wide circulation suggests the logic makes sense. Writing the code is much less important than knowing why to write it, what problem it solves, and if there’s a better solution.</p><p>The table of contents may be chaotic, as I don’t intend to organize the content in a structured way. It’s difficult to categorize some things, and structured organization doesn’t necessarily yield good results. It may overlook ideas and details in the pursuit of comprehensiveness. There is no “most comprehensive” state in the world. The content can be thematic, chronological, or completely random.</p><p>By the same logic, it’s easy to imagine <em>Ground-Up Golang</em>, <em>Ground-Up Programming</em>, and the like. Talk is cheap; just do it first.</p><p>Preview: <a href="https://gub.smallyu.net/">https://gub.smallyu.net</a></p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;I once had a thought: if an ordinary programmer were willing to spend five years focused on studying and researching a particular</summary>
        
      
    
    
    
    
    <category term="Blockchain" scheme="https://en.smallyu.net/tags/Blockchain/"/>
    
  </entry>
  
  <entry>
    <title>Where Consortium Chains Fall Short Compared to Public Chains</title>
    <link href="https://en.smallyu.net/2021/09/29/Where%20Consortium%20Chains%20Fall%20Short%20Compared%20to%20Public%20Chains/"/>
    <id>https://en.smallyu.net/2021/09/29/Where%20Consortium%20Chains%20Fall%20Short%20Compared%20to%20Public%20Chains/</id>
    <published>2021-09-29T06:27:43.000Z</published>
    <updated>2025-08-06T10:38:28.722Z</updated>
    
    <content type="html"><![CDATA[<p>In the Chinese context, there is no clear standard definition for “public chain” and “consortium chain.” In 2018, the National Institute of Standards and Technology (NIST) in the United States classified blockchains into Permissionless blockchain and Permissioned blockchain in the <em><a href="http://vpb.smallyu.net/[Tech]%20blockchain/Blockchain%20Technology%20Overview%20-%20NIST.IR.8202.pdf">Blockchain Technology Overview</a></em>. However, this classification does not strictly correspond to public chains and consortium chains. Perhaps the difference between public chains and consortium chains lies in the size of the node network, or maybe the difference lies in whether the blockchain is oriented towards the public internet or a private local area network. Regardless of the definition, we can at least roughly distinguish between public chains and consortium chains.</p><p>The merits of public chains and consortium chains are not purely based on technology or certain evaluation metrics. Some might instinctively believe that public chains face more complex network environments and user volumes than consortium chains. However, technological gaps can always be bridged, and consortium chains do possess some superior technical characteristics compared to public chains.</p><p>There is a story called <em><a href="https://baike.baidu.com/item/%E7%9A%87%E5%B8%9D%E7%9A%84%E9%87%91%E9%8B%A4%E9%A0%AD/23725819">The Emperor’s Golden Hoe</a></em>:</p><blockquote><p>In ancient times, two old farmers fantasized about the luxurious life of the emperor. One said, “I think the emperor must eat his fill of white bread every day!” The other said, “Not just that, I think the emperor must use a golden hoe when he works in the fields!”</p></blockquote><p>Consortium chains are essentially using blockchain for traditional industry businesses, or even disguising blockchain to deceive people. The problem with consortium chains is that their vision is too limited.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;In the Chinese context, there is no clear standard definition for “public chain” and “consortium chain.” In 2018, the National Institute</summary>
        
      
    
    
    
    
    <category term="Blockchain" scheme="https://en.smallyu.net/tags/Blockchain/"/>
    
    <category term="Public Chain" scheme="https://en.smallyu.net/tags/Public-Chain/"/>
    
    <category term="Consortium Chain" scheme="https://en.smallyu.net/tags/Consortium-Chain/"/>
    
  </entry>
  
  <entry>
    <title>Enjoy Your Life</title>
    <link href="https://en.smallyu.net/2021/09/28/Enjoy%20Your%20Life/"/>
    <id>https://en.smallyu.net/2021/09/28/Enjoy%20Your%20Life/</id>
    <published>2021-09-28T10:39:30.000Z</published>
    <updated>2025-08-06T10:38:27.654Z</updated>
    
    <content type="html"><![CDATA[<p>I could have many reasons to be happy, but I always let some unnecessary goals trouble me.</p><p>I have no reason to give up my career and technical interests because of unrelated people and things at work.</p><p>I don’t want to spend time caring about issues I don’t need to care about. There are many things I am interested in that I haven’t done yet.</p><p>Why don’t I prioritize my own matters?</p><br><blockquote><p>Maybe today is not an “improve yourself” day. Maybe it can be an “accept yourself and get through” day instead.</p></blockquote><br><img src="life.jpeg">]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;I could have many reasons to be happy, but I always let some unnecessary goals trouble me.&lt;/p&gt;
&lt;p&gt;I have no reason to give up my career</summary>
        
      
    
    
    
    
    <category term="Life" scheme="https://en.smallyu.net/tags/Life/"/>
    
  </entry>
  
  <entry>
    <title>What Is My Problem</title>
    <link href="https://en.smallyu.net/2021/09/27/What%20Is%20My%20Problem/"/>
    <id>https://en.smallyu.net/2021/09/27/What%20Is%20My%20Problem/</id>
    <published>2021-09-27T15:58:51.000Z</published>
    <updated>2025-08-06T10:38:28.718Z</updated>
    
    <content type="html"><![CDATA[<p>Sigh, it’s time to complain again. I hope my blog can have more purely technical content, but it seems difficult. I’ve been feeling some anxiety and unease in the past few days, but I’m not sure where it’s coming from. After thinking for a few days, I realized it’s a somewhat familiar and exhausting topic.</p><h3 id="Explanation"><a href="#Explanation" class="headerlink" title="Explanation"></a>Explanation</h3><p>When I joined the company, I used my existing Github account as my work account. To this day, I’m still not sure if it was the right choice. To avoid seeming like I’m criticizing anyone or picking fights, I’ll try to describe the objective facts as much as possible without mixing in my own feelings and experiences. I’ll also avoid writing in a conversational style.</p><p><strong>Survival Tip: This blog is just for fun. Don’t associate online comments with real-life people.</strong></p><h3 id="Cause"><a href="#Cause" class="headerlink" title="Cause"></a>Cause</h3><p>Something happened today. I asked three people on WeChat—HR, Marketing, and Testing—about the progress and status of the current project. Later, HR found out and said, “The Marketing person reports directly to so-and-so. Are you crazy? How can you directly ask them? That’s inappropriate.”</p><p>Then HR called me into the meeting room and asked if I had any questions or anything I didn’t understand and told me I could ask him directly.</p><p>HR said, “Why are you asking the Testing team those questions? You don’t understand what they’re doing anyway.”</p><p>HR said, “Just focus on writing your code. Do you need to know so much?”</p><p>HR said, “The company’s financing path is clear, the future looks good. If it wasn’t good, I would have left already. What are you worried about? Isn’t everyone here for the same reasons?”</p><h3 id="The-Problem"><a href="#The-Problem" class="headerlink" title="The Problem"></a>The Problem</h3><p>I seriously thought about what my problem is. I figured it out just now and can explain my actions and motives, why I did what I did.</p><p>My problem is: <strong>What can I do?</strong></p><p>Why didn’t I directly ask the technical lead? It’s not that I have nothing to do and am looking for work assignments.</p><p>Another way to phrase this question is: <strong>What is the upper limit of my abilities?</strong></p><p>This question cannot be answered by asking anyone; no one knows except myself, and even I don’t know.</p><p>So, to answer this question for myself, I need to understand the entire project situation, including the company’s profit model, market plans, project progress, development pace, etc. Technically, the code is there, and I can look at it myself, but for other aspects, I might need to ask people.</p><p>Why do I need to know so much? Isn’t just knowing the technical aspects enough?</p><p>Suppose, and I emphasize, suppose, my ability limit is that I can be responsible for the entire project, or even consider the company’s future product direction when there are no projects. This requires judgment based on market plans, revenue status, etc.</p><p>Am I overthinking? Should I be worried about these things? Should I even be concerned about these things?</p><p>So, I need to assume…</p><p>I need to know as much as possible about what I can do and what I cannot do. More importantly, why I cannot do certain things and how big the gap is. This is something only I can judge.</p><h3 id="Position"><a href="#Position" class="headerlink" title="Position"></a>Position</h3><p>The problem I am facing has actually existed for a long time; it’s just now becoming clear. This problem will not change due to external environments.</p><h3 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h3><p>Changing jobs solved some old problems but brought some new ones.</p><p>The important thing is that solving this problem requires a lot of time and effort.</p><p>No matter how practical the specific work is, regarding the problem itself, I am currently only in the stage of understanding the situation and do not hope to or can do anything about it in the short term.</p><h3 id="Recollection"><a href="#Recollection" class="headerlink" title="Recollection"></a>Recollection</h3><p>Perhaps because the projects I’ve experienced before were relatively small, I had the confidence to take responsibility for the entire project, of course, referring to the technical aspects from front-end to back-end, from application layer to the underlying layer. Perhaps the previous company granted more authority; we followed the entire project from writing proposals to delivery. And of course, due to work experience, seniority, and interpersonal skills, the company wouldn’t give me direct authority and position.</p><p>Recently, I often recall when I proposed to resign, my then-leader said, “If you’re going to a big company or a more secure one, we can only give you our blessings. But… it’s not bad, we’re just afraid you’re making the wrong choice.”</p><p>My then-leader said he had interactions with the senior management of my current company. You… (Think it through. He didn’t say it directly, but that might be what he meant.)</p><h3 id="Recently"><a href="#Recently" class="headerlink" title="Recently"></a>Recently</h3><p>A classmate is getting married. I always doubt myself, wondering if I really made the wrong choice.</p><p>I’ve been feeling unwell recently and might need to go to the hospital for a checkup after the National Day holiday.</p><h3 id="Others"><a href="#Others" class="headerlink" title="Others"></a>Others</h3><p>Sigh, I realize there are many things I’m afraid to write down.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Sigh, it’s time to complain again. I hope my blog can have more purely technical content, but it seems difficult. I’ve been feeling some</summary>
        
      
    
    
    
    
    <category term="problem" scheme="https://en.smallyu.net/tags/problem/"/>
    
  </entry>
  
  <entry>
    <title>Saving Paths in Dijkstra Algorithm</title>
    <link href="https://en.smallyu.net/2021/09/18/Saving%20Paths%20in%20Dijkstra%20Algorithm/"/>
    <id>https://en.smallyu.net/2021/09/18/Saving%20Paths%20in%20Dijkstra%20Algorithm/</id>
    <published>2021-09-18T11:00:45.000Z</published>
    <updated>2025-08-06T10:38:28.698Z</updated>
    
    <content type="html"><![CDATA[<p>In Layer 2 of blockchain, there’s a scaling solution called State Channels, where it’s necessary to find the nearest routing node.</p><h3 id="Dijkstra-Algorithm-Concept"><a href="#Dijkstra-Algorithm-Concept" class="headerlink" title="Dijkstra Algorithm Concept"></a>Dijkstra Algorithm Concept</h3><p>The Dijkstra algorithm solves the single-source shortest path problem. It only outputs the shortest distance from one point to other points. For example, in this graph with A as the starting point, we want to know the shortest distance to point D:</p><img src="g1.png" width="50%" /><p>The Dijkstra algorithm is essentially a combination of dynamic programming and greedy strategy. To find the shortest path, traverse all nodes, updating the shortest distance records at each step. Once all nodes are visited, the shortest distances are finalized. The initial state set:</p><table><thead><tr><th>A</th><th>B</th><th>C</th><th>D</th></tr></thead><tbody><tr><td>0</td><td>-</td><td>-</td><td>-</td></tr></tbody></table><p>Currently at point A, the distance to itself is 0, and distances to other nodes are unknown.</p><p>From A, we can reach B and C with distances of 4 and 2 respectively. Update the state:</p><table><thead><tr><th>A</th><th>B</th><th>C</th><th>D</th></tr></thead><tbody><tr><td>0</td><td>-</td><td>-</td><td>-</td></tr><tr><td></td><td>4</td><td>[2]</td><td>-</td></tr></tbody></table><p>Brackets indicate the current shortest distance. Since C is closer, the next move is to C:</p><img src="g2.png" width="50%" /><p>At point C, it can reach A, B, and D. Since A has already been visited, we define <code>prev = []</code>. Now with A and C visited: <code>prev = [A, C]</code>.</p><p>At this point, the distance to B becomes 3 (<code>A -&gt; C -&gt; B</code>), shorter than the direct path. Update states and now D is reachable:</p><table><thead><tr><th>A</th><th>B</th><th>C</th><th>D</th></tr></thead><tbody><tr><td>0</td><td>-</td><td>-</td><td>-</td></tr><tr><td></td><td>4</td><td>[2]</td><td>-</td></tr><tr><td></td><td>[3]</td><td></td><td>5</td></tr></tbody></table><p>B is closer than D, so the next move is to B:</p><img src="g3.png" width="50%" /><p>Now <code>prev = [A, C, B]</code>, and update:</p><table><thead><tr><th>A</th><th>B</th><th>C</th><th>D</th></tr></thead><tbody><tr><td>0</td><td>-</td><td>-</td><td>-</td></tr><tr><td></td><td>4</td><td>[2]</td><td>-</td></tr><tr><td></td><td>[3]</td><td></td><td>5</td></tr><tr><td></td><td></td><td></td><td>[5]</td></tr></tbody></table><p>Only D is left:</p><img src="g4.png" width="50%" /><p><code>prev = [A, C, B, D]</code>, all nodes visited. Final result:</p><table><thead><tr><th>A</th><th>B</th><th>C</th><th>D</th></tr></thead><tbody><tr><td>0</td><td>3</td><td>2</td><td>5</td></tr></tbody></table><p>We now know the shortest distance from A to D is 5.</p><h3 id="Tracking-the-Shortest-Path"><a href="#Tracking-the-Shortest-Path" class="headerlink" title="Tracking the Shortest Path"></a>Tracking the Shortest Path</h3><p>The algorithm yields shortest distances, but what if we also want the exact path, like A -&gt; D?</p><h4 id="Forward-Greedy-Approach"><a href="#Forward-Greedy-Approach" class="headerlink" title="Forward Greedy Approach"></a>Forward Greedy Approach</h4><p>We can infer <code>A -&gt; C -&gt; D</code> is the shortest path. The <code>prev</code> list is <code>[A, C, B, D]</code>. Since going through B to D is longer, B is excluded.</p><p>We might consider excluding any node unless:</p><ul><li>It can reach D,</li><li>Going through it gives the shortest distance to D.</li></ul><p>Only when both are true, we keep the node. For instance, if B is selected but doesn’t meet the criteria, it’s removed from <code>path = [A, C, B]</code> back to <code>path = [A, C]</code>. If E is selected next and fails, again it’s excluded. Until D is selected.</p><p>This works in complex scenarios:</p><img src="g5.png" width="50%" /><img src="g6.png" width="50%" /><p>However, this breaks in cases like:</p><img src="g7.png" width="50%" /><p>If the shortest path is <code>[A, E, C, D]</code>, and E can’t directly reach D, it gets wrongly excluded. Removing the “can reach D” condition causes other problems.</p><p>The forward greedy approach fails because we can’t determine if a node belongs to the final path during traversal.</p><h4 id="Reverse-Greedy-Approach"><a href="#Reverse-Greedy-Approach" class="headerlink" title="Reverse Greedy Approach"></a>Reverse Greedy Approach</h4><p>Once D is selected as the current shortest node, the full shortest distance from A to D is determined. If we know where D came from (e.g., C), and where C came from (e.g., A), we can reconstruct the path backward.</p><img src="g4.png" width="50%" /><p>We need a way to track predecessors during traversal. This approach is common in DFS or tree traversals.</p><p>Is maintaining distance in DFS equivalent to Dijkstra? No.</p><p><strong>Recursion vs Tail Recursion</strong></p><p>Dijkstra is usually written in loops:</p><pre><code class="go">for &#123;&#125;</code></pre><p>Or as tail recursion:</p><pre><code class="go">func recursion() &#123;        recursion()&#125;</code></pre><p>It’s a one-way loop. Full recursion like:</p><pre><code class="go">func recursion() &#123;    for &#123;        recursion()    &#125;&#125;</code></pre><p>might enter multiple branches at once to find the best one. At C, we might explore both <code>C -&gt; B -&gt; D</code> and <code>C -&gt; D</code>, keeping only the better path.</p><p>But where to branch? C? B? A? If every node branches, it creates massive overhead. Trees allow this since nodes don’t overlap.</p><h4 id="Second-Dynamic-Programming"><a href="#Second-Dynamic-Programming" class="headerlink" title="Second Dynamic Programming"></a>Second Dynamic Programming</h4><p>The first DP maintains distance data. The second maintains path states:</p><pre><code class="js">pathList = &#123;    A: [],    B: [],    C: [],    D: []&#125;</code></pre><p>At the start, A can reach B and C:</p><img src="g1.png" width="50%" /><pre><code class="js">pathList = &#123;    A: [A],    B: [A, B],    C: [A, C],    D: []&#125;</code></pre><p>After moving to C, since <code>A -&gt; C -&gt; B</code> is shorter than <code>A -&gt; B</code>, update <code>pathList[C].push(B)</code>. Also update D path.</p><img src="g2.png" width="50%" /><pre><code class="js">pathList = &#123;    A: [A],    B: [A, C, B],    C: [A, C],    D: [A, C, D]&#125;</code></pre><p>In this round, B is chosen, but <code>A -&gt; C -&gt; B -&gt; D</code> is longer than <code>A -&gt; C -&gt; D</code>, so don’t update pathList.</p><img src="g3.png" width="50%" /><p>Upon reaching D, traversal ends.</p><img src="g4.png" width="50%" /><p>The result path is <code>A -&gt; C -&gt; D</code>.</p><p>Can we save only the path to D? No, because updates to other nodes rely on current node paths. Path state must be complete.</p><h3 id="Tracking-Non-Shortest-Paths"><a href="#Tracking-Non-Shortest-Paths" class="headerlink" title="Tracking Non-Shortest Paths"></a>Tracking Non-Shortest Paths</h3><p>Dijkstra is greedy and always picks the nearest node. If we need to store non-shortest paths, it’s possible but not ideal. DFS&#x2F;BFS is better suited.</p><p><br><br></p><h3 id="Supplement-2025-05-11"><a href="#Supplement-2025-05-11" class="headerlink" title="Supplement (2025.05.11)"></a>Supplement (2025.05.11)</h3><p>This Dijkstra-related work was originally part of a State Channels project called <a href="https://github.com/saveio-backup/pylons">pylons</a>, used to find the shortest path among multiple channels. Initially, it used <a href="https://github.com/saveio-backup/pylons/blob/master/route/dfs.go">DFS</a>, but later I added a <a href="https://github.com/saveio-backup/pylons/blob/master/route/dijkstra.go">Dijkstra</a> implementation, which included a blacklist feature and used transaction fees as the basis for path distance calculation.</p><p>Now, the routing portion of the code has been split out into a separate repository: <a href="https://github.com/smallyunet/dijkstra-demo/">smallyunet&#x2F;dijkstra-demo</a> as a memento.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;In Layer 2 of blockchain, there’s a scaling solution called State Channels, where it’s necessary to find the nearest routing</summary>
        
      
    
    
    
    
    <category term="Algorithm" scheme="https://en.smallyu.net/tags/Algorithm/"/>
    
  </entry>
  
  <entry>
    <title>Problems in the Previous Company</title>
    <link href="https://en.smallyu.net/2021/08/31/Problems%20in%20the%20Previous%20Company/"/>
    <id>https://en.smallyu.net/2021/08/31/Problems%20in%20the%20Previous%20Company/</id>
    <published>2021-08-31T10:58:39.000Z</published>
    <updated>2025-08-06T10:38:27.727Z</updated>
    
    <content type="html"><![CDATA[<p>The company I previously worked for was a traditional telecommunications service enterprise, initially focused on phone bill payments. The blockchain department was an innovative business unit, incubating projects and products internally, functioning as a cost center. The company funded it, but it also had some revenue targets. The department’s income sources mainly included:</p><ul><li>Government subsidies</li><li>Bidding projects</li><li>Projects introduced through personal connections</li></ul><p>All projects were delivered, with bidding projects involving software development according to specified requirements and then handing over everything. Projects introduced through personal connections involved delivering internally developed blockchain products, including development, integration, and after-sales support. If there were no successful bids or no projects from personal connections, there would be no revenue, leading to some income pressure.</p><p>This profit model is relatively easy to understand. A long time ago, before I understood the department’s income sources, I casually mentioned to a colleague, “Nowadays, it’s no longer about making money by selling software,” implying that the department leader’s approach to making money was problematic. The colleague asked, “Then how?” I casually replied, “By selling services.” At that time, I wasn’t focused on the issue; it was just a casual conversation.</p><p>I thought of this topic because, today, I asked HR about the company’s profit model, “We’re not like selling pancakes, making money on each sale. Why do internet companies have high salaries? It’s not from direct revenue but from investors pouring in money. Internet companies’ money isn’t real; many internet companies are losing money in their financial reports, yet many investors are willing to invest. They first capture the market and users, then go public, and finally, the shareholders pay.” We also have IPO plans…”</p><p>Of course, I question the truth and accuracy of these claims. But one thing is certain, this sales model is entirely different from the previous company.</p><p>HR mentioned that if I have any questions, I can ask anytime, as our corporate culture promotes “open communication.” I responded that directly asking might only get some “sanctimonious” answers; some things need continuous “probing” to find the truth. I realized that my behavior might be related to previous experiences.</p><p>If you ask a realistic and specific question, and the person answering goes on and on about various topics—certain bank financial practices, what some university professor said, the experiences of high-ranking officials in certain institutions, the demands of company executives, the behavior of certain employees, famous quotes, historical anecdotes, and so on—you’ll find they haven’t directly answered your question. It seems like an answer, but it isn’t. Occasionally, you might think this person is highly knowledgeable, dealing with high-level individuals and speaking in grand methodologies.</p><p>Over time, you realize that for every specific issue, they respond with methodologies, skirting the main point, never answering directly. Often, they talk about the same examples from different angles. Summarizing methodologies from specific issues is an advanced skill, but focusing solely on methodologies can be disastrous. Every problem is understood, but nothing is resolved. Later, you might think, perhaps they don’t want to answer because they don’t know the answer either. Someone said, maybe they are also confused.</p><p>In terms of specific work content, the only requirement was “customer recognition,” meaning it should be profitable, ideally with direct benefits. You can list all technical directions related to the product, but you’ll find that under the criterion of “customer recognition,” none are needed. There isn’t a single technical direction for the product that can be delved into.</p><p>“Customer recognition” is undoubtedly a correct criterion. Any company action aims to profit, and the costs should be reflected in the revenue, which is understandable. But it just feels very difficult. The company’s profit model is such that very few domestic companies make money under it.</p><p>Especially seeing certain domestic open-source projects thriving, finding a breakthrough for the department’s products became even harder. In the past few years, without significant innovations, lacking technical reserves, development paths, commercial resources, and even the engineering quality is questionable. When you point out the product’s lack of competitiveness, you’ll hear, “Actually, our company isn’t specialized in this,” with senior management repeatedly abandoning the department and products, all indicating the department’s demise.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;The company I previously worked for was a traditional telecommunications service enterprise, initially focused on phone bill payments.</summary>
        
      
    
    
    
    
    <category term="Work" scheme="https://en.smallyu.net/tags/Work/"/>
    
    <category term="Issues" scheme="https://en.smallyu.net/tags/Issues/"/>
    
  </entry>
  
  <entry>
    <title>Reflections on Two Years of Work</title>
    <link href="https://en.smallyu.net/2021/07/23/Reflections%20on%20Two%20Years%20of%20Work/"/>
    <id>https://en.smallyu.net/2021/07/23/Reflections%20on%20Two%20Years%20of%20Work/</id>
    <published>2021-07-23T10:03:03.000Z</published>
    <updated>2025-08-06T10:38:28.693Z</updated>
    
    <content type="html"><![CDATA[<p>If you’re reading this, it means I’ve left my previous company and started a new phase in my career.</p><h3 id="The-Last-Straw"><a href="#The-Last-Straw" class="headerlink" title="The Last Straw"></a>The Last Straw</h3><p>During a technical sharing meeting, I realized that my technical philosophy differed from that of my superiors, the company, and possibly the entire industry. It wasn’t about right or wrong, no conflicts or contradictions—just differences.</p><p>I believe technology should solve technical problems, focusing more on trends and forms of technology. It’s not that I can’t make technology concrete; I just don’t believe “concrete” means depth, especially when linking “concrete” with human psychology (trust models). Concrete technology can solve specific problems and has value, but the scope is too limited. I won’t be satisfied with that.</p><p>For example, I think that routers between computers should only be responsible for forwarding network messages and ensuring they reach the target computer accurately. They shouldn’t be involved in the specific content of the messages. If it’s a transfer message, should the router freeze the sender’s funds to ensure the transaction is completed smoothly? That’s absurd.</p><p>This wasn’t the only reason, but it sparked the idea of looking elsewhere. The idea formed in an instant when my superior corrected my viewpoint. I fully acknowledged his correctness in technical matters, especially in the industry. But suddenly, I felt that everything was too boring. I couldn’t jump out of that circle.</p><p>Even if I don’t have the strength to achieve my ideals, it doesn’t prevent me from continuing to have them.</p><p>I always knew there was a dragon on the distant mountain, but now I see monsters at the foot of the mountain blocking the way up. The monster at the foot of the mountain is called Authority.</p><h3 id="Timing"><a href="#Timing" class="headerlink" title="Timing"></a>Timing</h3><p>Last year, I also had thoughts of leaving because I was completely engaged in CRUD projects with no technical content. I couldn’t continue like that. This year’s reasons are similar.</p><p>The reason I didn’t leave wasn’t due to work experience or skills. When interviewers asked me some very boring questions, I suddenly felt uninterested in job hunting. Changing workplaces wouldn’t solve my problems. I shouldn’t expect to improve my technical skills based on the company I work for. Besides, I hadn’t figured out what I wanted from a new job. Coupled with the impact of the environment at that time, it was inconvenient to interview, and my superior later gave me a lot of room to grow, so I stayed quietly.</p><p>Last year, there were salary cuts, project failures, and high turnover in the department. Some colleagues asked why I didn’t switch jobs. I didn’t care much about salary, especially when I was “busy” with other things, personal things, and had no mind to focus on work issues. This year is the same—not a matter of wanting or not wanting to leave, but not thinking about it. There were too many personal problems, and I couldn’t think about it.</p><p>Is this a good time now? I don’t know, but at least I have some free time. You might imagine how painful it was to start watching raw English videos and TV shows, unable to understand anything. For a while, I lost interest in American TV shows because I couldn’t understand a thing.</p><p>Regarding personal abilities, there’s a simple logic. If my abilities are sufficient, I will find better job opportunities. If they aren’t, I must leave, regardless of the cost, even if I can’t earn money, pay rent, or survive in this city. I must go. If only my current company recognizes me, will I just survive here? In the current company, I’m “considered” a core member, but whether one or two companies recognize me doesn’t mean much. I’ve never expected to receive more compensation than my abilities warrant.</p><p>In these two years, I haven’t been idle. Although I didn’t spend time brushing up on algorithms or basic knowledge, I wasn’t idle. I chose to improve acceleration rather than speed. I chose to forge a better axe rather than cutting wood with a blunt one. I spent time making myself a better human being, not just a better coder.</p><p>When there were no clear work arrangements, was I slacking off? Yes, but it was a painful slack. I constantly needed to think about what to do next. What valuable work-related things could I do? Every morning when I woke up and every evening after work, I thought about what I did today and what I would do tomorrow. I did my best, but there was nothing I could do. At work, I have a clear conscience (mostly). It wasn’t intentional laziness but that I couldn’t think of anything to do, especially without a superior. I truly wanted to do something.</p><p>Regarding interviews, I don’t want to prepare anything deliberately. Necessary reviews and organizing experiences are essential, but I shouldn’t focus on interview questions. Technical abilities can’t improve overnight. Things that can be learned in a short time can be learned anywhere, whether in the current company or the future one. What I need might be a probation period. If my abilities don’t match, I’ll leave voluntarily (of course, I know that’s not how the real world works). I hope to complete this job change under less pressure. If a sudden learning plan starts during job hunting, I might lose interest in job hunting.</p><p>I suddenly remember my university days. The night before exams, the classroom was locked, and everyone stayed in the dorm, studying intensely. The campus and playground were empty. Only I wandered outside or slept in the dorm. What I needed to know was already in my head; what I didn’t know wouldn’t be meaningful to learn last minute.</p><p>If I face significant obstacles in job hunting this time, I will validate a simple truth with my experience: two or three years of work experience is far less important than two or three years of academic qualifications. I believe the school is full of formalities and various psychological states that can’t teach me truly useful knowledge.</p><p>(In fact, there are quite a few interview opportunities. Failing to seize them is my own fault.)</p><h3 id="Some-Things"><a href="#Some-Things" class="headerlink" title="Some Things"></a>Some Things</h3><p>I haven’t mentioned these things in the blog before because they have no “growth” significance for me. Although they entangled me for almost a year, they are indeed meaningless and not worth mentioning. Now I recall them as a record to prevent complete forgetfulness in the future.</p><h4 id="First-Stage"><a href="#First-Stage" class="headerlink" title="First Stage"></a>First Stage</h4><p>The department was divided into two small groups: the application layer group and the underlying layer group, referred to as Group A and Group B. I belonged to Group A. The department didn’t have clear authority divisions, and I had no intention of creating factions.</p><p>Last year, a project required me (a Group A member) and the Group B leader to work together. From my standpoint, I was just a coder. Due to my experience in Group A and a certain degree of trust in the Group A leader, I thought, “After all, he’s the Group B leader, and I don’t understand the project well, so I’ll just do what he says.”</p><p>But the actual cooperation was frustrating. His logical thinking wasn’t clear enough. One moment, he wanted to test scenario one, then scenario two, then back to scenario one. Then he suddenly had an idea and wanted to test both scenarios. We were testing a distributed system with 4-6 machines, each running 2-3 programs. Switching scenarios required changing configurations, restarting programs, clearing logs, recording machine states, recording results, analyzing results, all under remote desktop with network delays that could drive anyone crazy. This was bearable, but I didn’t think much of it, just found the work tedious and resisted it a bit.</p><p>The main issue was his lack of trust in me. Reflecting on it later, I realized that all his conclusions from his instructions were ones I had already known. His consumption of my time didn’t advance anything. I had told him the conclusions beforehand, and he said, “We need to run it and see the results.” I wasn’t confident enough at the time, given his title, and hoped he might find something different or more useful, so I listened to him. But his tasks only verified my conclusions. I began to doubt his abilities.</p><p>A few days later, he asked me to re-verify the best previous result. After some operations, I wanted to directly state the conclusion, but he insisted I do it again and show him the process and result. I got angry and asked, “What’s the purpose of this test? Just to show you the result?” I thought, “Am I just your assistant? Is my job’s value just to show you results and make you believe me? In this matter, are we collaborators or subordinates? Why should I do this? Are you overestimating yourself or underestimating me? If you were truly capable, it would be different, but you’re not.”</p><p>My solution was to tell him to contact my leader (group leader or department head) for coordination in the future, not directly command me. This meant asking my leader to filter out meaningless tasks. I couldn’t directly refuse him from my position. If my leader deemed a task meaningful, I had no reason to refuse. Additionally, if my leader believed my job should be assisting him, I’d resign on the spot.</p><h4 id="Second-Stage"><a href="#Second-Stage" class="headerlink" title="Second Stage"></a>Second Stage</h4><p>After the first stage, I occasionally worried that if one day the leader required or arranged for me to transfer to their group, things would get chaotic because I didn’t trust his (Group B leader) abilities. I wouldn’t trust him with my work.</p><p>Then something magical happened. The Group B leader left, and a Group B member became the leader, and I transferred to Group B.</p><p>Is this a joke? Even if a Group B member became the leader, I didn’t respect the original leader either. Even the previous Group B leader, the department technical head (who left), I also clashed with from the beginning.</p><p>I indeed didn’t respect him. Someone suddenly becoming my leader, with the authority to assign my work—I needed to test his</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;If you’re reading this, it means I’ve left my previous company and started a new phase in my career.&lt;/p&gt;
&lt;h3 id=&quot;The-Last-Straw&quot;&gt;&lt;a</summary>
        
      
    
    
    
    
    <category term="Work" scheme="https://en.smallyu.net/tags/Work/"/>
    
    <category term="Dreams" scheme="https://en.smallyu.net/tags/Dreams/"/>
    
  </entry>
  
  <entry>
    <title>Why Scripted Murder Mysteries Need Genre Classification</title>
    <link href="https://en.smallyu.net/2021/07/20/Why%20Scripted%20Murder%20Mysteries%20Need%20Genre%20Classification/"/>
    <id>https://en.smallyu.net/2021/07/20/Why%20Scripted%20Murder%20Mysteries%20Need%20Genre%20Classification/</id>
    <published>2021-07-20T00:43:43.000Z</published>
    <updated>2025-08-06T10:38:28.725Z</updated>
    
    <content type="html"><![CDATA[<p>Some time ago, I wrote the following:</p><blockquote><p>Labeling and categorizing scripts is actually a very wrong and foolish practice, especially for players who are accustomed to “following the rules,” giving them preconceived notions that certain tags indicate how a script should be played.</p></blockquote><p>I recently played an emotional script called “Spring Day Short.” At the end of the game, a player complained (not aimed at me) that emotional scripts shouldn’t be played this way; the focus should be on immersing oneself in the characters and experiencing the emotions, rather than analyzing who the murderer is the whole time. They believed the focus shouldn’t be on reasoning.</p><p>This resonated with me. On one hand, the DM (Dungeon Master) said it was the phase to find the murderer, so everyone started looking for the murderer. What’s the problem with that? On the other hand, why can’t an emotional script focus on reasoning and murder? If the script’s story is weak and uninteresting, it won’t attract or move people and isn’t worth mentioning.</p><p>Recently, after a long time, I eagerly played a highly praised emotional script called “Ancient Tree Song,” but felt disappointed because others were focused on the murder mystery the whole time. Despite having a great plot and story, the script didn’t shine, and I didn’t experience the intended effects. I found myself mentally complaining about others, much like the person I once disliked.</p><p>I began to reflect: Is it right to classify scripts, label them, and divide them into different play styles?</p><p>The answer is yes.</p><p>Generally, the skill level of scriptwriters isn’t that high. You can’t expect an average scriptwriter to have a tightly logical reasoning section, a deeply moving story, and a fun and interesting mechanism section. That’s unrealistic.</p><p>Even in TV crime dramas and reality game shows, which spend a lot of money and involve many celebrities and resources, how many are actually good? Let alone scripts that can “deceive” the audience, leaving clues and suspense, with a great twist at the end. Such plots are rare even in American TV shows.</p><p>Just reaching a level of fun requires a scriptwriter of at least TV scriptwriting skill. Where would such a writer find time to write scripted murder mystery scripts, given their low cost? It’s already not easy for a scripted murder mystery script to have one or two highlights.</p><p>So, why classify scripts into genres? Because, limited by the scriptwriter’s skill, a script of a certain genre truly only has one way to play it. Playing an emotional script with a hardcore mystery approach is mismatched.</p><p>Why is there a misconception that “one script shouldn’t have only one way to play it”? Because many scripts are heavily homogenized, featuring murder mystery plots regardless of genre. Fortunately, this is gradually improving. For example, a popular script this year, “Incoming Call,” has no murder mystery but has interesting mechanics, a fun game, and a deeply meaningful twist at the end. Whether it’s the best script or not, at least it’s fun and avoids traditional clichés, which is a significant improvement.</p><p>So, as a player, should you check the script’s background information before the game to understand what type of script it is, know how to play it, and understand which aspects to focus on?</p><p>Of course not!</p><p>This is clearly the DM’s responsibility. The DM should first be thoroughly familiar with the script, then explain the key points before the game starts, letting players know the focus, and even provide individual guidance at different stages for players of different levels. The DM cannot assume all players are veterans, nor can they assume all players know how to play a particular script.</p><p>In fact, the DM’s control ability is crucial to the player’s gaming experience.</p><p>In fact, nine out of ten DMs are poor, and nine out of ten scripted murder mystery experiences are poor.</p><p>In the few good gaming sessions I’ve participated in, either the DM was professional and fully engaged, or there were veteran players who could spontaneously take control. In the poor experiences, it was almost always the DM’s fault—either not participating or not guiding the process, or worse, directly misleading the players and allocating too much time to unimportant parts. Some DMs even rush players to finish the game to complete their work tasks, disregarding the players’ experience.</p><p>Bad experiences are also a form of experience. I’m just trying different scripted murder mystery venues.</p><p>Back to the issue of script genres, the reasoning is similar. If a movie is promoted as a mix of romance, costume drama, fantasy, action, drama, ethics, comedy, and history, you know it’s going to be a bad film.</p><p>If there is a programming language claiming to support both FP and OOP, actors and pipelines, try…catch and union types, both static and dynamic typing, and type inference, suitable for people familiar with different programming styles, then this language…is JavaScript, right? :P</p><p>If someone says they are proficient in both front-end and back-end development, app development, embedded development, blockchain principles, neural network principles, and has deep research in big data processing and data platform construction, then this person…must be quite old…</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Some time ago, I wrote the following:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Labeling and categorizing scripts is actually a very wrong and foolish</summary>
        
      
    
    
    
    
    <category term="Scripted Murder Mysteries" scheme="https://en.smallyu.net/tags/Scripted-Murder-Mysteries/"/>
    
  </entry>
  
  <entry>
    <title>My Recent Job Hunting Experience</title>
    <link href="https://en.smallyu.net/2021/07/03/My%20Recent%20Job%20Hunting%20Experience/"/>
    <id>https://en.smallyu.net/2021/07/03/My%20Recent%20Job%20Hunting%20Experience/</id>
    <published>2021-07-03T15:46:05.000Z</published>
    <updated>2025-08-06T10:38:27.721Z</updated>
    
    <content type="html"><![CDATA[<p>I’ve always known that my ambitions exceed my abilities, and I tend to look down on certain things. However, working behind closed doors is never a good idea. I often think about issues from a high-level perspective, but in reality, I’m at the bottom, a fact that is hard to change. I attend interviews I know I can’t pass to understand the gap between myself and reality, and then decide my next steps accordingly. This will be a difficult time.</p><p>It’s ridiculous to know that I can’t pass an interview even before it starts. This is mainly because I’ve heard about the difficulty of interviews at certain companies. Although I haven’t been idle these past two years, I’ve been focusing my skills elsewhere. Recently, I’ve been thinking about the direction of the company’s products and whether I can find highlights, almost never studying knowledge points or focusing on technical details. My experience over the past two years allows me to handle my current job and the work of programmers at the same level in similar companies, but I lack confidence to step up a level.</p><p>（1）</p><p>After some interviews, I have a few simple insights.</p><p>There are three types of companies. The first type needs you to have certain skills and checks if you possess them. The second type wants to know what skills you have. The third type looks down on you, and you look down on them.</p><p>Interview questions are divided into three categories: basic programming language, data structures and algorithms, and project experience, system architecture, and system components.</p><p>Although I haven’t had many interviews, repeated failures are still frustrating. What is the ideal job? Salary? Office environment? Work intensity? Career prospects? Colleague relationships? It’s impossible to have everything, right? Good opportunities are out of reach, and bad opportunities are uninteresting.</p><p>I will persist and try to interview with at least 10 companies.</p><p>（2）</p><p>Companies are more concerned about skill matching.</p><p>Actually, now is not a good time to change jobs. Usually, it’s said that March and April, September and October are the peak times for job hunting, but now it’s June, the hot season, a recruitment off-season.</p><p>I suddenly want to change my approach.</p><p>Previously, I only applied to well-known companies, those in the traditional internet industry. These companies often focus on common technical abilities. In recent interviews, my biggest feeling is that my understanding of blockchain is completely useless. This job change is directly switching industries.</p><p>I used to be very disappointed with blockchain. Most domestic consortium chains are unreliable, even leading companies like AntChain and Qulian are not doing well. Apart from the cryptocurrency and exchanges making money, other companies haven’t found a business model.</p><p>On one hand, it’s almost certain that I don’t have the chance to join top internet companies, and I roughly know their recruitment requirements. On the other hand, blockchain is one of the few “new” technologies currently. In terms of priority, it definitely comes before general internet companies.</p><p>So, I will start applying to blockchain companies, focusing on startups with overseas business and background, hoping to work on Premissionless Blockchain development.</p><p>（3）</p><p>Why can’t I get into big companies?</p><p>Entering a big company requires reviewing basic knowledge and practicing problems, which is different from my values. So, I want to see if I can find a suitable company without deliberate preparation.</p><p>I’m currently waiting for a result from a company, and I have some work to do, so I won’t participate in new interviews for now and see how things go.</p><p>（4）</p><p>It’s been almost three weeks since I started, and although the number of interviews is less than expected, it’s very tiring. Even if there will be other interviews, it will be in the next job-hunting cycle. For now, I’ll take a break.</p><p>（5）</p><p>In the past week, I interviewed with a few more companies, not many, not high quality. Given the short time since the last stage, I’ll just add the content here.</p><p>After the last stage of interviews, I realized I should get rid of some wrong ideas. I hope to proceed with the upcoming interviews calmly.</p><p>Maybe this job search will end sooner than expected.</p><h3 id="Baidu-Baidu-Netdisk-Engineering-Direction"><a href="#Baidu-Baidu-Netdisk-Engineering-Direction" class="headerlink" title="Baidu - Baidu Netdisk (Engineering Direction)"></a>Baidu - Baidu Netdisk (Engineering Direction)</h3><p>I remember when I was looking for an internship, the only big company phone interview I had was with Baidu, and I was rejected on the spot :)</p><p>Originally planned for a video interview, there were some issues. Baidu uses its “Ruliu” video conferencing software. The page indicated there was a web version, but it was completely unusable. Entering the page repeatedly refreshed and still showed “meeting does not exist”. Clicking the download Ruliu software button, the page directly jumped to <code>about:blank</code>. My laptop runs Linux, and Ruliu has no Linux version, so we switched to a phone interview.</p><p>The interview feedback was basically as expected: weak algorithm ability and insufficient language foundation. I could hear the template-like questions from the interviewer and the sound of typing, guessing there was a standardized interview process recording the results. It’s said that Baidu has a tradition of not rejecting people in the first round unless they are particularly bad. The first-round questions were indeed basic, though I didn’t answer well.</p><p>There were two questions I clearly couldn’t answer:</p><ul><li>How to implement a concurrent-safe map in Golang?</li><li>Find the top N largest numbers from a large set of numbers.</li></ul><p>I don’t have much experience with languages. I’ve always paid little attention to language details, especially specific implementations, unless I really need to use them. Even if asked about Java-related language issues, I probably wouldn’t be able to answer. This is also a major feature and weakness of my current job: too little coding! But I’m not too worried about this.</p><p>The second question is a classic algorithm problem, not too difficult. I could outline the approach but hadn’t written related code before and didn’t know the complexity. The interviewer then lowered the difficulty and asked what sorting algorithms are there? Not the approach, but the highest, lowest, and average complexities. I didn’t know.</p><p>During the final question session, I asked how to improve technical abilities. The answer was communication ability and code ability; good code indicates good technical skills.</p><p>Review and feelings: This year’s first interview company without any preparation, lacking basic knowledge. The interviewer was nice, but the interview had a checklist, and I don’t like such interview standards and processes. From the willingness perspective, I didn’t expect to jump directly to a big company; it’s a big leap.</p><h3 id="Megvii-Data-Platform"><a href="#Megvii-Data-Platform" class="headerlink" title="Megvii (Data Platform)"></a>Megvii (Data Platform)</h3><p>(First Round)</p><p>Video interview, interviewer did not turn on the camera.</p><p>Focused on Go language basics, asked how to exit a goroutine and what happens if you write data to a closed channel.</p><p>The algorithm question was relatively simple, reversing a binary tree (sharing screen to write code), and detecting if a linked list has a cycle. The additional question was about the starting point of the cycle. I had an impression but wasn’t clear, answered using fast and slow pointers meeting point.</p><p>During the final question session, I asked how to improve technical abilities. The answer was to imitate and build wheels, focusing on independent working abilities.</p><p>(Second Round)</p><p>Handwritten LRU, requiring both query and write time complexities to be O(1). Couldn’t do it. The interviewer was kind, prompting me the whole time. Still couldn’t do it.</p><p>During the final question session, I asked what technical abilities are most valued. The answer was enthusiasm for learning and geek spirit.</p><p>(Final Round)</p><p>The worst performance.</p><p>The network signal was poor at the beginning, interrupted for a few minutes, directly disrupting my rhythm, making me panic. I had a lot to say but ended up speaking incoherently.</p><p>Asked what was the most growth-inducing task in your work? Too many to count, couldn’t say clearly.</p><p>Asked what improvements you would make if you redid a previous task? Answered poorly. First time in a final interview, facing senior interviewers, facing such questions.</p><p>Later, the problem was to write code to transpose a matrix, a very simple problem, but got stuck on Golang syntax for several minutes.</p><p>Later asked if I write test code usually, I said rarely in my work.</p><p>During the final question session, I asked what technical abilities are most valued. The answer was the question is too broad, abilities are multi-faceted.</p><p>(HR Interview)</p><p>The big sister laughed heartily…</p><h3 id="CNKI"><a href="#CNKI" class="headerlink" title="CNKI"></a>CNKI</h3><p>On-site interview.</p><p>Beautiful office environment.</p><p>Technical stack is years behind the internet industry.</p><p>At the end of the interview, the interviewer suggested that I delve into a technical detail.</p><p>Review and feelings: A mutual dislike situation, asked some very low-level questions. Outside of the interview context, such an interviewer isn’t qualified to evaluate my technical abilities.</p><h3 id="Tantan"><a href="#Tantan" class="headerlink" title="Tantan"></a>Tantan</h3><p>On-site interview.</p><p>First round whiteboard algorithm, a gentle girl.</p><p>Second round whiteboard architecture, focused on understanding system components, designed an instant messaging system. Performed poorly. First encounter, a bit confused. Indeed, not much to say.</p><p>Review and feelings: Ability mismatch, the other party expects someone who can independently architect and maintain the entire backend service, I currently lack architecture experience. Suddenly remembered during the second round, the interviewer said WebSocket can only communicate in LAN, not in public network. Before I graduated, I watched tutorials and made a real-time chat app based on React.js + Node.js + WebSocket. The interviewer’s technical skills might also be subpar.</p><h3 id="Huobi"><a href="#Huobi" class="headerlink" title="Huobi"></a>Huobi</h3><p>(Department 1)</p><p>Phone interview.</p><p>Only asked language basics. Couldn’t answer any.</p><p>Review and feelings: Turns out Huobi is also a sweatshop, at least the department I interviewed for. Another mutual dislike situation, the interviewer said besides language basics, didn’t know what else to ask. Algorithms</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;I’ve always known that my ambitions exceed my abilities, and I tend to look down on certain things. However, working behind closed doors</summary>
        
      
    
    
    
    
    <category term="Job Hunting" scheme="https://en.smallyu.net/tags/Job-Hunting/"/>
    
  </entry>
  
  <entry>
    <title>&quot;I&quot; am... (Series)</title>
    <link href="https://en.smallyu.net/2021/06/24/%22I%22%20am...%20(Series)/"/>
    <id>https://en.smallyu.net/2021/06/24/%22I%22%20am...%20(Series)/</id>
    <published>2021-06-24T14:23:19.000Z</published>
    <updated>2025-08-06T10:38:27.587Z</updated>
    
    <content type="html"><![CDATA[<p>“I” am a person with a cleanliness obsession.</p><p>The wealthy merchants living in villas all have a cleanliness obsession. Their cabinets are filled with gold and silver jewelry, which they carefully dust and arrange, keeping everything neat, orderly, and spotless.</p><p>I see the dignitaries in their palatial residences doing the same.</p><p>Although I only have a trash can in front of me, filled with dirty, discarded items, I can’t stand its disarray. I must make it clean and tidy because I have a cleanliness obsession.</p><p>When I see someone carelessly throwing garbage into the trash can and ignoring it, I loudly complain and even reprimand them, even though they show no remorse.</p><p>Why don’t they understand cleanliness and order? Why can’t they be like me, like the dignitaries, strict with themselves, with a cleanliness obsession, loving cleanliness and order?</p><p>I have a cleanliness obsession. I am nobler than those who don’t understand cleanliness and order. I am superior to them. (dog head)</p><div style="text-align: right;">(2021-03-11)</div><br><hr><p>“I” am a designer.</p><p>I have defined a new rule of addition, under which 1+1&#x3D;3, and 2+2&#x3D;5.</p><p>I came up with some questions, such as 3+3&#x3D;? and 4+4&#x3D;?. If someone can answer these questions, it shows they have mastered the “knowledge” I created.</p><p>Some people are passionate about learning the knowledge I created, worshiping me as a deity, tirelessly and proudly doing so, even looking down on those who haven’t mastered this knowledge.</p><p>Some people even argue heatedly, discussing whether the knowledge I created is better than that created by another designer.</p><p>Some people feel that mastering the knowledge I created makes them superior to those who have mastered another designer’s knowledge.</p><p>I like these interesting people, though in my eyes, they are all just bugs. (dog head)</p><div style="text-align: right;">(2021-03-23)</div><br><hr><p>“I” am an architect, able to draw design plans for ordinary buildings.</p><p>One time, a foreman asked me to help on the construction site because they were short-handed and needed to move bricks from one place to another. I went.</p><p>The brick movers didn’t understand why, when moving the same bricks from the same place to the same place, my pay was higher than theirs.</p><div style="text-align: right;">(2021-04-22)</div><br><hr><p>“I” am Ultraman.</p><p>Humans always “kindly” advise me that monsters are very powerful and strong, that they have destroyed many human houses and lands, brought death and fear to many human warriors, and that I should be careful of the monsters’ attacks, respect the monsters, and not underestimate them.</p><p>I can’t be bothered to explain that I can shoot lasers just by raising my hand.</p><div style="text-align: right;">(2021-04-22)</div><br><hr><p>“I” am a captain.</p><p>I ordered my crew to search for treasure on a small island. The treasure must be there.</p><p>If you insist on asking why I am sure there is treasure on that island, it’s because other ships have gone there to search, and they are doing so very enthusiastically and on a grand scale.</p><p>Even if some crew members who have explored the island say there is nothing there.</p><p>Even if crew members who have been to larger islands say there is nothing there.</p><p>The treasure must be there.</p><p>If you insist on asking why I am sure there is treasure on that island, it’s because other ships have gone there to search, and they are doing so very enthusiastically and on a grand scale.</p><div style="text-align: right;">(2021-04-29)</div><br><hr><p>“I” am a senior player of a game.</p><p>I often talk about how fun this game is, why it’s fun, why it’s worth playing, and how promising it is.</p><p>We often discuss the gameplay, factions, strategies, upgrades, achievements, equipment, guilds, quests, operations, and more.</p><p>A novice player said this game is not fun.</p><p>A novice player said that although this game is fun, it’s not as fun as another game, not as valuable, not as promising, not as meaningful as another game.</p><p>How could I abandon the accumulation I’ve made in this game to play another game I’ve never played before?</p><p>I wouldn’t even admit that the novice player might be right.</p><p>Even if the novice player is indeed right.</p><div style="text-align: right;">(2021-05-07)</div><br><hr><p>“I” am a landlord.</p><p>Autumn has arrived, and the family needs to hire workers to harvest the wheat in the fields, both long-term and short-term workers.</p><p>I often see the workers discussing harvesting techniques, comparing who is faster, whose quality is higher, who has more experience and can quickly harvest all kinds of unevenly grown wheat.</p><p>The more skilled, articulate, and loyal workers, I naturally like more. They also take pride in this because they receive more recognition and pay than other workers.</p><p>Skilled workers have a sense of superiority. They can go to any landlord’s house to harvest wheat because they have excellent harvesting skills. Most landlords have no reason to refuse such workers. This is not a treatment that ordinary workers can enjoy; they are already considered advanced workers.</p><p>Advanced workers sometimes even teach ordinary workers harvesting techniques and share tips. When the landlord hires new workers, he will also let the advanced workers handle it, using tricky technical questions to determine whether the prospective workers can meet the landlord’s requirements.</p><div style="text-align: right;">(2021-05-26)</div><br>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;“I” am a person with a cleanliness obsession.&lt;/p&gt;
&lt;p&gt;The wealthy merchants living in villas all have a cleanliness obsession. Their</summary>
        
      
    
    
    
    
    <category term="Opinion" scheme="https://en.smallyu.net/tags/Opinion/"/>
    
  </entry>
  
  <entry>
    <title>I Don&#39;t Insult People on My Blog</title>
    <link href="https://en.smallyu.net/2021/04/23/I%20Don&#39;t%20Insult%20People%20on%20My%20Blog/"/>
    <id>https://en.smallyu.net/2021/04/23/I%20Don&#39;t%20Insult%20People%20on%20My%20Blog/</id>
    <published>2021-04-23T01:54:03.000Z</published>
    <updated>2025-08-06T10:38:27.708Z</updated>
    
    <content type="html"><![CDATA[<p>I have never and will never insult people on my blog.</p><p>Regarding the existence of the blog, my attitude has always been passive and non-rejective. I certainly don’t mind if someone finds the blog link from my Github homepage or sees the blog URL from other website accounts, but it’s also unlikely that I’ll actively tell people, “This is my blog, take a look.”</p><p>A blog is like placing a book you wrote on a public library shelf. I won’t deliberately guide others to a specific row and grid to find a particular book, but if someone stumbles upon it, they’re welcome to read it. If a reader happens to find content similar to their own behavior, would they think the book was written to mock them? Even if names are mentioned, no one would be that “narcissistic.”</p><p>For people I know in real life, the blog content might involve related people or events, and I’m slightly worried that those involved might interpret it as having “intentional implications.” For people I don’t know online, smallyu is just a drop in the ocean, insignificant, afraid of being laughed at for showing off. Besides, if many people were actually reading, I’d feel the burden and pressure, hesitant to write “content-less” stuff. That feeling is terrible and oppressive.</p><p>I remember a long time ago, I once filled in the blog link on a small blog navigation site where rankings were based on likes and clicks. At that time, it seemed to receive (at least for a period) the second-highest number of likes. For the first time, I realized that the blog content might be appreciated by someone and also felt the pressure of “being seen.” Later, I stopped actively posting the blog link anywhere. I wouldn’t do things like “posting the blog link under daily forum posts.”</p><p>The specific content of the blog is definitely not written to target anyone specifically. More often, it aims to describe a category of people who may share some common traits, using certain individuals or events as typical examples.</p><p>If someone insists on believing that a post is about them or certain events, thinking that I have opinions or dissatisfaction expressed indirectly, there is a related logic:</p><ul><li>Question: How did Mao, a librarian at Peking University, become the Chairman of the country?</li><li>Answer: He was someone who would become the Chairman and happened to be a librarian for a while.</li></ul><p>Similarly,</p><ul><li>Question: As someone with a regrettable past, what makes you think you can achieve something in the future?</li><li>Answer: Just someone who might achieve something in the future with an ordinary past.</li></ul><p>The blog’s stance is not as “someone’s friend” or “an employee of some company,” but as “someone who has known people with certain traits” or “someone who has worked at certain companies.”</p><p>So, if anyone feels “targeted,” I swear, I never even thought of those people. &#x2F;doge</p><p>Regarding life questions, I’m quite curious and somewhat blindly admire Jesus and Socrates, and I’m also very interested in Western theology and ancient Greek philosophy. I just don’t have enough free time right now, nor have I found the right way to delve into these subjects.</p><p>As for why I suddenly mention this topic, it’s actually just a precaution, including past and possible future content. Over time, with more interactions in life and increasing online content, this blog may be “accidentally” seen more often. My attitude remains the same: I won’t deliberately hide anything, nor will I actively promote anything.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;I have never and will never insult people on my blog.&lt;/p&gt;
&lt;p&gt;Regarding the existence of the blog, my attitude has always been passive</summary>
        
      
    
    
    
    
    <category term="Life" scheme="https://en.smallyu.net/tags/Life/"/>
    
  </entry>
  
  <entry>
    <title>Why Using Blockchain for Digital Currency is a Political Issue</title>
    <link href="https://en.smallyu.net/2021/04/18/Why%20Using%20Blockchain%20for%20Digital%20Currency%20is%20a%20Political%20Issue/"/>
    <id>https://en.smallyu.net/2021/04/18/Why%20Using%20Blockchain%20for%20Digital%20Currency%20is%20a%20Political%20Issue/</id>
    <published>2021-04-18T15:33:54.000Z</published>
    <updated>2025-08-06T10:38:28.725Z</updated>
    
    <content type="html"><![CDATA[<p>I originally didn’t want to mention blockchain specifically again. Due to work-related reasons, I frequently encounter related topics.</p><p>Recently, a senior technical manager complained to me that “it’s an entirely layman’s opinion to say digital currency can’t use blockchain. Even just recording large transactions of the four major banks on the blockchain is a great thing, and it can use a hierarchical transaction technology architecture to smoothly solve the issue of limited performance for small payments on the blockchain…”</p><p>My logic is very simple.</p><p>If blockchain had never appeared in the world, never existed. In this case, if “the higher-ups” required that the transaction data of major banks must be synchronized, consistent, and traceable. Could the people below achieve this?</p><p>Not only can they achieve it, but they can do it very well.</p><p>Problems that blockchain can solve can also be solved without blockchain. This is almost a well-known fact. This is also why some people say “there is no new technology in blockchain”.</p><p>Of course, the “digital currency” here specifically refers to China’s digital currency, and “blockchain” means—before discussing how to use blockchain, shouldn’t we first figure out what “blockchain” is? Strangely, it seems that no one cares about this issue.</p><p>In this regard, artificial intelligence contrasts with blockchain. What artificial intelligence can do, if the technology doesn’t keep up, it really can’t be done.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;I originally didn’t want to mention blockchain specifically again. Due to work-related reasons, I frequently encounter related</summary>
        
      
    
    
    
    
    <category term="Blockchain" scheme="https://en.smallyu.net/tags/Blockchain/"/>
    
  </entry>
  
  <entry>
    <title>Hey, Long Time No See</title>
    <link href="https://en.smallyu.net/2021/04/11/Hey,%20Long%20Time%20No%20See/"/>
    <id>https://en.smallyu.net/2021/04/11/Hey,%20Long%20Time%20No%20See/</id>
    <published>2021-04-10T17:31:14.000Z</published>
    <updated>2025-08-06T10:38:27.656Z</updated>
    
    <content type="html"><![CDATA[<p>In the movie “Joker,” there is a line, “I can’t remember what happened before…,” that resonates with me.</p><p>Perhaps only those with unique experiences like Haizi can write such beautiful verses as “Facing the sea, with spring blossoms.” However, this dream seems simple, but it’s a beachfront house…</p><p>Here are some discussions about learning foreign languages:</p><ol><li><p>A netizen mentioned in response to my question, “Can you learn Japanese at 50?” that learning a foreign language requires at least a thousand hours.</p></li><li><p>A female author in a video said that when she first arrived in the US, she couldn’t understand English at all. Then she watched talk shows every day. Three years later, she suddenly realized she could understand them. She later said that learning English requires watching video programs, especially talk shows, and not relying on reading materials or checking words, as there are too many English words to look up.</p></li><li><p>Luo Yonghao mentioned in a speech that he spent more than a year, like being in prison, learning English and became a GRE teacher at New Oriental. Later, one of the teachers at his training school became a GRE introductory course teacher after about six months.</p></li><li><p>In a speech video, the speaker mentioned that she taught English in many countries. Once, she encountered an audience member who asked questions in English, and the listener’s English level was clearly low, but interestingly, communication with this listener and others using English was very smooth, even though it was just low-level English.</p></li></ol><p>I’m quite concerned about the thousand-hour figure.</p><ol><li>If you watch 1 hour of video a day, 1000 hours would take nearly 3 years.</li><li>If you study 8 hours a day, it would be about 3000 hours in a year. Of course, not everyone can maintain 8 hours a day.</li><li>If you study 6 hours a day, it would be about 1000 hours in 6 months.</li></ol><p>The numbers are coincidental, but it can be generally concluded that skill mastery is strongly correlated with the amount of study time, though not linearly.</p><p>Although I didn’t previously agree with the “work experience” evaluation method (like in ancient China’s bureaucratic system, where promotions only happened after a certain number of years), a skill indeed requires enough time to be proficient. What’s more frustrating is that skill mastery is not sudden; you won’t be unable one day and suddenly proficient the next. Such surprises don’t exist in the real world.</p><p>The more common situation is understanding 1 word in a sentence yesterday, 2 words ten days later, and 10 words a hundred days later, but a sentence has 20 words, so understanding 10 words doesn’t help much. Will understanding 20 words in two hundred days be enough? Sentences vary, and so do tone, intonation, and speed. A more accurate analogy would be an image gradually becoming clearer from a low resolution; you can’t accurately identify the content until it’s fully clear, but you can get some information as it becomes clearer, and the resolution increases unevenly.</p><p>Sherlock Holmes in “Sherlock” has a persona of knowing every skill needed for investigation. He can tell someone’s three-day itinerary from the mud on their shoes, knows various gun models, bullet diameters, and the use of firearms in different situations. He even keeps a criminal’s head in his fridge to study the coagulation process of saliva after death. Yet, he doesn’t know common knowledge, like the moon orbits the earth, and the earth orbits the sun.</p><p>Guess what I’m trying to say? Perhaps, and definitely, omniscience is unnecessary, whether it’s knowledge or skills. If one must master a skill to a certain extent, it’s only right to say that the current situation is just right. This view aligns with Hu Shi’s “Why fear endless truth” :P</p><p>By the way, my categorization of “knowledge” and “skills” is that knowledge can be known and understood in a short time, while skills are many pieces of knowledge combined to solve a class of problems. Knowledge can be mastered in 3 minutes, but skills require 3 + 3 + 3 +… Judging someone’s skill level based on a few pieces of knowledge is incomplete.</p><p>Abruptly changing the topic, I’ve recently discovered an interesting board game called Script Murder. Although often unsatisfactory, it always leaves some interest. There are two major acting systems for theater actors, the Brechtian system and the Stanislavski system, also known as the experiential and representational. In the game, I lean towards the experiential… Of course, my feeling about this game is: I know how to play the game, but not how to play people. Games have good and bad, scripts have good and bad, players have good and bad, experiences have good and bad, and moods have good and bad…</p><p>There’s nothing new under the sun, but the sun always rises.</p><p>I also want a house facing the sea, with spring blossoms.</p><p>Hello, tomorrow.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;In the movie “Joker,” there is a line, “I can’t remember what happened before…,” that resonates with me.&lt;/p&gt;
&lt;p&gt;Perhaps only those with</summary>
        
      
    
    
    
    
    <category term="Life" scheme="https://en.smallyu.net/tags/Life/"/>
    
  </entry>
  
  <entry>
    <title>Blog Theme Sharing Plan (Draft)</title>
    <link href="https://en.smallyu.net/2021/02/11/Blog%20Theme%20Sharing%20Plan%20(Draft)/"/>
    <id>https://en.smallyu.net/2021/02/11/Blog%20Theme%20Sharing%20Plan%20(Draft)/</id>
    <published>2021-02-11T06:48:31.000Z</published>
    <updated>2025-08-06T10:38:27.640Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Preface"><a href="#Preface" class="headerlink" title="Preface"></a>Preface</h3><p>I wrote this draft two months ago, and only remembered it today (04.10), so I decided to publish it. One reason I didn’t publish it earlier is that I couldn’t keep the project well-maintained. It’s challenging to create software that everyone likes and finds suitable, especially when it comes to blog themes that are dependent on various environment versions. Borrowing a line from the movie “Legend of the Demon Cat,” “The events are fake, but the emotions are real.” Best wishes.</p><h3 id="Main-Text"><a href="#Main-Text" class="headerlink" title="Main Text"></a>Main Text</h3><p>The blog theme I’m currently using is modeled after Yining Wang’s blog <a href="http://www.yinwang.org/">Of course I’m talking nonsense</a>. A few years ago, I open-sourced the mimicked blog theme on Github (<a href="https://github.com/smallyunet/hexo-theme-yinwang">smallyunet&#x2F;hexo-theme-yinwang</a>). Although I frequently update and optimize my own blog theme, the open-source repository hasn’t been updated for a long time.</p><p>On one hand, I’m unsure whether imitating the theme constitutes infringement. On the other hand, I’ve always been troubled by the fact that I don’t want to “earn stars” through such a project. I don’t even want this project to appear on my GitHub homepage, so I had to start customizing the project panel on my homepage. Overall, since this isn’t my original work, it’s like Xia Luo in “Goodbye Mr. Loser,” who became famous in Xihong City by using Jay Chou’s works after traveling back to 1997, only to realize those things weren’t his. He just had a beautiful dream.</p><p>Now, I want to continue maintaining this open-source blog theme project.</p><p>Hiding it from others or making it uncomfortable for others to use is obviously wrong. Ignorance won’t stop the spread of truth; useful things should be better utilized. I even hope this theme style can become a symbol—a symbol of those inspired by Yining Wang, a symbol of people with integrity and kindness, a symbol of those with true insight.</p><p>This isn’t religious fervor. We don’t blindly trust or worship anyone. We advocate <a href="http://www.yinwang.org/blog-cn/2017/11/01/power-of-reasoning">the power of reasoning</a> (by Yining Wang). We don’t form cliques, we don’t promote or force others to use or not use something, we don’t force others to believe or disbelieve something. We idolize someone and consider ourselves their “fans” not because we feel an inexplicable sense of superiority from belonging to a certain group, but because we have learned many valuable and indescribable things from them. When we say we “like someone,” we’re not saying that person is so great, but rather, “we’ve learned something from them, and because of what we’ve learned, we are also great.”</p><p>It’s quite surprising that I suddenly thought of this today. It’s a bit unexpected, a bit joyful, and a bit fearful and anxious. Today happens to be Lunar New Year’s Eve. Happy New Year.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h3 id=&quot;Preface&quot;&gt;&lt;a href=&quot;#Preface&quot; class=&quot;headerlink&quot; title=&quot;Preface&quot;&gt;&lt;/a&gt;Preface&lt;/h3&gt;&lt;p&gt;I wrote this draft two months ago, and only</summary>
        
      
    
    
    
    
    <category term="Plan" scheme="https://en.smallyu.net/tags/Plan/"/>
    
  </entry>
  
  <entry>
    <title>Blockchain: The Cornerstone of the Next Generation Digital Identity Authentication System</title>
    <link href="https://en.smallyu.net/2020/12/08/Blockchain:%20The%20Cornerstone%20of%20the%20Next%20Generation%20Digital%20Identity%20Authentication%20System/"/>
    <id>https://en.smallyu.net/2020/12/08/Blockchain:%20The%20Cornerstone%20of%20the%20Next%20Generation%20Digital%20Identity%20Authentication%20System/</id>
    <published>2020-12-08T12:02:38.000Z</published>
    <updated>2025-08-06T10:38:27.640Z</updated>
    
    <content type="html"><![CDATA[<p>How can one prove “I am me” in the world of the internet? Authenticate identity information on site A, and then need to authenticate again on site B? Taking a photo with an ID card and uploading it, manual verification—too cumbersome? Multiple accounts and passwords that are hard to remember, easy to mix up, and difficult to manage? The concept of Self-sovereign identity (SSI) is precisely the idea that can solve these problems.</p><p>SSI is a concept in the digital identity movement, where only the user owns all and complete digital identity information, without other managers and organizations involved. In the concept of SSI, users have their own decentralized identifiers (DIDs) and can fully control their identity information. They can use, update, or delete information at any time. Users can create and manage their own verifiable credentials and decide when to use and share their credentials without needing to request authorization from centralized institutions.</p><p>Using an SSI system, all key information can be managed through a digital identity wallet, allowing users to log in to all websites with one account. In the wallet terminal, users can apply to authoritative institutions for certificates such as ID cards, driver’s licenses, and residence permits, all stored in digital form on phones or computers. Digital certificates are machine-readable and verifiable, allowing safe presentation to third-party applications. Third-party applications can directly verify the certificate’s validity without human intervention and without the issuing institution’s participation.</p><p>Thanks to the continuous development of blockchain technology, the realization of the SSI concept is gradually becoming possible. Blockchain systems are inherently decentralized, with unique data structure designs and cryptographic technology applications. Combined with consensus algorithms’ excellent capabilities in multi-node data synchronization, blockchain can protect data privacy and security. Once data is written into the system, no one can tamper with it, providing a highly credible storage environment. In constructing an SSI system, using blockchain as a verifiable data registry is undoubtedly the best choice.</p><p>There are already many precedents for SSI. In 2017, the Sovrin Foundation released the world’s first public distributed ledger network for self-sovereign digital identity. The entire system runs on open standards and the open-source Sovrin protocol, maintained by the Linux Foundation’s Hyperledger Indy project. Sovrin’s white paper in 2018 posed and answered the question, “Why is there no certificate to prove identity in the network world like in the physical world? Until the advent of blockchain technology, we solved this problem!” Combining W3C’s DIDs, Sovrin proposed a complete solution for digital identity and credentials. Sovrin’s idea has always been clear: to build and use an open, accessible blockchain network like Bitcoin and Ethereum.</p><p>eSSIF-Lab (European Self-Sovereign Identity Lab) is another case. The European Blockchain Partnership proposed the EBSI (The European Blockchain Services Infrastructure), a cross-European distributed node network providing cross-border public services, with 28 member states signing related declarations. The eSSIF-Lab project, funded by the European Commission, aims to promote SSI as the next-generation open, trusted, and secure digital identity solution. On July 23, 2014, the EU established the eIDAS (electronic IDentification, Authentication and trust Services) regulation for electronic transactions in the common EU market. In May 2019, eIDAS announced support for self-sovereign digital identity based on W3C-related specifications.</p><p>Microsoft has also been active in this field. In October 2018, Microsoft released the white paper “Decentralized Identity,” introducing the technical solution for constructing a decentralized digital identity system based on blockchain. This includes DIDs specification, decentralized data systems, DID user terminals, DID universal resolvers, DID identity hubs, DID authentication systems, decentralized clients, and services. It detailed the components of each module and the interaction processes of various roles in the system, providing an excellent template for constructing SSI systems. Currently, Microsoft offers an open service platform to experience related products and capabilities.</p><p>In addition, uPort on Ethereum and IPFS networks, Blockstack with its self-developed blockchain and third-party DApp support, and ShoCard, adaptable to the Bitcoin network, are excellent examples. Domestic companies and institutions are also working in this area. For example, AntChain provides Decentralized Identity Service (DIS), Tencent Cloud’s digital identity solutions, and WeBank’s WeIdentity, a blockchain-based distributed multi-center technical solution, all utilizing blockchain’s decentralized, highly credible data characteristics to construct reliable digital identity identification and authentication systems.</p><p>Blockchain is an advanced technology with tremendous potential, broad development prospects, and application space. Whether in national policy support or practical application cases, the countless possibilities of blockchain in the future are evident. We are also actively exploring and promoting the development of blockchain-related technologies and application scenarios, combining blockchain with homomorphic encryption, federated learning, multi-party computation, zero-knowledge proofs, and other cutting-edge technologies to use the best technical capabilities to usher in the next internet era.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;How can one prove “I am me” in the world of the internet? Authenticate identity information on site A, and then need to authenticate</summary>
        
      
    
    
    
    
    <category term="Blockchain" scheme="https://en.smallyu.net/tags/Blockchain/"/>
    
  </entry>
  
  <entry>
    <title>Can Web Technologies Achieve 3D Modeling?</title>
    <link href="https://en.smallyu.net/2020/09/20/Can%20Web%20Technologies%20Achieve%203D%20Modeling?/"/>
    <id>https://en.smallyu.net/2020/09/20/Can%20Web%20Technologies%20Achieve%203D%20Modeling?/</id>
    <published>2020-09-20T14:58:39.000Z</published>
    <updated>2025-08-06T10:38:27.643Z</updated>
    
    <content type="html"><![CDATA[<p>Can web technologies (HTML5, CSS3, JavaScript) achieve stunning 3D modeling or even 3D animation effects? For now, I think not. For example, consider expecting such a page effect:</p><img src="preview.png" class="no-shadow" width="100%"><p>d3.js is out of consideration; it is merely a data visualization tool and is not in the domain of 3D modeling.</p><p>Three.js seems to be the more popular 3D modeling library at present. If three.js can do it, how should it be done? The initial idea is to draw a cube like this:</p><img src="cube_target.png" class="no-shadow" width="20%"><p>A cube in 3D modeling is equivalent to “hello world” in programming; it’s very easy to create:</p><img src="cube_1.png" class="no-shadow" width="20%"><p>Add lighting to the scene, and the cube will no longer be pitch black. Then, add color to the cube, change the scene’s background color, and move the light above the cube to make it look decent:</p><img src="cube_2.png" class="no-shadow" width="20%"><p>The edges of the target cube are glowing and gradient-colored. How to add an edge to the cube? The cube itself does not have this attribute; you can only draw another cube using linear materials (LineBasicMaterial in three.js, while the cube uses MeshPhongMaterial) and overlay it on the solid cube:</p><img src="cube_3.png" class="no-shadow" width="20%"><p>How to make the linear cube glow? Linear materials (LineBasicMaterial) cannot use gradient colors; only shader materials (ShaderMaterial) can use gradient colors. Shader materials can achieve colorful effects, like this (from <a href="https://stackoverflow.com/questions/52614371/apply-color-gradient-to-material-on-mesh-three-js">StackOverflow</a>):</p><img src="line_1.png" class="no-shadow" width="20%"><p>But here lies the problem. In three.js, rendering an object requires two parameters: geometry and material. Linear materials and shader materials are both types of materials. (TorusKnotGeometry is the geometric shape used in the above image)</p><pre><code>Line Cube = EdgesGeometry + LineBasicMaterialGradient Line = TorusKnotGeometry + ShaderMaterial</code></pre><p>Combining linear materials and shader materials (LineBasicMaterial and ShaderMaterial) is illogical; I have not found a way to achieve glowing cube edges. Applying the shader to the cube results in this effect (color from 0x215ec9 to 0x000000):</p><img src="cube_4.png" class="no-shadow" width="20%"><p>So what next? I realized that even if a nice-looking cube is achieved, it’s still far from rendering the entire image. For instance, how to achieve such text effects?</p><img src="part_1.png" class="no-shadow" width="30%"><p>Three.js’ Texture itself works well, but how to stably place text on the cube with a transparent black background box? Moreover, what about these colorful lines and precise arrow directions:</p><img src="part_2.png" class="no-shadow" width="15%"><p>And the positioning layout and animation effects of more than a dozen elements on the whole picture.</p><p>I believe three.js (WebGL) can technically achieve such effects. Even the official examples include web games. However, if developing a web game, image assets would definitely be used. Where do these assets come from? Back to tools like PS and AI. If such productivity tools are used, there is no need to write layouts and animations in JS. Pure web technologies seem difficult to fully solve the problem of 3D modeling. H5 animations face a similar situation.</p><p>Another issue with coding for 3D modeling is its non-intuitiveness. Coding defies intuition and visuals, which might work for writing web or APP interfaces (2D). If it were possible to directly place cubes and lines on a canvas, drag to change positions with a mouse, adjust colors, and add various other elements, like playing a game (such as Minecraft), wouldn’t it be much better than coding… isn’t that Adobe Animate?</p><p>Unfortunately, Adobe Animate has no Linux version, and the Linux alternative, Blender, has some performance issues.</p><img src="blender.png" class="no-shadow" width="100%"><p>Returning to the expected effect, the image comes from a big-screen UI <a href="https://www.zcool.com.cn/work/ZMjg2NTA1Njg=.html">design demonstration</a>. The original effect is not actually 3D; the tools used are PS and AI. So, can web technologies achieve this under the premise of needing only 2D effects? If code is used to create various graphics, it still boils down to 3D modeling issues. The simplest way is to take a background image and overlay text on it. Where does the background image come from?</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Can web technologies (HTML5, CSS3, JavaScript) achieve stunning 3D modeling or even 3D animation effects? For now, I think not. For</summary>
        
      
    
    
    
    
    <category term="Work" scheme="https://en.smallyu.net/tags/Work/"/>
    
  </entry>
  
  <entry>
    <title>Do the Right Thing, Then Wait to Get Fired</title>
    <link href="https://en.smallyu.net/2020/08/22/%22Do%20the%20Right%20Thing,%20Then%20Wait%20to%20Get%20Fired%22/"/>
    <id>https://en.smallyu.net/2020/08/22/%22Do%20the%20Right%20Thing,%20Then%20Wait%20to%20Get%20Fired%22/</id>
    <published>2020-08-22T08:17:53.000Z</published>
    <updated>2025-08-06T10:38:27.587Z</updated>
    
    <content type="html"><![CDATA[<p>“Do the right thing, then wait to get fired.” This quote is from a blog post by Google engineer Tan Chade-Meng titled “<a href="http://chademeng.com/me/do-the-right-thing-wait-to-get-fired/">DO THE RIGHT THING, WAIT TO GET FIRED</a>.” The content of this blog was quoted in a book about programmer collaboration, “<a href="https://book.douban.com/subject/11154471/">Team Geek: A Software Developer’s Guide to Working Well with Others</a>“ (P126), which was then cited by CoolShell’s article “<a href="https://coolshell.cn/articles/17972.html">My View on Performance Assessment</a>.” I first saw this quote in CoolShell’s article. After seeing it, it stayed in my mind, and now I must copy it here:</p><blockquote><p>New Google employees (we call “Nooglers”) often ask me what makes me effective at what I do.  I tell them only half-jokingly that it’s very simple: I do the Right Thing for Google and the world, and then I sit back and wait to get fired.  If I don’t get fired, I’ve done the Right Thing for everyone.  If I do get fired, this is the wrong employer to work for in the first place.  So, either way, I win.  That is my career strategy.</p></blockquote><p>What tremendous confidence and strength it takes to say such words! Although the original author also mentioned that this is a half-joking statement, and despite having some influence and having done some “right” things—without status and position, it is indeed difficult to say such words. But the spirit behind this quote will always encourage and inspire us—you know who I’m talking about, enduring and everlasting. There are also many articles discussing the meaning of this quote, such as “<a href="https://brendansterne.com/2013/07/11/do-the-right-thing-wait-to-get-fired/">Do the Right Thing, Wait to Get Fired</a>.”</p><p>Of course, this quote cannot be reversed. It does not mean that waiting to be fired implies doing the right thing. This quote also does not apply to those who like to idle away, because effort does not necessarily yield results, but not trying is definitely comfortable :-P I need to seriously think about what the “right thing” is and how to do something “valuable.”</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;“Do the right thing, then wait to get fired.” This quote is from a blog post by Google engineer Tan Chade-Meng titled “&lt;a</summary>
        
      
    
    
    
    
    <category term="Work" scheme="https://en.smallyu.net/tags/Work/"/>
    
  </entry>
  
  <entry>
    <title>Giving Blockchain a Definition</title>
    <link href="https://en.smallyu.net/2020/08/09/Giving%20Blockchain%20a%20Definition/"/>
    <id>https://en.smallyu.net/2020/08/09/Giving%20Blockchain%20a%20Definition/</id>
    <published>2020-08-09T08:06:45.000Z</published>
    <updated>2025-08-06T10:38:27.655Z</updated>
    
    <content type="html"><![CDATA[<p>For a long time, blockchain seemed to lack a clear definition. The terms often associated with blockchain are decentralization, traceability, immutability, credit-based, and the next-generation value internet. These are all characteristics of blockchain, not its components. These terms describe what blockchain has, but not why it has those features or why it needs them.</p><p>It seems that many things don’t have clear definitions. For instance, what is a computer? Everyone knows it’s something you can play games on and browse the internet. A slightly more technical answer might describe it as a machine based on the Von Neumann architecture with five components. But a computer can simply be considered “a machine that performs computations.” What is a refrigerator? “A cabinet that stores items and has freezing functions” suffices. What is a design pattern? A software program design paradigm. What is a microservice? A software architecture pattern. So, what is blockchain? Interestingly, the term blockchain (blockchain) has no clear origin; even the Bitcoin white paper only mentions a “chain of blocks.”</p><p>I used to have some immature understandings of blockchain. Although not entirely incorrect, they were unclear, especially regarding the question of what blockchain is. Now, I believe the definition of blockchain should be:</p><blockquote><p>Blockchain is a type of data collaboration software, or in other words, blockchain is software used to synchronize data.</p></blockquote><p>Data collaboration software determines what data structure to use and what communication mechanism to synchronize specific data. Blockchain is not a database; it doesn’t store data. Storing data is left to actual databases. Blockchain doesn’t care how data is stored on the disk, whether the storage structure is reasonable, whether the utilization rate is high, or whether the processing speed is fast. Blockchain cares about how data is synchronized to other machines, how to synchronize it timely, and whether the data synchronized from other machines has issues. In a sense, blockchain is an implementation of data collaboration software.</p><p>Because it is data collaboration software, blockchain is multi-node and decentralized, which is self-evident.</p><p>Traceability means that transactions can be traced as long as there are relationships between the data, which is determined by the data model, such as UTXO.</p><p>The chain-like data structure is to facilitate the verification of data integrity by the data collaboration software, similar to using md5 to determine if a file is complete. This data structure is not necessary; comparing the entirety of data can achieve the same goal, although very inefficiently. Using encryption algorithms to summarize data and place it in the next segment essentially ensures that a large block of data is complete, nothing more.</p><p>As for immutability, it is a feature brought by data collaboration software. Blockchain immutability doesn’t mean data can’t be modified; it means that modifications are not recognized by other nodes. This is different. Data immutability is a technical issue. For example, not providing an interface to update data leaves users with no way to modify data, which can be controlled by technical means. Not accepting modifications from other nodes is a mechanism, and this issue is beyond the realm of technology.</p><p>Is blockchain development currently constrained by technology? The theory of computation includes two main parts: computability theory and complexity theory. Computability theory determines whether a problem can be solved algorithmically, and complexity theory aims to improve algorithm efficiency. Is this related to blockchain? Stepping back, does blockchain need computation? It doesn’t; it’s not related and not constrained. Here’s an interesting thought experiment: What would happen if everyone in the world joined a WeChat group? At least the messages on the screen would be overwhelming. What would happen if all the world’s data were on one blockchain? So, ultimately, blockchain is a mechanism issue, not a technical one.</p><p>Bitcoin and blockchain are two concepts. Bitcoin is a transaction system that uses blockchain for data synchronization. Bitcoin is primarily a transaction system, with data synchronization as a secondary need. This is the conceptual mistake I made earlier, equating blockchain with Bitcoin. Many people with a vague understanding of blockchain also associate blockchain with digital currencies like Bitcoin. I remember attending a sharing session last year where the speaker, a director from a well-known exchange, talked about blockchain and national policies, but the whole session was about Bitcoin anecdotes.</p><p>Blockchain is a component of Bitcoin. The author of Bitcoin recognized the value of Bitcoin and released the software and white paper. Why didn’t the author abstract the concept of blockchain and release a general-purpose software and manual? Was it because the author didn’t realize blockchain’s potential value? No. Blockchain was proposed because people saw the value of Bitcoin and wanted to replicate its success, so they extracted Bitcoin’s technical components and called it blockchain. Unfortunately, Bitcoin is a cleverly designed system, and extracting certain technical features alone cannot produce the expected value, which is also blockchain’s current situation. This is a modern version of imitating without understanding the essence.</p><p>Smart contracts were proposed as early as 1997 by a financial and legal practitioner. “Smart” refers to automatically executing certain actions when conditions are met, compared to paper contracts. Indeed, it was a bit smarter, especially in an era when digitalization wasn’t widespread, making the term “smart” not an exaggeration. Moreover, the author explicitly stated that smart contracts did not use artificial intelligence.</p><p>Abstracting smart contracts, they automatically execute actions when conditions are met, similar to conditional statements in programming languages. In fact, most modern smart contracts are implemented using Turing-complete programming languages. The fatal problem of describing contracts with programming languages is that their expressive power is much weaker than natural language. If you try to rewrite all the clauses in an insurance policy using a programming language—“If X happens, then compensate Y…”—the cost of rewriting is too high. Furthermore, legal clauses often require professional lawyers and judges to interpret and judge. The logic of the real world is far more complex than program logic, which programming languages cannot handle.</p><p>A data synchronization software should not be venerated. Blockchain has been deified and demonized. Therefore, one cannot say blockchain has no value because it is merely a tool software.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;For a long time, blockchain seemed to lack a clear definition. The terms often associated with blockchain are decentralization,</summary>
        
      
    
    
    
    
    <category term="Blockchain" scheme="https://en.smallyu.net/tags/Blockchain/"/>
    
  </entry>
  
  <entry>
    <title>Why Do Constructors Have No Return Value?</title>
    <link href="https://en.smallyu.net/2020/05/16/Why%20Do%20Constructors%20Have%20No%20Return%20Value_/"/>
    <id>https://en.smallyu.net/2020/05/16/Why%20Do%20Constructors%20Have%20No%20Return%20Value_/</id>
    <published>2020-05-16T04:19:44.000Z</published>
    <updated>2025-08-06T10:38:28.722Z</updated>
    
    <content type="html"><![CDATA[<p>Just now, a classmate asked me a question: What does it mean to <code>new</code> a member function in C++?</p><p>…I thought to myself, a <code>new</code> member function? Is there such an operation?</p><p>Later I asked, is the name of this member function the same as the class name?</p><p>He said yes, it’s the constructor.</p><p>…Isn’t that just <code>new</code>ing an object?</p><p>Then he asked a profound question: Why don’t constructors have return values?</p><p>I said that <code>new</code> is for the class, the part after <code>new</code> refers to the class name, not a member function.</p><p>But the class doesn’t have parameters?</p><p>The constructor has parameters.</p><p>But the constructor has no return value?</p><p>Huh?</p><img src="face.jpeg" width="30%" /><p>Here is a simple piece of code:</p><pre><code class="C++">#include &lt;iostream&gt;using namespace std;class Test&#123;    public:        Test(int num);&#125;;// Constructor, has parameters but no return valueTest::Test(int num)&#123;    cout &lt;&lt; num &lt;&lt; endl;&#125;int main()&#123;    // Object assigned to a variable    Test* test = new Test(1);    return 0;&#125;</code></pre><p>Actually, you can think of this scenario without looking at the code. When you <code>new</code> an object, is the variable after <code>new</code> referring to the class name or the method name?</p><p>If it refers to the class name, the class itself has no parameters, and no return value. Moreover, the behavior of the <code>new</code> keyword in the code would be different from other statements. Additionally, the class has a default no-argument constructor. If <code>new</code> is for the class, why do we need the default constructor?</p><p>If it refers to the function name, the constructor has no return value. As in the code above, it’s clear that <code>new Test(1)</code> is assigned to <code>Test* test</code>.</p><p>Why don’t constructors have return values? Because when a constructor executes, it tells the compiler how much space to allocate in memory, initializes member variables, determines the address of <code>this</code>, and after doing these things, it doesn’t allow the user to customize the return type? Because the return value of the constructor is always and must be itself, it’s not transparent to the user (why does the compiler “presumptuously” do this)?</p><p>Why don’t constructors have return values? I don’t know the answer to this question, nor am I very interested in knowing. But this question has given me great inspiration and a lot of shock. The phrase “new member function” is really a novel idea. We take too many things for granted, as a matter of course, thinking it should be that way, but rarely ask why it is that way, and rarely seriously think about and understand many things.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Just now, a classmate asked me a question: What does it mean to &lt;code&gt;new&lt;/code&gt; a member function in C++?&lt;/p&gt;
&lt;p&gt;…I thought to myself,</summary>
        
      
    
    
    
    
    <category term="design" scheme="https://en.smallyu.net/tags/design/"/>
    
  </entry>
  
  <entry>
    <title>About Human Abilities, Experiences, and...</title>
    <link href="https://en.smallyu.net/2020/05/03/About%20Human%20Abilities,%20Experiences,%20and.../"/>
    <id>https://en.smallyu.net/2020/05/03/About%20Human%20Abilities,%20Experiences,%20and.../</id>
    <published>2020-05-03T13:50:15.000Z</published>
    <updated>2025-08-06T10:38:27.632Z</updated>
    
    <content type="html"><![CDATA[<p>Lately, there doesn’t seem to be anything particularly special going on. The amount of work has increased compared to before, occupying a lot of my time. In the gaps outside of work, it seems I don’t have much energy to focus on learning.</p><p>The content on this blog roughly falls into two or three categories: one is technical stuff I’ve thought about or learned, another is work and life-related things that I’ve encountered or thought about which sparked some insights, and the third category might just be daily logs, fantasies, and pure records of what happened. Ideally, the frequency of blog updates would be about every two weeks to a month; too short a time frame leaves little to say, and too long feels a bit too long. If there’s nothing to write or I don’t feel like writing for a long stretch, it means something dangerous has happened—either I’ve become lax in thinking or there are abnormal psychological issues. So, the blog can also serve as a mirror for self-reflection.</p><p>Lately, I’ve been struggling with a point that is difficult to conclude.</p><p>(1)</p><p>A while back on a weekend, a grad school friend asked me a basic operational question. It was about a C++ project cloned from Github that threw errors when opened in VS2012, saying it couldn’t find files. I rarely touch C++, but I quickly looked into it. The project is called <a href="https://www.wxishiko.com/wxCharts/">wxCharts</a>, a chart UI library, and almost none of the header files could be found during compilation. His professor told him to add external dependency libraries in the settings, but even after doing so, the header files were still missing.</p><p>I suggested picking one of the missing files and searching for it on the disk, but no results…</p><p>Later, I checked wxCharts’ official website and found out it relies on <a href="https://www.wxwidgets.org/">wxWidgets</a>. wxWidgets is a GUI library, and wxCharts is just a component of this GUI library. After testing locally, I found that compiling and installing wxWidgets allowed wxCharts to compile successfully.</p><p>The cause was found, but he said he had already installed wxWidgets. I wasn’t sure if the <code>build</code> in Windows VS was the same as <code>make install</code> in Linux, so I suggested a few options: one, copy the wx folder under wxWidgets to wxCharts (the wx folder is the default dependency folder for the project, similar to the src directory in a Go project); two, try placing the wxCharts source code into the wxWidgets project and see if it compiles; three, reinstall wxWidgets, making sure to install it globally and configure it in the environment variables.</p><p>After some fuss, we finally managed to locate the header files. There was an issue with the path configuration for external dependencies, using the wrong environment variable as the path, and redundantly referencing incorrect paths. But compilation still failed, as certain files couldn’t be found. More tweaking revealed that besides the header files, dynamic dependency libraries also needed to be included, and the directories for the production and debug versions were different, with the debug version having a ‘d’ suffix…</p><p>The problem we faced was straightforward—missing project dependencies. If it had been a Java project, it would have been a piece of cake (although even some colleagues with years of experience sometimes struggle with such low-level issues). This friend is someone I get along well with; we used to play “Honor of Kings” together in college. I have a bit of an understanding of his abilities—he might be strong academically but is almost a complete novice in computer science. Yet, academically, his undergraduate performance wasn’t as good as mine. It was his sincere effort during the year or so of grad school prep that made the difference.</p><p>A minor realization I had was that he’s now a grad student at a fairly decent 211 university, while my degree is still from a non-prestigious undergrad institution. Our educational levels differ significantly. As for abilities, I can only say that once there was an opportunity to go to grad school in front of me, I didn’t cherish it. Even after losing it, I didn’t feel a tinge of regret. If I could go back, I’d still make the same decision. If I had to put a time frame on it, I’d hope it’s in my lifetime.</p><p>(2)</p><p>I once mentioned a colleague who constantly perplexes me with their practical skills and sense of responsibility. Yet, after encountering a few issues, I realized they indeed have rich development experience that’s hard to refute.</p><p>We faced a rather simple recursion problem. I hadn’t figured out whether an object passed into a function is passed by value or reference.</p><pre><code class="JavaScript">function a() &#123;    obj = &#123; &quot;a&quot;: 1 &#125;    b(obj)    console.log(obj)&#125;function b(obj) &#123;    // Method 1    obj = 1    // Method 2    obj = &#123; &quot;a&quot;: 2 &#125;    // Method 3    obj.a = 2&#125;</code></pre><p>I had to clarify this to use recursion correctly. Method 1 assigns a new value to the object, Method 2 assigns a new object to the parameter, and Method 3 changes the object’s property. At the time, I had no concept and wondered if it could be solved using the prototype chain. I knew she wasn’t clear on this either, but she tentatively mentioned whether it was related to the stack and heap, then dropped it uncertainly.</p><p>I thought it was unrelated; I thought she was just guessing. I was wrong.</p><p>Objects are passed by reference, no doubt about that. However, whether the object’s properties change depends on whether the change is in the stack space or heap space. Assigning a new value to an object, whether simple or complex, will point the object’s variable to a new stack address, so the object’s properties won’t change. Using Method 3 changes the contents of the heap the object points to, thus changing the original object’s properties.</p><p>So, in fact, experience is useful and difficult to surpass easily, as experience cannot be gained through shortcuts.</p><p>(3)</p><p>Abilities are acquired through experience. Strong abilities can help acquire more advanced experiences more quickly and efficiently, which in turn strengthens abilities.</p><p>Perhaps abilities and experience are complementary, similar to the so-called “experience and insight.” Here, “abilities” indeed have a hint of “insight.” Sometimes during recruitment, it feels like the recruiters emphasize years of experience, as if hiring more experienced people is a bargain compared to those with less experience. But, regarding abilities and experience…</p><p>Recently, I downloaded a music composition software and tried it out. Composing music is actually very challenging, with skill requirements vastly different from programming despite the similar term. Now, with various training courses and online classes, programming has virtually no entry barrier. As we enter an era of “programming for everyone,” how will we face this world? Future programming might not permeate life with MVC, ORM, etc., but an IoT device, automated equipment, or future versions of iOS Shortcuts might still need a bit of “programming” logic to better suit human personalized living habits.</p><p>PS:</p><img src="chortcut.png" width="30%" /><center>iOS 13's Shortcuts already support basic statement logic</center>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Lately, there doesn’t seem to be anything particularly special going on. The amount of work has increased compared to before, occupying</summary>
        
      
    
    
    
    
    <category term="Learning" scheme="https://en.smallyu.net/tags/Learning/"/>
    
  </entry>
  
  <entry>
    <title>Understanding the Actor Model Through Erlang</title>
    <link href="https://en.smallyu.net/2020/03/31/Understanding%20the%20Actor%20Model%20Through%20Erlang/"/>
    <id>https://en.smallyu.net/2020/03/31/Understanding%20the%20Actor%20Model%20Through%20Erlang/</id>
    <published>2020-03-31T04:47:59.000Z</published>
    <updated>2025-08-06T10:38:28.714Z</updated>
    
    <content type="html"><![CDATA[<p>The Actor Model is a broad concept that was proposed in the last century. It views an actor as a whole, which can be an atomic variable, an entity, or a thread. Actors communicate with each other, and each actor has its own state. Upon receiving messages from other actors, it can change its state or perform other actions. When discussing the Actor Model, examples such as Erlang, Elixir, or Akka are often cited as they all implement the Actor Model to some extent.</p><p>Front-end MVVM frameworks like React and Vue have their own data flow management frameworks, such as Redux and Vuex. These frameworks include concepts like Action, Reducer, and State, which can sometimes be confusing. As front-end development becomes more complex, some elements may be borrowed from the back-end, like TypeScript’s type system. I am curious if there is a conceptual similarity between actions in these front-end frameworks and the Actor Model in the back-end.</p><p>In essence, actions are simple, and the underlying code is also simple. In a reducer, different operation types are judged using switch, and different methods are called. The simplest form is a method action that changes the value of the global variable state. The Redux documentation states that its design is derived from the Flux architecture. The origin of the Flux architecture is unclear, but it is unlikely to be inspired by the Actor Model.</p><pre><code class="JavaScript">let state = nullfunction action(val) &#123;  state = val&#125;</code></pre><p>Erlang is an old programming language and is a typical language inspired by the Actor Model. Understanding concepts in isolation can be abstract, so starting with a specific, concrete language might help explore these theories. For example, learning FP through Haskell is much more effective than through Java. Elixir is a language based on the Erlang VM, and its relationship with Erlang is similar to that of Scala and Java, making Erlang’s syntax relatively simple and clean.</p><h3 id="Erlang"><a href="#Erlang" class="headerlink" title="Erlang"></a>Erlang</h3><p>Erlang code blocks end with <code>.</code>. A code block can be a single line or multiple lines, where <code>.</code> functions similarly to <code>&#125;</code>, as Erlang does not have <code>&#123;</code>. Statements within the code block end with <code>,</code>, indicating the end of a statement, akin to <code>;</code> in some languages.</p><p>Erlang defines a program file as a module, and the module can be loaded in the command line using <code>c(test).</code>. The module name must match the file name:</p><pre><code class="Erlang">-module(test).</code></pre><p>The header of the file needs to define the functions exported by the program, which are the module’s entry points:</p><pre><code class="Erlang">-export([start/0, ping/3, pong/0]).</code></pre><p>Here, three functions are exported. Brackets indicate an array, and the numbers <code>/0</code> and <code>/3</code> indicate the number of parameters for each function. The start function serves as the main entry point of the program, responsible for starting the entire program. The ping function sends messages, and the pong function receives messages and responds.</p><p>Erlang has a concept of <code>process</code>, which is neither a thread nor a computer-level process; it is just a <code>process</code>. We will start two processes: one for ping and one for pong, simulating message transmission and interaction. This can be likened to starting two threads, one for production and one for consumption.</p><pre><code class="Erlang">ping(0, Pong_PID, StartTime) -&gt;     Pong_PID ! &#123;finished, StartTime&#125;;</code></pre><p>This is the first part of the ping function, a branch that accepts three parameters. If the first parameter is 0, the statements within this function will be executed. The second parameter, <code>Pong_PID</code>, refers to the process containing pong, and the third parameter is the program’s start time, used to record the program’s runtime. The function body has a single statement: <code>!</code> sends a message, meaning the data <code>&#123;finished, StartTime&#125;</code> is sent to the process with ID <code>Pong_PID</code>, where finished is an <code>Atom</code> that acts as an identifier sent to pong. An Atom is one of Erlang’s data types, akin to an undeclared constant.</p><pre><code class="Erlang">ping(N, Pong_PID, StartTime) -&gt;     Pong_PID ! &#123;ping, self()&#125;,    receive        pong -&gt;             io:format(&quot;~w~n&quot;, [N])    end,    ping(N - 1, Pong_PID, StartTime).</code></pre><p>This is the second part of the ping function. If the first parameter received by the function is not 0, the statements within this function will be executed. This part of the function sends the data <code>&#123;ping, self()&#125;</code> to pong upon receiving the request, where the identifier is <code>ping</code> instead of <code>finished</code>. The second parameter, <code>self()</code>, returns the current process’s ID, which is passed to pong for pong to reply to the message. Pong will selectively use the second parameter.</p><p>After sending the data to pong, there is a <code>receive ... end</code> code block that blocks the current program’s execution until the current process receives data. This block performs a simple pattern matching, where <code>pong</code> is an Atom variable. If the pong identifier is received, the statement after <code>-&gt;</code> will be executed. <code>io:format</code> is a simple formatted output that prints the value of N to the screen.</p><p>After receive ends, ping calls itself recursively until N is 0, meaning the interaction between ping and pong continues N times, and the number of interactions is printed by <code>io:format</code>. These are the two branches of the ping function. The pong function is similar to the ping function:</p><pre><code class="Erlang">pong() -&gt;    receive        &#123;finished, StartTime&#125; -&gt;             io:format(&quot;The End&quot;);            io:format(&quot;~w~n&quot;, [erlang:timestamp()]);            io:format(&quot;~w~n&quot;, [StartTime]);        &#123;ping, Ping_PID&#125; -&gt;            Ping_PID ! pong,            pong()    end.</code></pre><p>The pong function does not have branches in terms of parameters, but there are two matches within the receive block. If the finished identifier is received, the start and end times are printed, and the program ends. If the ping identifier is received, a pong response is sent to Ping_PID, which is the ping process, and then pong calls itself. This means pong first sends a message and then waits for a reply. If no reply is received, it waits indefinitely.</p><pre><code class="Erlang">start() -&gt;    Pong_PID = spawn(test, pong, []),    spawn(test, ping, [10, Pong_PID, erlang:timestamp()]).</code></pre><p>Finally, the start function is the program’s entry function, spawning two processes that run independently. When the first parameter passed to ping is 10, the interaction between ping and pong continues 10 times.</p><h3 id="Interaction-Speed"><a href="#Interaction-Speed" class="headerlink" title="Interaction Speed"></a>Interaction Speed</h3><p>I once heard a so-called “expert” say that to improve computer speed, we should focus on CPU utilization because actors are fast. Why are they fast? Because an actor is a whole that runs on a single core, eliminating the need for inter-core communication. The accuracy of this statement may be debatable, but I am curious if actors are truly fast, which led me to test the speed of actors.</p><p>It must be noted that I am well aware this testing method is unreliable.</p><p>In the Erlang program, two processes communicate with each other, testing communication times of different magnitudes and recording the program’s execution time. For comparison, two threads are started in Java, using thread sleep and wake-up for inter-thread communication. Similarly, two goroutines communicate in Go. As for Akka, which also represents the Actor model, a test program was also written. The table below shows the test results, with the number of times ranging from 1 to 100 million, and the time unit is milliseconds.</p><table><thead><tr><th>Number of Times</th><th align="right">Erlang</th><th align="right">Java</th><th align="right">Go</th><th align="right">Akka</th></tr></thead><tbody><tr><td>1</td><td align="right">0</td><td align="right">0</td><td align="right">0</td><td align="right">3</td></tr><tr><td>10</td><td align="right">0</td><td align="right">1</td><td align="right">0</td><td align="right">7</td></tr><tr><td>100</td><td align="right">3</td><td align="right">4</td><td align="right">1</td><td align="right">17</td></tr><tr><td>1,000</td><td align="right">26</td><td align="right">30</td><td align="right">4</td><td align="right">83</td></tr><tr><td>10,000</td><td align="right">610</td><td align="right">168</td><td align="right">42</td><td align="right">225</td></tr><tr><td>100,000</td><td align="right">2,783</td><td align="right">1,295</td><td align="right">404</td><td align="right">674</td></tr><tr><td>1,000,000</td><td align="right">27,085</td><td align="right">11,300</td><td align="right">4489</td><td align="right">3515</td></tr><tr><td>10,000,000</td><td align="right">273,912</td><td align="right">107,673</td><td align="right">40335</td><td align="right">29368</td></tr><tr><td>100,000,000</td><td align="right">2,851,680</td><td align="right">1,092,879</td><td align="right">482196</td><td align="right">300228</td></tr></tbody></table><p>Initially, I tried rendering this data using Echarts for better comparison, but the resulting line chart was not user-friendly.</p><p>Overall, Erlang is the slowest, possibly due to its age and lack of optimization. Elixir might perform better. Comparatively, Java is faster than Erlang, and Go is faster than Java, which seems expected. Java’s time consumption is one-third of Erlang’s, and Go’s is half of Java’s.</p><p>The most surprising finding is that Akka’s actor speed is faster than Go’s goroutines. Before 1,000 interactions, Akka is slower than Erlang. At the 10K scale, it surpasses Erlang, at 100K, it surpasses Java, and at 1M, it surpasses</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;The Actor Model is a broad concept that was proposed in the last century. It views an actor as a whole, which can be an atomic variable,</summary>
        
      
    
    
    
    
    <category term="Programming Languages" scheme="https://en.smallyu.net/tags/Programming-Languages/"/>
    
  </entry>
  
  <entry>
    <title>An Interactive Method for Side Navigation Bar</title>
    <link href="https://en.smallyu.net/2020/03/21/An%20Interactive%20Method%20for%20Side%20Navigation%20Bar/"/>
    <id>https://en.smallyu.net/2020/03/21/An%20Interactive%20Method%20for%20Side%20Navigation%20Bar/</id>
    <published>2020-03-21T09:59:37.000Z</published>
    <updated>2025-08-06T10:38:27.634Z</updated>
    
    <content type="html"><![CDATA[<p>Recently, I’ve seen several demo projects of management systems. Combining this with some inconvenient aspects encountered during development, I noticed that most websites’ side navigation bars expand on click and collapse on click.</p><img src="classical.gif" width="20%"><p>This interaction feels a bit cumbersome:</p><ul><li>If the location of the submenu is unknown, you need to click each item to find the desired page.</li><li>If the location of the submenu is known, you still need to click the parent menu to see the desired submenu.</li><li>Without clicking each item, you can’t know what submenus are available.</li><li>After expanding the submenu, you need to click the parent menu each time to collapse it.</li></ul><p>Then I thought, could the click event be replaced with a hover event? As long as the mouse hovers over it, the menu will automatically expand without needing a click. However, simply using hover to expand requires considering the issue of inconsistent menu lengths. If the next menu is shorter than the current menu, the mouse leaving the current menu will cause the current menu to collapse, and the mouse will directly skip over the next shorter menu.</p><img src="problem.gif" width="20%"><p>As shown in the image, Column 2 has a length of 4, and Column 3 has a length of 2. When the mouse moves down from Column 2, the moment it leaves Column 2, Column 2 retracts, causing the mouse to hover directly over Column 4 without passing Column 3, which is illogical and contradicts user expectations. Logically, Column 3 should follow Column 2.</p><p>To address this issue, the interaction can be designed such that when the mouse leaves Column 2, Column 2 doesn’t retract until the mouse leaves the entire navigation bar. If a parent menu is clicked while a submenu is expanded, that parent menu won’t retract even if the mouse leaves the navigation bar.</p><img src="solution.gif" width="20%"><p>Below is a demo page embedded via iframe, allowing for a comparison of the two side navigation bar interaction methods (there are no hover events on mobile). I prefer more flexible interactions; in the second method, clicking the parent menu also expands and collapses the list, adding hover auto-expand functionality on top of the first method.</p><div align="center"><iframe src="/html/sider_bar_demo.html" width="400px" height="580px" frameborder="0" scrolling="yes" style="border: 5px double #e4e4e4;"> </iframe></div><p>Compared to the hover auto-expand without retraction method, a more advanced approach is that when the mouse moves from top to bottom, the submenu automatically expands but doesn’t retract. When the mouse moves from bottom to top, the submenu automatically expands and retracts. Whether the submenu should retract depends on whether it affects the user’s next operation. However, implementing such an effect is somewhat complex. For a navigation bar on a webpage, continuously monitoring the mouse coordinates entails a higher development and maintenance cost.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Recently, I’ve seen several demo projects of management systems. Combining this with some inconvenient aspects encountered during</summary>
        
      
    
    
    
    
    <category term="Design" scheme="https://en.smallyu.net/tags/Design/"/>
    
  </entry>
  
  <entry>
    <title>Three Minor Issues in Java Project Development</title>
    <link href="https://en.smallyu.net/2020/02/26/Three%20Minor%20Issues%20in%20Java%20Project%20Development/"/>
    <id>https://en.smallyu.net/2020/02/26/Three%20Minor%20Issues%20in%20Java%20Project%20Development/</id>
    <published>2020-02-26T09:37:42.000Z</published>
    <updated>2025-08-06T10:38:28.713Z</updated>
    
    <content type="html"><![CDATA[<p><strong>1. Is an Auto-Increment Primary Key Necessary in MySQL?</strong></p><p>Sometimes we use a meaningful field as the primary key, such as using the username instead of a meaningless auto-increment id. One of the benefits of this approach is leveraging the uniqueness of the primary key to ensure the uniqueness of the username. If duplicate data is attempted to be inserted, the database will throw a “Duplicate entry * for key PRIMARY” error.</p><p>The problem with relying on this “benefit” is whether we can and should rely on the default characteristics of the primary key (non-repetitive fields) to meet our business needs (non-repetitive fields). In fact, “non-repetitive” is a feature of unique indexes, not the primary key. The primary key field will automatically have a unique index.</p><p>One of the inconveniences of leveraging this “benefit” is that the data table lacks a field that represents the “data row sequence.” Oracle has something like rownum, but MySQL does not, so you have to use a script to implement it. If you need to traverse the table in segments, it’s difficult to operate without the concept of rows.</p><p>The “Alibaba Java Development Manual” clearly requires tables to have an id field. They may not necessarily be right, but I believe their reasons must be sufficiently convincing.</p><img src="id.png" width="90%" height="50%" /><p><strong>2. Map or Bean</strong></p><p>When querying data with MyBatis, the return type can be either List<Map> or List<Bean>. Here, Bean refers to a Data Object (DO).</p><p>The benefits of using a Bean are obvious. By entering the object name and pressing the next dot, IDEA will automatically pop up the Bean’s getter and setter methods, making the table’s properties clear at a glance. Whether getting or setting values, it is user-friendly.</p><p>One potential issue with using a Bean is if the table structure changes, such as deleting a field. Correspondingly, the Bean class would need to delete an attribute and its getter and setter methods. Any place in the program that uses this field will need to be modified. If not, the program will fail to compile.</p><p>We often encounter this situation during development. Debugging Class A, after changing a common COM class, BCDEF… all report errors during compilation. This is frustrating because I only want to confirm if the issue with Class A is caused by the COM class, but due to this dependency, I have to try other methods.</p><p>If facing system modifications, integration, or refactoring, Beans will also expose the same problems. In a recent project, to reuse as much of the original system as possible and make minimal changes, I had to use Bean.username to store the actual value of Bean.phoneNumber. All the various utility classes (encryption and decryption, local cache, etc.) of the original system depend on the Bean. Once involving Bean modifications, either a large-scale change is needed, or none at all.</p><p>Using a Map can slightly alleviate the issues brought by Beans, especially when handling value retrieval properly. For example, <code>String.valueOf(map.get(&quot;&quot;))</code> can avoid the dreaded null pointer exception, allowing the program to start normally even if the value is null. The places needing changes can get and set as desired without being restricted by Bean getter and setter methods.</p><p>In addition, both Map and Bean are essentially encapsulations of properties.</p><p><strong>3. Annotations or XML</strong></p><p>Spring’s IOC supports both annotations and XML, and MyBatis SQL similarly supports both.</p><p>In the past, Java projects were often packaged into WAR or JAR files and run in containers like Tomcat or Resin. The container would automatically extract the package into class files and resource files, including XML. One advantage of using XML configuration is that you can directly modify the XML in the production environment and restart the project to complete the operation without recompiling Java files into class files, packaging, extracting, replacing, and going through the deployment process—branching, development, testing, compilation, deployment, merging baselines, step-by-step emails.</p><p>I think times have changed. With continuous integration, automated operations, properties, and YML, XML doesn’t seem as important anymore.</p><p>For MyBatis SQL, there is an internal XML parser. XML serves as a DSL to achieve dynamic SQL statements through configuration. If using annotations, writing SQL in the provider, we lose the XML parser’s functionality. However, losing this capability also grants us freedom. Facing string-based SQL statements, we can completely encapsulate our own parser.</p><p>Interestingly, foreign developers seem to prefer annotations, while domestic developers tend to use XML. Many foreign authors use annotations in their books, while most domestic blog articles use XML configuration in tutorials. This is somewhat similar to the situation with front-end frameworks React and Vue. Enterprises and developers with stronger technical skills prefer React because JSX is more like a programming language with more room for creativity. Vue is favored by enterprises and developers with weaker technical skills because it’s easier to get started and simpler to develop. If you’ve used Vue, you’ll understand that developing with it doesn’t feel like programming; it’s more like a product of software industrialization.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;&lt;strong&gt;1. Is an Auto-Increment Primary Key Necessary in MySQL?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Sometimes we use a meaningful field as the primary key,</summary>
        
      
    
    
    
    
    <category term="Programming Languages" scheme="https://en.smallyu.net/tags/Programming-Languages/"/>
    
  </entry>
  
  <entry>
    <title>Positioning of Programmers</title>
    <link href="https://en.smallyu.net/2020/01/11/Positioning%20of%20Programmers/"/>
    <id>https://en.smallyu.net/2020/01/11/Positioning%20of%20Programmers/</id>
    <published>2020-01-11T10:19:45.000Z</published>
    <updated>2025-08-06T10:38:27.727Z</updated>
    
    <content type="html"><![CDATA[<p>One terrifying thing is when programmers no longer focus on code, software, systems, and architecture, but rather on products, operations, and sales. Their outlook shifts from improving code quality, iterating better software, and making better engineering to enhancing documentation output and team morale.</p><h3 id="startup-and-996"><a href="#startup-and-996" class="headerlink" title="startup and 996"></a>startup and 996</h3><p>The company begins to advocate for an entrepreneurial mindset. In a startup, everyone must work hard together to achieve big things. The BOSS says, he returned to the company late one day and saw certain people still working past 10 PM. Everyone should be like that; we have to do it this way. If you can’t keep up with our pace due to health or other reasons, you might not fit well with our team. We all need to strive together; we need to do 10106. If we don’t do it this way, the company will die.</p><p>Hearing this, I couldn’t help but laugh silently. To say something that may not align with common values, I know this mentality is wrong. If the boss saw such thoughts, I’d have to talk to HR tomorrow, which would show a lack of responsibility and professional ethics. But frankly, if the company dies, what does it have to do with me?</p><p>It’s all about painting a rosy picture. Normally, you hear people complain about the boss making big promises that seem unattainable after joining, and then post online not to trust the boss’s words. Don’t believe in benefits and bonuses until they’re in your hands. Our situation seems different; if we don’t work hard, the company will die? I’ve heard a saying before: everyone tells us to work hard, but no one tells us what we’ll get after working hard. If the company dies, won’t we just go work elsewhere?</p><p>At the annual meeting’s Q&amp;A session, the big BOSS caught onto the term “enjoy the dividends,” suggesting that dividends are not given by the company but are earned by bringing corresponding value to the company. Often, the company’s idea is, you need to give me 20 units of work, and I’ll give you 10 units of profit. Employees think, you give me 10 units of money, I’ll do 10 units of work, and if you give me 5 more units, I’ll put in 5 more units of effort.</p><p>996 is a similar issue. Why are we 10106? Because we start work at 9:30 AM, and by the time we open our computers and have a morning meeting, it’s around 10 AM, so it’s 1010, not 99. Regarding 996, one saying is that some employees have a mentality of striving for performance, cultivated from a culture of being rewarded with small red flowers from childhood, leading to the belief that “effort will bring rewards.” Many bosses indeed buy into this.</p><p>Yesterday, I heard another perspective. Our BOSS mentioned 10106 but won’t issue an official policy notice because it violates labor laws. This confused me; should we do 10106 or not? I consulted slightly experienced employees and was told the boss likes “smart” employees. In other words, the boss brought up the matter, and it’s up to you to gauge how to handle it.</p><h3 id="Overtime"><a href="#Overtime" class="headerlink" title="Overtime"></a>Overtime</h3><p>Sometimes, when projects are tight, bugs occur suddenly, or there’s a launch or work error, occasional overtime is normal; there’s busy and idle times. Some companies require frequent overtime, with endless work, known as the 996 work system. Generally speaking, 965 and 996 correspond to different salary levels. The conflict arises when companies want to hire 996 people with 965 salaries, and employees want 996 salaries for 965 work.</p><p>There are instances where the boss doesn’t require overtime, but some people still work late. Each person’s division of labor and task volume differs, so does the speed of completion. It depends on the situation. If your efficiency is lower than others, overtime is understandable. The problem arises when others frequently work late due to inefficiency, and you, having finished your tasks, don’t work overtime. The boss might then focus on work hours, questioning if matching others’ work hours would yield more output. A wise leader should discern true work capability and judge output based on work volume, not hours. The worst scenario is the leader pretending to be ignorant of the real situation.</p><p>Another case is when the boss asks you to stay a bit longer. There might not be urgent tasks needing overtime, but why leave on time when others stay late? Everyone else is working late; why are you special? The boss might think you should put in more work since overtime should result in more output, possibly rooted in the mindset of taking advantage in Chinese labor culture.</p><p>In reality, 996 might not positively impact work output. If everyone leaves on time, I’d feel awkward staying late (seriously). If others can finish their work on time, needing overtime to complete tasks might reflect poorly on one’s ability. Therefore, I’d try to complete my work within office hours. If daily overtime is required, it might lead to a more relaxed work pace during regular hours, knowing that overtime will be needed anyway, thus leaving a good impression on the boss by working late.</p><h3 id="Technical-People"><a href="#Technical-People" class="headerlink" title="Technical People"></a>Technical People</h3><p>The company starts advocating for a “sales-oriented” approach because sales directly influence revenue, which the boss values. In a performance review, I first learned about the company’s overall picture from sales and operations. During the review, the BOSS said, “Knowing commonly used models and algorithms in machine learning is quite specific and ordinary. We need to…,” referring to content I had mentioned in my review materials a few days prior.</p><p>Actually, technology is not crucial, especially in a sales-oriented company. The specific technology used doesn’t matter as much as closing deals, convincing customers, and making money for the company. In the broader society, technology needs to be advanced and new enough to have a foothold. Machine learning, talked about for over a decade, is indeed quite ordinary and mediocre in its common usage, especially if it doesn’t bring substantial benefits.</p><p>Since implementing OKR, our performance plans have two features: they must have goals and results, and these goals and results focus more on self-improvement than work content. Self-improvement mainly refers to output, such as writing internal newsletters, patents, sharing technology, etc., especially things that can help with work. Ironically, we lack a strong technical atmosphere, with only a few key people writing actual code. Performance management shows that leaders don’t care much about work-related content like establishing project and development standards, requirements, development, reviews, testing, etc. They care more about personal achievements.</p><p>Often, the situation is the company cares about “what can you bring to the company?” while employees think, “what does the company need me to do?”</p><p>Performance reviews are the same; we have to write about work-related but also non-work content. Deep learning is a field worth learning and researching. Even common models and algorithms require at least a year to understand from principles to engineering. Currently, my work involves application layer development, such as CRUD operations, while the department’s technical theme is blockchain, so I put machine learning in the outlook section.</p><p>Personally, machine learning is a significant step. It has a certain threshold. I have tried multiple times before, abandoning after watching Andrew Ng’s course and Stanford’s image recognition class. There’s a view that machine learning is the development of calculus in modern computer technology, with its theoretical foundation in mathematics. Some also say blockchain is a small scam, while AI is a big scam… Regardless of the scam, it’s something that needs to be learned.</p><h3 id="Programmers"><a href="#Programmers" class="headerlink" title="Programmers"></a>Programmers</h3><p>Compared to sales or operations, one characteristic of programmers is less reliance on external resources, connections, market, regulation, and business. Technology changes in form but essentially involves operating a computer to perform calculations. Application layer developers should complete development tasks as required by the schedule, ensuring code quality is their professional responsibility. Improving system architecture skills is necessary. Skilled Coders can efficiently use toolchains, while excellent Coders can optimize algorithms, improving program efficiency and system performance.</p><p>Sorry, I am a Coder, and I don’t feel ashamed. (<a href="https://www.ruanyifeng.com/blog/2011/10/dont_call_yourself_a_programmer.html">@Don’t call yourself a programmer</a>)</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;One terrifying thing is when programmers no longer focus on code, software, systems, and architecture, but rather on products,</summary>
        
      
    
    
    
    
    <category term="Work" scheme="https://en.smallyu.net/tags/Work/"/>
    
    <category term="Programmer" scheme="https://en.smallyu.net/tags/Programmer/"/>
    
  </entry>
  
  <entry>
    <title>What is Rust&#39;s Ownership?</title>
    <link href="https://en.smallyu.net/2019/12/21/What%20is%20Rust&#39;s%20Ownership_/"/>
    <id>https://en.smallyu.net/2019/12/21/What%20is%20Rust&#39;s%20Ownership_/</id>
    <published>2019-12-21T15:06:28.000Z</published>
    <updated>2025-08-06T10:38:28.718Z</updated>
    
    <content type="html"><![CDATA[<p>Rust is memory safe. Facebook’s Libra uses Rust for development and has introduced a new programming language called Move. Move’s most significant feature is managing digital assets as resources, meaning they can only be moved, not copied, much like paper money, ensuring the safety of digital assets. This idea in Move is not unique; Rust has long used this approach to manage memory, making Rust memory safe. Memory in Rust is managed by the ownership system.</p><h3 id="Java’s-Reference-Counting"><a href="#Java’s-Reference-Counting" class="headerlink" title="Java’s Reference Counting"></a>Java’s Reference Counting</h3><p>Garbage collection comes in many forms, and ownership is one of them. Java uses reference counting, which has a well-known flaw: it cannot reclaim memory space involved in circular references. The basic rule of reference counting is that each time a memory reference is made, the count increases by one, such as instantiating an object or assigning the object to another variable. When a variable reference is canceled, the corresponding count decreases by one until the reference count is zero, at which point the space is freed.</p><pre><code class="Java">class Test &#123;    Test ref = null;&#125;Test a = new Test(); // a&#39;s count increases by oneTest b = new Test(); // b&#39;s count increases by one// At this point, a&#39;s count is 1, b&#39;s count is 1a.ref = b;           // a&#39;s count increases by one because ref is a&#39;s class variableb.ref = a;           // b&#39;s count increases by one because ref is b&#39;s class variable// At this point, a&#39;s count is 2, b&#39;s count is 2a = null;            // a&#39;s count decreases by one because a&#39;s reference is releasedb = null;            // b&#39;s count decreases by one because b&#39;s reference is released// At this point, a&#39;s count is 1, b&#39;s count is 1</code></pre><p>Therefore, when the references of a and b are released, their counts are still 1. To decrease a.ref’s count by one, a.ref needs to point to null. Does this need to be manually set to null? Of course not; Java has no concept of manually releasing memory space. Generally, a.ref’s object (b’s space) is released (count is 0), and a.ref’s count automatically decreases by one, becoming 0. However, because of the circular reference, b needs a’s count to become 0 for b’s count to become 0. But for a to become 0, b must first become 0. This is essentially a deadlock.</p><p>Does this have anything to do with Rust’s ownership? Of course not…</p><h3 id="Ownership"><a href="#Ownership" class="headerlink" title="Ownership"></a>Ownership</h3><p>Ownership has three basic rules:</p><ul><li>Each value has a variable <code>owner</code>.</li><li>Only one <code>owner</code> exists at a time.</li><li>When the <code>owner</code> leaves the scope, the value’s memory space is released.</li></ul><p>The scope is generally defined by <code>&#123;&#125;</code>, similar to conventional scope concepts.</p><pre><code class="Rust">&#123;                       // s is not yet declared    let s = &quot;hello&quot;;    // s is available&#125;                       // s has left the scope</code></pre><p>Rust’s variable types are divided into simple types and complex types, similar to ordinary variables and reference variables. Due to ownership, when simple types are assigned, the value is copied, but complex types have their references directly reset to new reference variables, rendering the original variable unusable.</p><pre><code class="Rust">let x = 5;let y = x;                        // y is 5, x is still 5let s1 = String::from(&quot;smallyu&quot;);let s2 = s1;                      // s2 is &quot;smallyu&quot;, s1 is no longer usable</code></pre><p>During assignment, s2’s pointer first points to the string, then s1’s pointer is set to null, embodying the concept of moving. To keep s1 usable, use <code>clone</code> to copy data to s2 instead of changing the pointer’s direction.</p><pre><code class="Rust">let s1 = String::from(&quot;smallyu&quot;);let s2 = s1.clone();              // s1 is still usable</code></pre><h3 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h3><p>Two concepts mentioned so far are: ownership releases memory space after leaving the scope, and complex type variables are passed in the program by moving. Combining these two features leads to situations like this:</p><pre><code class="Rust">fn main() &#123;    let s = String::from(&quot;smallyu&quot;);    takes(s);             // s is passed to the takes function                          // After takes execution ends, s is released    println!(&quot;&#123;&#125;&quot;, s);    // s is unusable, causing a program error&#125;fn takes(s: String) &#123;     // s enters the scope    println!(&quot;&#123;&#125;&quot;, s);    // s outputs normally&#125;                         // s leaves the scope, memory space is released</code></pre><p>If s is assigned a simple type, like 5, this won’t happen. For complex type variables, once they leave the scope, their memory space is forcibly released. Currently, we can use function return values to handle this situation:</p><pre><code class="Rust">fn main() &#123;    let s = String::from(&quot;smallyu&quot;);    let s2 = takes(s);     println!(&quot;&#123;&#125;&quot;, s2);&#125;fn takes(s: String) -&gt; String &#123;     println!(&quot;&#123;&#125;&quot;, s);     s&#125; </code></pre><p>takes returns the variable unchanged, but a new variable s2 is declared to receive the returned value because s is an immutable variable.</p><h3 id="Reference-Variables"><a href="#Reference-Variables" class="headerlink" title="Reference Variables"></a>Reference Variables</h3><p>Reference variables do not trigger the ownership drop method, meaning they do not reclaim memory space when they leave the scope:</p><pre><code class="Rust">fn main() &#123;    let s = String::from(&quot;smallyu&quot;);    takes(&amp;s);    println!(&quot;&#123;&#125;&quot;, s);&#125;fn takes(s: &amp;String) &#123;    println!(&quot;&#123;&#125;&quot;, s);&#125;</code></pre><h3 id="Mutable-Variables"><a href="#Mutable-Variables" class="headerlink" title="Mutable Variables"></a>Mutable Variables</h3><p>Reference variables are read-only, so in takes, s can be accessed but not modified, such as reassigned. Mutable variables can solve this problem:</p><pre><code class="Rust">fn main() &#123;    let mut s = String::from(&quot;smallyu&quot;);    takes(&amp;mut s);    println!(&quot;&#123;&#125;&quot;, s);&#125;fn takes(s: &amp;mut String) &#123;    s.push_str(&quot;, aha!&quot;);&#125;</code></pre><p>Mutable variables have limitations: only one other variable can reference a mutable variable at a time:</p><pre><code class="Rust">let mut s = String::from(&quot;smallyu&quot;);let r1 = &amp;mut s;let r2 = &amp;mut s;println!(&quot;&#123;&#125;, &#123;&#125;&quot;, r1, r2);</code></pre><p>This will cause an error because, to ensure memory safety, a variable can only have one mutable reference. If r1 and r2 could both modify s, it would cause chaos. Therefore, if <code>r1 = &amp;s</code> instead of <code>r1 = &amp;mut s</code>, there would be no problem, as only one mutable reference is allowed.</p><h3 id="Return-Values"><a href="#Return-Values" class="headerlink" title="Return Values"></a>Return Values</h3><p>Function return types cannot be reference types, also related to ownership rules. Returning ordinary variables is like throwing the function’s contents out. If returning a reference variable, it points to something within the function, but once the function ends, everything inside is destroyed, making the reference variable invalid.</p><pre><code class="Rust">fn dangle() -&gt; &amp;String &#123;    let s = String::from(&quot;smallyu&quot;);    &amp;s;&#125; // At this point, s&#39;s memory space is released, so the return value cannot reference it</code></pre><h3 id=""><a href="#" class="headerlink" title="?"></a>?</h3><p>There’s no more content.</p><p>Recently, I watched an exciting TV show “Silicon Valley.” The writers put the main characters in many difficult situations, making them seem like their misfortunes were self-inflicted. The writers also left many cliffhangers, making the plot so intense that I felt like sending them hate mail. Putting aside the plot, the geeks portrayed in the show are really cool! Of course, ordinary people can’t participate in such high-level battles.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Rust is memory safe. Facebook’s Libra uses Rust for development and has introduced a new programming language called Move. Move’s most</summary>
        
      
    
    
    
    
    <category term="Programming Languages" scheme="https://en.smallyu.net/tags/Programming-Languages/"/>
    
  </entry>
  
  <entry>
    <title>I Personally Wrote Unmaintainable Code</title>
    <link href="https://en.smallyu.net/2019/12/15/I%20Personally%20Wrote%20Unmaintainable%20Code/"/>
    <id>https://en.smallyu.net/2019/12/15/I%20Personally%20Wrote%20Unmaintainable%20Code/</id>
    <published>2019-12-15T12:03:32.000Z</published>
    <updated>2025-08-06T10:38:27.708Z</updated>
    
    <content type="html"><![CDATA[<p>Recently, I tried some offline activities and had a few days of severe pain. Now that things have calmed down a bit, it feels like a lifetime ago. There is a project that is undergoing final acceptance, so I pulled out the code from a month or two ago to manually update some data. Looking at the code I wrote not long ago, I felt like it was from a different era. If someone else had written it, I would have immediately thought it was garbage. Since I wrote it myself, objectively speaking, it is indeed garbage.</p><p>It was a memorable day when 2019 truly began for me. I used to work with the old system’s code, where I had to start the project in resin, which took at least two minutes to compile, making it hard to debug. I used to develop and debug programs on the test server instead of releasing code, and I even encountered pitfalls while writing small tasks like batch-executing SQL. I once looked down on garbage code and developers still using Eclipse in 2019.</p><p>To this day, I have become a developer who writes garbage code.</p><h3 id="Minor-Requirements"><a href="#Minor-Requirements" class="headerlink" title="Minor Requirements"></a>Minor Requirements</h3><p>The first time I wrote garbage code, I vividly remember printing logs twice:</p><pre><code class="java">catch (e) &#123;    System.out.println(&quot;Exception caught&quot;);    logger.error(&quot;Exception caught&quot;);&#125;</code></pre><p>The number of times logger appears is the number of times println appears. This is clearly an ugly practice. At the time, the nohup.out and log folders were not in the same directory. The log folder was configured to be in a unified directory, and I wanted nohup.out to also output logs… The specific reason is a bit fuzzy now, but this was the first time my own code disgusted me. It seems I removed it in a later version, vaguely remembering it.</p><p>In the same requirement, there was a commendable and praiseworthy approach in the old boss’s code. At the time, I thought it was redundant and a bit of a challenge to authority. It turns out I was still young.</p><pre><code class="java">Can&#39;t remember the code T_T</code></pre><p>In the same requirement, I needed to implement customizable SQL statements, similar to <code>?</code> in jdbcTemplate or <code>#&#123;&#125;</code> in mybatis. I used a very crude approach:</p><pre><code class="java">// Requirementsql = update set a=&#123;a&#125;, b=&#123;b&#125;, ...// Solutionfor (i = 0; i &lt; param.num; i++) &#123;    switch(match.group()) &#123;        case &#123;a&#125;: break;        case &#123;b&#125;: break;        ...    &#125;&#125;</code></pre><p>When asked if the parameter positions could be swapped, I was still confident. Could there be more or fewer parameters?…</p><h3 id="Changing-Requirements"><a href="#Changing-Requirements" class="headerlink" title="Changing Requirements"></a>Changing Requirements</h3><p>I once saw a program with a single class in one file, which is natural. This class had only one method, which was written by a female programmer and had over a thousand lines.</p><p>My task was to add a few fields to the originally output report. Initially, it output <code>a,b</code>, and now it needs <code>a,b,c,d</code>. <code>c,d</code> was my part to implement, with logic similar to <code>a,b</code>, but from different sources and executed with different SQL queries. Ideally, modifying the SQL should suffice, but the problem was that the method of over a thousand lines had three or four nested loops, involving business operations from different banks, with variables named <code>list1, list2</code> inside and outside the loops. The final result involved accumulating <code>a,b</code>.</p><p>I chose not to touch the original program, copied it, executed it separately, and integrated the data afterward. Arrogant and proud, I didn’t want to read the garbage code. So later, one class had two methods with a thousand lines each. The issue was the constant bugs. The copied code still needed to be understood from beginning to end, and integrating the two data parts brought many unexpected problems and vulnerabilities…</p><h3 id="Perfecting-Requirements"><a href="#Perfecting-Requirements" class="headerlink" title="Perfecting Requirements"></a>Perfecting Requirements</h3><p>Another requirement was to take over a project someone else had half-finished. In 2019, someone used a template engine in Spring Boot to write pages, and I had to use jQuery and a jQuery-based mobile style library to complete the development. The interface was ugly, but more importantly, the documentation! The documentation was inconsistent! My mistake was underestimating the requirement. I should have asked when in doubt and understood each aspect before starting. The result was naturally bad, with constant revisions. No one would want to maintain that code.</p><h3 id="Constantly-Changing-Requirements"><a href="#Constantly-Changing-Requirements" class="headerlink" title="Constantly Changing Requirements"></a>Constantly Changing Requirements</h3><p>Failing to finalize requirements at the start inevitably leads to bad code. Ideally, with proper planning, ample time, and high-quality developers, various designs and patterns are naturally good. Reality is never like that.</p><p>In Vue frontend projects, there is a common practice of encapsulating axios, writing various exports in a separate api.js, and importing them in modules. Supposedly for unified API URL management or something, but in practice, it turned out to be cumbersome, causing many development inconveniences. Did it make maintenance easier? Not at all. One reason is the constantly changing requirements. If the comments in the API are not clear or accurate, extracting them separately is meaningless.</p><pre><code>// api.jsexport a = () =&gt; &#123; get(&#39;a&#39;) &#125;// model.jsimport &#123;a&#125; from api.jsa().then(res =&gt; &#123;&#125;)</code></pre><p>If the <code>a</code> function in the API doesn’t correspond exactly to route <code>a</code>, modifying api.js requires finding the corresponding function on the respective page. This is no different from writing the route directly on the page. Maybe we could try encapsulating the routing functions at the top of each module or page, making the API in the module or page autonomous.</p><p>In frontend projects, CSS is more frustrating than APIs! Even more frustrating is when the project is already mature! The same background color configuration might be written in index, common, model, and even inline styles… And the configuration content differs in each place. Background color styles are fine, but document flow, positioning, floating, and margins are troublesome. True CSS mastery lies in document flow, and if someone who doesn’t fully understand it holds up an entire project, who dares to touch that code?</p><h3 id="Requirements-Too-Lazy-to-Rewrite"><a href="#Requirements-Too-Lazy-to-Rewrite" class="headerlink" title="Requirements Too Lazy to Rewrite"></a>Requirements Too Lazy to Rewrite</h3><p>With constantly changing requirements, another phenomenon is reusing old code whenever possible to complete current requirements as quickly as possible. Since future requirements are uncertain, refactoring clean code every time would be labor-intensive and inefficient… This is definitely a path to bad code.</p><p>In backend development, there’s something I dislike: beans, also known as entities. It’s an old practice, including templated DAOs and services. What’s the point of writing IClass and then ClassImpl? Beans are not conducive to changing requirements; sometimes, using a map is better. Referring back to the project for acceptance, my garbage code was related to beans. The bean design included many fields. When requirements changed, fields changed too. Modifying it meant changing many places. Who knows if requirements will change again? So, I forcibly reused it, resulting in fields with unclear meanings and some fields completely mismatched, merely occupying space to store data.</p><p>Of course, wrong framework choices also contribute to bad code, which is due to my lack of experience. It has to be admitted that architects play a crucial role in project management.</p><h3 id="Development-Dilemmas"><a href="#Development-Dilemmas" class="headerlink" title="Development Dilemmas"></a>Development Dilemmas</h3><p>One dilemma is naming. Occasionally, I wrote the wrong interface name or copied and pasted similar logic, too lazy to change variable names, resulting in unmaintainable code. This shows that code reviews are essential in corporate development, although small companies may not have high code quality requirements. Except for code that goes live and involves online business, reviews are mandatory to avoid disasters. For ordinary development, reviews might not be as strict.</p><p>Another dilemma is module division. For instance, if page A has file upload and page B has file download, should file upload and download be in the same API path? It seems logical since they are file operations. But if other APIs are divided by page, with all interfaces of the same page under the same path, is it awkward to single out file operations? Sometimes, modules are divided by data tables, but joint table operations can complicate conventions. Mixing various rules often leads to confusion and unmaintainable code.</p><h3 id=""><a href="#" class="headerlink" title="?"></a>?</h3><p>As the year ends, I have to put a question mark on my 2019.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Recently, I tried some offline activities and had a few days of severe pain. Now that things have calmed down a bit, it feels like a</summary>
        
      
    
    
    
    
    <category term="Work" scheme="https://en.smallyu.net/tags/Work/"/>
    
  </entry>
  
  <entry>
    <title>What is a Monad in Haskell?</title>
    <link href="https://en.smallyu.net/2019/11/26/What%20is%20a%20Monad%20in%20Haskell_/"/>
    <id>https://en.smallyu.net/2019/11/26/What%20is%20a%20Monad%20in%20Haskell_/</id>
    <published>2019-11-26T05:34:02.000Z</published>
    <updated>2025-08-06T10:38:28.718Z</updated>
    
    <content type="html"><![CDATA[<p>The first time I heard about Monad was at a Scala Meetup. Later, I tried to understand the concept of Monad but was overwhelmed by various voluminous books and tutorials on Haskell. Then I came across Ruan Yifeng’s article “<a href="http://www.ruanyifeng.com/blog/2015/07/monad.html">Illustrated Monad</a>“ published in 2015. Although it was clear and easy to understand, it was detached from Haskell, and the illustrations didn’t match the concepts in the language. Ruan Yifeng’s article was translated from “<a href="http://adit.io/posts/2013-04-17-functors,_applicatives,_and_monads_in_pictures.html">Functors, Applicatives, And Monads In Pictures</a>,” which I read through.</p><h3 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h3><p>Computer programs are used to control a computer to perform calculations. The objects operated on by programs are various types of values, such as numerical values. Here’s a simple value <code>2</code>:</p><img src="1.png" style="box-shadow: 0 0 0 #fff; margin-left: 0;" /><p>Using a function to process the value can return the result of the function execution, such as:</p><img src="2.png" style="box-shadow: 0 0 0 #fff; margin-left: 0;" /><p>Apart from simple numerical types, values can also be contained within some contextual environment, forming more complex value types. You can think of the contextual environment as a box, with the numerical value placed inside the box. This box as a whole is described as <code>Just 2</code>, which is a boxed <code>2</code>:</p><img src="3.png" style="box-shadow: 0 0 0 #fff; margin-left: 0;" /><p>If you are familiar with Java, you can think of this box as a wrapper class, like Integer and int, corresponding to boxed and unboxed 2.</p><h3 id="Functors"><a href="#Functors" class="headerlink" title="Functors"></a>Functors</h3><p>Facing a boxed <code>2</code>, we can’t directly apply the <code>+3</code> function to it:</p><img src="4.png" style="box-shadow: 0 0 0 #fff; margin-left: 0;" /><p>At this point, we need a function <code>fmap</code> to operate on it. <code>fmap</code> will first extract the value 2 from <code>Just 2</code>, then add 3 to it, put the result 5 back into the box, and return <code>Just 5</code>:</p><img src="5.png" style="box-shadow: 0 0 0 #fff; margin-left: 0;" /><p>How does <code>fmap</code> know how to parse <code>Just</code>? What if it was another type like <code>Only</code>, could it still parse it? That’s why Functor is needed to complete the definition of this operation.</p><p>A Functor is a type of data type:</p><img src="6.png" style="box-shadow: 0 0 0 #fff; margin-left: 0;" /><p>Functor defines the behavior of <code>fmap</code>:</p><img src="7.png" style="box-shadow: 0 0 0 #fff; margin-left: 0;" /><p><code>fmap</code> has two input parameters and one output parameter. The input parameters are a function and a boxed value, and the output parameter is a boxed value. It can be used like this:</p><pre><code class="Haskell">fmap (+3) (Just 2)-- Just 5</code></pre><p>Returning to Haskell, the Haskell “system library” has an instance of <code>Functor</code> called <code>Maybe</code>, which defines the behavior of <code>fmap</code>, specifying how to operate on values when the input parameter is of type <code>Just</code>:</p><pre><code class="Haskell">instance Functor Maybe where  fmap func (Just val) = Just (func val)  fmap func Nothing = Nothing</code></pre><p>The entire process of the expression <code>fmap (+3) (Just 2)</code> is similar to this:</p><img src="8.png" style="box-shadow: 0 0 0 #fff; margin-left: 0;" /><p>Similarly, from the definition of <code>Maybe</code>, it can be seen that if the second parameter passed to <code>fmap</code> is <code>Nothing</code>, the function will return <code>Nothing</code>. This is indeed the case:</p><img src="9.png" style="box-shadow: 0 0 0 #fff; margin-left: 0;" /><pre><code class="Haskell">fmap (+3) Nothing-- Nothing</code></pre><p>Now suppose a scenario in Java where a user uses a utility class Request to make a request to a server, and the request returns a type Response. Response is an entity class that may or may not contain the required data:</p><pre><code class="Java">Response res = Request.get(url);if (res.get(&quot;data&quot;) != null) &#123;  return res.data;&#125; else &#123;  return null;&#125;</code></pre><p>In Haskell, using <code>fmap</code> would become:</p><pre><code class="Haskell">fmap (get(&quot;data&quot;)) (Response res)</code></pre><p>Of course, Haskell doesn’t have a <code>get(&quot;data&quot;)</code> syntax. You can encapsulate the operation of getting <code>Response.data</code> as a function <code>getData</code>, then pass it into <code>fmap</code> as the first parameter.</p><p>Haskell provides a syntax sugar <code>&lt;$&gt;</code> for <code>fmap</code> to simplify its usage:</p><pre><code class="Haskell">getData &lt;$&gt; (Response res)</code></pre><p>Next, think about how Haskell functions operate on lists. The function performs calculations on each element of the list and then returns a list:</p><img src="10.png" style="box-shadow: 0 0 0 #fff; margin-left: 0;" /><p>In fact, lists are also Functors. Here is the definition of lists:</p><pre><code class="Haskell">instance Functor [] where  fmap = map</code></pre><h3 id="Applicatives"><a href="#Applicatives" class="headerlink" title="Applicatives"></a>Applicatives</h3><p><code>Applicatives</code> is another concept. We previously said that values are placed in boxes. What if functions are also placed in boxes?</p><img src="11.png" style="box-shadow: 0 0 0 #fff; margin-left: 0;" /><p>Haskell provides the operator <code>&lt;*&gt;</code> to handle functions inside boxes:</p><img src="12.png" style="box-shadow: 0 0 0 #fff; margin-left: 0;" /><p>For example:</p><pre><code class="Haskell">Just (+3) &lt;*&gt; Just 2 == Just 5</code></pre><p>Using <code>&lt;*&gt;</code> can also accomplish some interesting operations, such as multiplying and adding each element in a list:</p><pre><code class="Haskell">[(*2), (+3)] &lt;*&gt; [1, 2, 3]-- [2, 4, 6, 4, 5, 6]</code></pre><img src="13.png" style="box-shadow: 0 0 0 #fff; margin-left: 0;" /><h3 id="Monads"><a href="#Monads" class="headerlink" title="Monads"></a>Monads</h3><p>Function execution involves processing values using functions with arguments, involving three roles. <code>Functors</code> place the processed value in a box, <code>Applicatives</code> place the function in a box, and <code>Monads</code> place the function’s argument in a box. Monads have an operator <code>&gt;&gt;=</code> to achieve Monad functionality. Suppose there is a function <code>half</code> that takes a numerical value as an argument. If the value is even, it divides by 2; otherwise, it returns Nothing:</p><pre><code class="Haskell">half x = if even x  then Just (x `div` 2)  else Nothing</code></pre><img src="14.png" style="box-shadow: 0 0 0 #fff; margin-left: 0;" /><p>How do you pass a <code>Just</code> type value to <code>half</code>?</p><img src="15.png" style="box-shadow: 0 0 0 #fff; margin-left: 0;" /><p><code>&gt;&gt;=</code> can solve this problem:</p><pre><code class="Haskell">Just 3 &gt;&gt;= half-- Nothing</code></pre><p>The <code>&gt;&gt;=</code> operator takes <code>Just 3</code>, transforms it into <code>3</code>, and processes it in <code>half</code>. A <code>Monad</code> is a data type that defines the behavior of <code>&gt;&gt;=</code>:</p><pre><code class="Haskell">class Monad m where  (&gt;&gt;=) :: m a -&gt; (a -&gt; m b) -&gt; m b</code></pre><img src="16.png" style="box-shadow: 0 0 0 #fff; margin-left: 0;" /><p>Here, <code>Maybe</code> is a <code>Monad</code> (existing alongside the <code>Maybe</code> mentioned above):</p><pre><code class="Haskell">instance Monad Maybe where  Nothing &gt;&gt;= func = Nothing  Just val &gt;&gt;= func = func val</code></pre><p><code>&gt;&gt;=</code> also supports chain operations:</p><pre><code class="Haskell">Just 20 &gt;&gt;= half &gt;&gt;= half &gt;&gt;= half-- Nothing</code></pre><img src="17.png" style="box-shadow: 0 0 0 #fff; margin-left: 0;" /><h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><p>Although Haskell’s Monad is quite famous, it actually involves three concepts: <code>Functors</code>, <code>Applicatives</code>, and <code>Monads</code>. Perhaps Monad has more extensive applications. In data processing, FP is not superior to OOP; the logic is similar, only the writing style differs. Facing the same problem with different thinking and expressions corresponds to different programming ideas and paradigms. There are many intricate theories in the world waiting for us to explore.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;The first time I heard about Monad was at a Scala Meetup. Later, I tried to understand the concept of Monad but was overwhelmed by</summary>
        
      
    
    
    
    
    <category term="Programming Languages" scheme="https://en.smallyu.net/tags/Programming-Languages/"/>
    
  </entry>
  
  <entry>
    <title>A Brief Analysis of the Blockchain Technology Behind Libra</title>
    <link href="https://en.smallyu.net/2019/11/20/A%20Brief%20Analysis%20of%20the%20Blockchain%20Technology%20Behind%20Libra/"/>
    <id>https://en.smallyu.net/2019/11/20/A%20Brief%20Analysis%20of%20the%20Blockchain%20Technology%20Behind%20Libra/</id>
    <published>2019-11-20T09:21:18.000Z</published>
    <updated>2025-08-06T10:38:27.588Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Recently, national leaders have publicly encouraged the research of blockchain technology, stating that blockchain should be used as a breakthrough for independent innovation of core technologies. The issuance plan of Libra is an important milestone in the history of blockchain development. This article briefly introduces Libra’s technical solutions from aspects such as contract language, database protocol, logical data model, data structure, and consensus protocol.</p></blockquote><p>In May 2019, Facebook first confirmed its intention to launch a cryptocurrency, and news of the “global coin” and “Facebook coin” spread rapidly. On June 18, Facebook officially announced that it would launch a cryptocurrency called Libra, with a targeted release in the first half of 2020. Facebook claims that Libra is built on a secure, reliable, and scalable blockchain, adopts an off-chain asset collateral model, is anchored to a basket of fiat currencies as asset collateral, and is governed by the independent Libra Association. With 2.7 billion users worldwide, Libra’s vision is to create a simple, borderless currency that provides financial services to billions of people.</p><p>After Facebook officially announced Libra, it simultaneously launched Libra’s official website, white paper, and test network. The white paper mentioned that the Libra network hopes to operate as a public chain in the future, but due to the lack of mature technology to support large-scale transactions on public chains, Libra will start as a consortium chain, with plans to transition from a consortium chain to a public chain in three to five years.</p><p>The Libra official website published three papers detailing the technical solutions used by Libra: “The Libra Blockchain,” “Move: A Language with Programmable Resources,” and “State Machine Replication in the Libra Blockchain.” To meet the requirements of high security, sufficient flexibility, and high throughput, Libra designed a new programming language, Move, chose the BFT consensus mechanism, and adopted the widely used Merkle Tree as the data structure. This article briefly introduces the relevant technologies of the Libra blockchain.</p><h3 id="Move"><a href="#Move" class="headerlink" title="Move"></a>Move</h3><p>When real-world assets enter the Libra reserve, the system creates corresponding digital assets in Libra currency. These digital assets circulate between different accounts, and when real-world assets leave the Libra reserve, the corresponding digital assets are destroyed. Facebook designed a new programming language, Move, for managing digital assets in Libra, representing digital assets as resources in Move.</p><p>Move is a typed bytecode language, with resources being one of the types. Programs are first checked by a bytecode verifier before being executed by an interpreter. In Move, resources only support two operations: copy and move. Copying means moving out the resource, and moving means moving in the resource. Unlike ordinary variable types, resources can be assigned to ordinary variables, but resources themselves can only be moved between addresses and cannot be copied or discarded. If the program violates these rules, such as copying once and moving twice, it will not pass the bytecode verifier because the resource is no longer accessible after the first move.</p><p>Using Move, custom transaction logic and smart contracts can be written, which are more powerful than existing contract languages. Bitcoin Script provides a simple and elegant design for expressing strategies to spend bitcoins but does not support custom data types and programs and is not Turing complete. The Ethereum Virtual Machine supports control flow and custom data structures, but the excessive freedom of contracts leads to more vulnerabilities, resulting in many security incidents. Move’s static type system ensures the security of digital assets.</p><p>To facilitate verification by static analysis tools, Move takes several design measures: no dynamic dispatch, making it easier for verification tools to analyze programs; limited mutability, requiring references for each value change, with temporary variables created and destroyed within a single script, and the bytecode verifier using a “borrow checking” mechanism similar to Rust to ensure that a variable has only one mutable reference at a time; modularity, allowing verification tools to verify programs at the module level without needing to care about implementation details. These features make static verification tools more efficient and reliable.</p><pre><code>public main(payee: address, amount: u64) &#123;  let coin: 0x0.Currency.Coin = 0x0.Currency.withdraw_from_sender(copy(amount));  0x0.Currency.deposit(copy(payee), move(coin));&#125;</code></pre><p>This is an example program of a transaction script, an intermediate representation (IR) of the Move language, which is more readable and writable for programmers. The program implements a function to transfer resources. The main method is the entry point of the script, containing two parameters: the target address and the amount. The program first withdraws the amount of resources from the 0x0 address Currency module and temporarily stores it in the coin variable, then moves the coin resources to the payee’s address.</p><p>Transaction scripts provide flexibility in one aspect of Move, while modular design ensures the diversity of script programs. The module type is <code>module</code>, mainly containing Move programs. A module can include any number of resources, that is, declare one or more resource-type variables. Modules&#x2F;resources&#x2F;procedures are equivalent to classes&#x2F;objects&#x2F;methods in object-oriented languages, except there is no concept of self or this in Move.</p><h3 id="Libra-Protocol"><a href="#Libra-Protocol" class="headerlink" title="Libra Protocol"></a>Libra Protocol</h3><p>The Libra blockchain is a distributed database that needs cryptographic authentication to store programmable resources, such as Libra currency, represented as resources in Move. The Libra protocol has two types of entities: validators that collectively maintain the database and clients that typically initiate requests to the database. During execution, the Libra protocol elects a leader to receive client requests, synchronizes the requests to other validators for execution, and then returns the results to the leader, who then returns the final result to the client.</p><p>Libra transactions go through many steps, including signature verification, running pre-execution programs, verifying transaction scripts and module programs, publishing modules, executing transaction scripts, running post-execution programs, etc. To measure the computational power of contract transactions, Libra adopts the Gas concept from Ethereum, consuming Gas as transaction fees.</p><img src="a.png" width="100%" style="box-shadow: 0 0 0px #fff;"><p>This diagram shows the detailed flow of transaction requests within the Libra network components. The client initiates a request to the permission control layer. After permission verification, the request data is passed to the virtual machine for preprocessing, and the data also enters the memory pool, responsible for synchronizing the request to other nodes. The consensus protocol plays a role during request synchronization. After node synchronization, the virtual machine executes the actual transaction program, the program execution is completed, and the result is persisted, completing the basic process.</p><h3 id="Logical-Data-Model"><a href="#Logical-Data-Model" class="headerlink" title="Logical Data Model"></a>Logical Data Model</h3><p>All data on the Libra blockchain is stored in a database identified by version numbers, which are 64-bit unsigned integers. Each version of the database contains a tuple (T, O, S), where T represents the transaction, O represents the transaction output, and S represents the ledger state. When we say an Apply operation is executed, it is represented as Apply(S, T) -&gt; (O, S), meaning that the T transaction is executed in the S state, producing O output and changing the ledger state to S.</p><p>Accounts are owners of resources and can use the resources in their accounts for transactions. An account address is a 256-bit value. Creating a new account requires a verification&#x2F;signature key pair (vk, sk). The new account address a is computed by public key encryption of vk, a &#x3D; H(vk). Specifically, Libra uses the SHA3-256 hash function and the EdDSA public key of the Ed25519 elliptic curve for digital signatures. During transactions, an existing account can generate a new account by invoking the create_account(a) command.</p><img src="b.png" width="80%" style="box-shadow: 0 0 0px #fff;"><p>The diagram shows four account addresses prefixed with 0x. Rectangles represent modules, ellipses represent resources, and arrows represent dependencies. The Currency.T in the 0x12 account is declared in the Currency module, and the Currency module code is stored at address 0x56. Similarly, the StatChannel.T of 0x34 is declared in the StateChannel module at address 0x78. When a client wants to access the Currency.T under 0x12, the request resource path should be written as 0x12&#x2F;resources&#x2F;0x56.Currency.T.</p><h3 id="Data-Structure"><a href="#Data-Structure" class="headerlink" title="Data Structure"></a>Data Structure</h3><p>Libra transaction blocks contain data signed by nodes, and the signature data is verified before the transaction. The collective signature allows clients to trust that the requested database version is complete and valid, enabling clients to query any node or third-party database replica. The data structure in the Libra protocol is primarily based on Merkle trees.</p><img src="c.png" width="100%" style="box-shadow: 0 0 0px #fff;"><p>As shown, the root hash of ledger historical data verifies the system’s complete state, with ledger data accumulated by a Merkle tree, represented by dashed lines. Each node in the ledger’s historical data contains transaction signatures, event trees, and ledger states. The event tree is also based on Merkle trees, while the ledger state is based on sparse Merkle trees, with each leaf node containing account data.</p><p>In the Libra protocol, validator nodes V verify the root hash a of data D. For example, when an untrusted node obtains data D and uses function f to compute the result r, it also needs data π to verify the result’s correctness. The protocol requires the node to transmit (a, f, r, π) to the validator V for verification. If f(D) &#x3D; r, the result is verified.</p><img src="d.png" width="70%" style="box-shadow: 0 0 0px #fff;"><p>In the diagram, data D &#x3D; {0:s0, 1:s1, 2:s2, 3:s3}. Suppose f is a</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Recently, national leaders have publicly encouraged the research of blockchain technology, stating that blockchain should</summary>
        
      
    
    
    
    
    <category term="Blockchain" scheme="https://en.smallyu.net/tags/Blockchain/"/>
    
  </entry>
  
  <entry>
    <title>Rational Understanding of Blockchain</title>
    <link href="https://en.smallyu.net/2019/11/05/Rational%20Understanding%20of%20Blockchain/"/>
    <id>https://en.smallyu.net/2019/11/05/Rational%20Understanding%20of%20Blockchain/</id>
    <published>2019-11-05T05:53:58.000Z</published>
    <updated>2025-08-06T10:38:27.728Z</updated>
    
    <content type="html"><![CDATA[<p>I once thought blockchain was a revolutionary and disruptive technology, alongside artificial intelligence and big data as the forefront of internet technology. However, true intelligence in AI is still a dream, and big data cannot achieve precise analysis like in the Avengers. Recently, the leader’s speech about blockchain was inspiring, but haven’t the past trends like IoT and Internet+ also ended without much impact?</p><h3 id="Public-Blockchains-Cannot-Escape-Currency"><a href="#Public-Blockchains-Cannot-Escape-Currency" class="headerlink" title="Public Blockchains Cannot Escape Currency"></a>Public Blockchains Cannot Escape Currency</h3><p>Some believe that just as nuclear reactions initially aimed to build nuclear bombs but now serve as a source of power, blockchain initially supported Bitcoin but can now be applied in other fields. In other words, they see nuclear reactions and blockchain as equivalent.</p><pre><code>Nuclear Reaction -&gt; Nuclear BombBlockchain -&gt; Bitcoin</code></pre><p>However, upon closer examination, how can we compare these almost completely different things? If you’ve read a few books on blockchain, you’ll find that the content isn’t particularly new, and the ideas don’t quite qualify as revolutionary or innovative. Bitcoin has been around for about 10 years and hasn’t overcome technical challenges, just different mechanisms combined. It should be considered on the same level as P2P or some video game. The value of Bitcoin lies in electronic transactions, not the currency itself.</p><pre><code>Nuclear Reaction -&gt; Nuclear Energy -&gt; Big ExplosionBlockchain -&gt; Bitcoin -&gt; Electronic Transactions</code></pre><p>Because of nuclear reactions, we get nuclear energy, which can cause big explosions. Because of blockchain, we get Bitcoin, which enables electronic transactions. So, in this sense, nuclear energy is inseparable from nuclear reactions, and Bitcoin is inseparable from blockchain.</p><p>So, can blockchain be applied independently of Bitcoin? Or are blockchain and Bitcoin essentially one entity? Just like nuclear reactions produce nuclear energy, it’s the energy that’s valuable, not the reaction. Blockchain produces Bitcoin, which operates on blockchain to offer anonymity, immutability, and traceability. It’s Bitcoin that’s valuable, not blockchain.</p><p>A few days ago, the Guangzhou government issued detailed guidelines (<a href="http://www.gz.gov.cn/gzswjk/2.3.6.3/201910/7beb40281dde4fa2beee0da2b16aa6dc.shtml">Implementation Details</a>) for subsidizing blockchain enterprises, clearly stating “non-currency” public chain projects. This policy indicates that while the state does not allow issuing currency, a non-currency public chain is the ideal scenario for blockchain, though generally, ideals are hard to achieve.</p><p>Bitcoin addresses trust issues in transactions, fundamentally concerned with data storage. In a transaction, if either the sender or receiver keeps the record, disputes can arise if either party lies or makes a mistake. Traditionally, a third party like a bank or legal firm resolves such issues. But if one doesn’t trust these centralized institutions, Bitcoin’s solution is to let everyone in the world keep the record, making it nearly impossible to alter without global consensus.</p><p>Without rewards, people won’t voluntarily keep records. So, how does a distributed ledger system maintain itself?</p><h3 id="Bitcoin-is-Not-Truly-Decentralized"><a href="#Bitcoin-is-Not-Truly-Decentralized" class="headerlink" title="Bitcoin is Not Truly Decentralized"></a>Bitcoin is Not Truly Decentralized</h3><p>Some think that distributed ledgers and databases are already decentralized, but this is not the final form of decentralization. For instance, Bitcoin’s program development, maintenance, and upgrades are still centralized. The data is globally shared, but the program’s rules, development, and releases are controlled by a centralized body. To trust the program, it’s open-sourced, but upgrading it presents challenges like ensuring backward compatibility or ensuring everyone updates.</p><p>Furthermore, Bitcoin’s data redundancy is a significant issue. Every node needs to backup all data, including unrelated historical data. If a single node doesn’t retain all data, the reliability of distributed data can’t be ensured. But if all data is kept, it’s a massive waste of resources. A centralized system can solve this with just one data copy, so why multiply it billions of times?</p><p>We can envision scenarios sacrificing the concept of decentralization:</p><ol><li><p><strong>Global Shared Database</strong>: A single global database that only stores data, with distributed programs solving consensus. It’s highly secure with strict write rules requiring global consensus or other mechanisms for data entry. Anyone can query data, and historical data can’t be modified. Consensus programs determine which data to write, ensuring minimal data redundancy.</p></li><li><p><strong>Split Data Storage</strong>: Each node keeps only half the data, split into historical and current. One person stores new data, another stores old data. New data nodes handle broadcasts and write data, while old data nodes store data, updating when new data overflows. The system randomly pairs new and old nodes, balancing distribution. Security remains high with random node pairing.</p></li><li><p><strong>Data Splitting and Redundancy</strong>: Nodes keep only parts of data, split according to certain rules and stored in different nodes. This reduces redundancy while saving space. Further, data could self-verify, with nodes storing varying data sizes. Users query data across the network, assembling it from nodes. This mixes node data, necessitating a self-verification mechanism.</p></li></ol><h3 id="Digital-Currency-and-Blockchain-are-Unrelated"><a href="#Digital-Currency-and-Blockchain-are-Unrelated" class="headerlink" title="Digital Currency and Blockchain are Unrelated"></a>Digital Currency and Blockchain are Unrelated</h3><p>Some discussions on blockchain applications link to central bank digital currency research, even notable exchange directors giving blockchain-themed talks mixing Bitcoin and Libra stories. Many ignore the conceptual differences, which are trivial yet crucial. The central bank’s digital currency plans may use blockchain, but it’s not essential. For the state, blockchain’s significance lies in “centralization in the name of decentralization,” aiming to unify and regulate the internet. Without blockchain, the state can still achieve its goals, using blockchain as a tool for convenience.</p><p>In the past, blockchain referred to the technology supporting Bitcoin. In the future, blockchain will be almost synonymous with consortium chains.</p><p>Huawei’s blockchain whitepaper objectively views blockchain as a supplement to the internet, inseparable from traditional databases and TCP, playing a unique role in specific scenarios. For the state, blockchain offers transparent data, preventing manipulation. For businesses, it facilitates checks and balances, with multiple companies sharing data, and blockchain as the key. Without blockchain, data sharing might be unclear, but with Bitcoin’s decade-long stability, it’s a promising technology driving innovation and application.</p><p>In the future, blockchain development will split into foundational and application layers. Foundational development requires higher technical skills, while application development will be akin to current web development. Blockchain application providers and SDKs will emerge, enabling developers to store data and conduct transactions on the blockchain, similar to current database APIs and payment interfaces.</p><h3 id="In-Conclusion"><a href="#In-Conclusion" class="headerlink" title="In Conclusion"></a>In Conclusion</h3><p>Blockchain will be widely integrated into our networks but is not enough to change the world. (Don’t laugh)</p><h3 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h3><p>I stumbled upon the distributed network <a href="https://github.com/HelloZeroNet/ZeroNet">ZeroNet</a>, a project released in 2015 that meets almost all my expectations for a blockchain storage system, with complete functionalities for blogs, forums, emails, and file sharing. However, it hasn’t solved any of the issues I anticipated, validating some of my thoughts. The difference is that I hoped to connect a distributed network to the public internet, while ZeroNet created an autonomous network system, with .bit domains only as URI suffixes, limiting wider adoption. Additionally, P2P file systems are hard to regulate, leading to GWF’s blacklist. Although specific, ZeroNet and IPFS indicate that blockchain is best suited for financial fields or restricted internet domains.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;I once thought blockchain was a revolutionary and disruptive technology, alongside artificial intelligence and big data as the forefront</summary>
        
      
    
    
    
    
    <category term="Blockchain" scheme="https://en.smallyu.net/tags/Blockchain/"/>
    
  </entry>
  
  <entry>
    <title>Overview of Basic Rust Syntax</title>
    <link href="https://en.smallyu.net/2019/08/19/Overview%20of%20Basic%20Rust%20Syntax/"/>
    <id>https://en.smallyu.net/2019/08/19/Overview%20of%20Basic%20Rust%20Syntax/</id>
    <published>2019-08-19T14:12:25.000Z</published>
    <updated>2025-08-06T10:38:27.722Z</updated>
    
    <content type="html"><![CDATA[<p>Rust is a language with complexity and application scenarios comparable to C++. Let’s learn it together!</p><p>Recently, I’ve been pondering what kind of content this type of article represents. A programming language tutorial? The content is not comprehensive enough; an evaluation of the language? Not quite; study notes? If so, that’s definitely not my intention. I tend to think this is an exploratory process, whether for myself or for others. I hope to show that, look, there’s nothing mysterious about a new programming language, it’s so simple! Some programmers spend their entire lives using a particular language as a prefix to their job title, “Java Programmer” or “Backend Developer.” We should break out of this loop.</p><h3 id="Statements"><a href="#Statements" class="headerlink" title="Statements"></a>Statements</h3><p>Rust statements must end with a <code>;</code>.</p><h3 id="Constants-and-Variables"><a href="#Constants-and-Variables" class="headerlink" title="Constants and Variables"></a>Constants and Variables</h3><p>Rust uses <code>let</code> to define constants and <code>let mut</code> to define variables. This way of writing may seem a bit strange:</p><pre><code class="Rust">fn main() &#123;  let x = 1;  println!(&quot;&#123;&#125;&quot;, x);  let mut y = 2;  println!(&quot;&#123;&#125;&quot;, y);  y = 3;  println!(&quot;&#123;&#125;&quot;, y);&#125;</code></pre><p>Unlike other languages, Rust allows multiple declarations of the same constant within the same scope. This means that although constants in Rust cannot be reassigned, the same constant name can be defined multiple times. We can understand the difference between constants and variables at the system level, but the writing style can be a bit confusing. If I assign a value to the same symbol multiple times, isn’t that symbol a variable?</p><pre><code class="Rust">fn main() &#123;  let x = 1;  println!(&quot;&#123;&#125;&quot;, x);  let x = 2;  println!(&quot;&#123;&#125;&quot;, x);&#125;</code></pre><p>Another somewhat strange aspect is that Rust variables cannot be redeclared. We cannot speculate on the intentions of the language designers; this is clearly not allowed to enable redefinition. Perhaps, there are only constants in Rust, and the <code>mut</code> keyword provides an interface for constants to be assigned multiple times. Without <code>mut</code>, a constant is just a constant; with <code>mut</code>, the constant gets an “entry” to acquire new values. As for the issue of variable redeclaration, why need a bicycle?</p><pre><code class="Rust">fn main() &#123;  let mut x = 1;  let mut x = 2;&#125;// warning: variable does not need to be mutable</code></pre><h3 id="Control-Flow"><a href="#Control-Flow" class="headerlink" title="Control Flow"></a>Control Flow</h3><p>The conditional part of Rust does not require parentheses, similar to the Go language. Who came first?</p><pre><code class="Rust">fn main() &#123;  let number = 2;  if number == 1 &#123;    println!(&quot;1&quot;)  &#125; else if number == 2 &#123;    println!(&quot;2&quot;)  &#125; else &#123;    println!(&quot;3&quot;)  &#125;&#125;</code></pre><p>Since the <code>if</code> statement itself is an expression, it can also be nested into assignment statements to achieve a function similar to the ternary operator in other languages. (Rust is a strongly typed language, so assignment types must be consistent.)</p><pre><code class="Rust">fn main() &#123;  let number = if true &#123;    3  &#125; else &#123;    4  &#125;;  println!(&quot;&#123;&#125;&quot;, number);&#125;</code></pre><p>Compared to the concise and multifunctional <code>for</code> loop of the Go language, Rust supports multiple types of loops:</p><pre><code class="Rust">fn main() &#123;  loop &#123;    // ...  &#125;  while true &#123;    // ...  &#125;  let a = [1, 2, 3];  for item in a.iter() &#123;    println!(&quot;&#123;&#125;&quot;, item);  &#125;&#125;</code></pre><h3 id="Functions-and-Value-Passing"><a href="#Functions-and-Value-Passing" class="headerlink" title="Functions and Value Passing"></a>Functions and Value Passing</h3><p>Rust seems to have no distinction between pass by value and pass by reference, because everything in Rust is passed by reference, or categorized as constant passing and variable passing. Comparing the creation of strings in Java, strings in Rust can also be created using the “object declaration” method:</p><pre><code class="Rust">fn main() &#123;  // Constant passing  let a = String::from(&quot;a&quot;);  testa(&amp;a);  // Variable passing  let mut b = String::from(&quot;b&quot;);  testb(&amp;mut b);  println!(&quot;&#123;&#125;&quot;, b);&#125;fn testa(a: &amp;String) &#123;  println!(&quot;&#123;&#125;&quot;, a);&#125;fn testb(b: &amp;mut String) &#123;  b.push_str(&quot; b&quot;);&#125;</code></pre><p>Functions can also have return values, and in Rust, the return type is defined with <code>-&gt;</code>. By default, the value of the last line of the function is used as the return value, or you can use <code>return</code> to end the function early. Note that the expression used as the return value on the last line should not end with a semicolon…</p><pre><code class="Rust">fn main() &#123;  let mut a = test();  println!(&quot;&#123;&#125;&quot;, a);  a = test2();  println!(&quot;&#123;&#125;&quot;, a);&#125;fn test() -&gt; u32 &#123;  1&#125;fn test2() -&gt; u32 &#123;  return 2;&#125;</code></pre><h3 id="Structures"><a href="#Structures" class="headerlink" title="Structures"></a>Structures</h3><p>The basic usage of structures is quite conventional, without the <code>new</code> keyword; you can use it directly by “instantiating” it:</p><pre><code class="Rust">struct Foo &#123;  a: String,  b: i32&#125;fn main() &#123;  let t = Foo &#123;    a: String::from(&quot;a&quot;),    b: 1,  &#125;;  println!(&quot;&#123;&#125;, &#123;&#125;&quot;, t.a, t.b);&#125;</code></pre><p>You can also add methods to structures:</p><pre><code class="Rust">struct Foo &#123;  a: String,  b: i32&#125;impl Foo &#123;  fn test(&amp;self) -&gt; i32 &#123;    self.b + 1  &#125;&#125;fn main() &#123;  let t = Foo &#123;    a: String::from(&quot;a&quot;),    b: 1,  &#125;;  println!(&quot;&#123;&#125;, &#123;&#125;, &#123;&#125;&quot;, t.a, t.b, t.test());&#125;// a, 1, 2</code></pre><h3 id="Lists-and-Pattern-Matching"><a href="#Lists-and-Pattern-Matching" class="headerlink" title="Lists and Pattern Matching"></a>Lists and Pattern Matching</h3><p>The following example creates a vector containing three elements, then assigns the 0th element to the constant <code>one</code>. It then uses pattern matching to check if the 0th element of the list equals the value of <code>one</code>. If they are equal, it outputs the string “one”; otherwise, it outputs “none.” In Rust’s pattern matching, <code>Some()</code> and <code>None</code> are built-in keywords:</p><pre><code class="Rust">fn main() &#123;  let v = vec![1, 2, 3];  let one = &amp;v[0];  println!(&quot;&#123;&#125;&quot;, one);  match v.get(0) &#123;    Some(one) =&gt; println!(&quot;one&quot;),    Some(2) =&gt; println!(&quot;two&quot;),    None =&gt; println!(&quot;none&quot;),  &#125;&#125;</code></pre><h3 id="Error-Handling"><a href="#Error-Handling" class="headerlink" title="Error Handling"></a>Error Handling</h3><p>The <code>panic</code> function is used to throw exceptions:</p><pre><code class="Rust">fn main() &#123;  panic!(&quot;new Exception&quot;);&#125;// thread &#39;main&#39; panicked at &#39;new Exception&#39;, test.rs:4:3// note: Run with `RUST_BACKTRACE=1` environment variable to display a backtrace.</code></pre><p>For error handling, Rust provides two shorthand methods for conveniently handling error information. The <code>unwrap()</code> function automatically throws a <code>panic</code>. If <code>unwrap()</code> is not used, the program skips the code where <code>panic</code> occurred. This is somewhat opposite to Java’s exception handling logic because if an exception is not handled in Java, the program cannot continue running. In Rust, if <code>unwrap()</code> is used to handle a <code>panic</code>, the program will stop executing and print the error message.</p><pre><code class="Rust">use std::fs::File;fn main() &#123;  let f = File::open(&quot;hello.txt&quot;);  println!(&quot;a&quot;);  let f2 = File::open(&quot;hello.txt&quot;).unwrap();  println!(&quot;b&quot;);&#125;// a// thread &#39;main&#39; panicked at &#39;called `Result::unwrap()` on an `Err` value: Os &#123; code: 2, kind: NotFound, message: &quot;The system cannot find the file specified.&quot; &#125;&#39;, src\libcore\result.rs:999:5// ...</code></pre><p>Another shorthand method is <code>expect()</code>, which can be used to replace <code>unwrap()</code>. The difference between <code>expect()</code> and <code>unwrap()</code> is that <code>unwrap()</code> uses the system’s built-in <code>panic</code> information, while <code>expect()</code> can pass a parameter as the <code>panic</code> error message. That’s all.</p><pre><code class="Rust">use std::fs::File;fn main() &#123;    let f = File::open(&quot;hello.txt&quot;).expect(&quot;Failed to open hello.txt&quot;);&#125;// thread &#39;main&#39; panicked at &#39;Failed to open hello.txt: ...// ...</code></pre><h3 id="Lambda-Expressions"><a href="#Lambda-Expressions" class="headerlink" title="Lambda Expressions"></a>Lambda Expressions</h3><p>Lambda expressions in Rust use <code>|</code> as parameter delimiters, replacing <code>()</code>. Besides that, Lambdas function the same as in other languages:</p><pre><code class="Rust">fn main() &#123;  let test = |num| &#123;    num == 1  &#125;;  println!(&quot;&#123;&#125;, &#123;&#125;&quot;, test(1), test(2));&#125;// true, false</code></pre><h3 id="Others"><a href="#Others" class="headerlink" title="Others"></a>Others</h3><p>Rust’s language features go far beyond this, especially Rust’s unique memory management mechanism, and the concept of “ownership,” which makes it hard for Rust beginners to get started, require us to keep moving forward.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Rust is a language with complexity and application scenarios comparable to C++. Let’s learn it together!&lt;/p&gt;
&lt;p&gt;Recently, I’ve been</summary>
        
      
    
    
    
    
    <category term="Programming Language" scheme="https://en.smallyu.net/tags/Programming-Language/"/>
    
  </entry>
  
  <entry>
    <title>Java-Based Web Scraping Framework WebCollector</title>
    <link href="https://en.smallyu.net/2019/08/10/Java-Based%20Web%20Scraping%20Framework%20WebCollector/"/>
    <id>https://en.smallyu.net/2019/08/10/Java-Based%20Web%20Scraping%20Framework%20WebCollector/</id>
    <published>2019-08-10T13:03:41.000Z</published>
    <updated>2025-08-06T10:38:27.717Z</updated>
    
    <content type="html"><![CDATA[<p>Long, Long Ago, there were numerous Python web scraping tutorials available online, and various training courses leveraged the trend to promote Python. In recent years, the hype has shifted towards artificial intelligence. Web scraping can be a simple or complex concept, much like building a doghouse versus constructing a skyscraper - both are engineering projects.</p><p>Due to work requirements, I needed to use WebCollector to scrape some data from web pages. In a broad sense, web scraping involves nothing more than accessing page files, extracting the necessary data, and then storing the data in a database. The challenges often lie in two main areas: one, the anti-scraping strategies of the target website, which can be a frustrating battle of wits; and two, the large number and variety of target web pages, making it difficult to formulate effective data scraping and analysis plans.</p><h3 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h3><p>This is a brief conceptual diagram. Due to screen width limitations, the content may not be clear. Please open the image in a new tab or click <a href="/2019/08/10/%E5%9F%BA%E4%BA%8EJava%E7%9A%84%E7%88%AC%E8%99%AB%E6%A1%86%E6%9E%B6WebCollector/WebCollector.png">here</a>. The image is not perfect and even contains some incorrect implementations, which will be explained in detail later.</p><img src="WebCollector.png" width="95%" height="100%"><p>I divided the target web pages into four types:</p><ol><li>Static web documents that can be loaded with curl</li><li>Pages that require custom HTTP requests, such as search result pages obtained via POST requests or pages that require authentication using cookies</li><li>Pages containing data generated by JavaScript, which is the data we need. Since JavaScript executes after loading, similar to how CSS is rendered by the browser after loading, this data cannot be directly obtained</li><li>Pages containing data generated by JavaScript, which also require custom HTTP requests</li></ol><h3 id="Test-Environment"><a href="#Test-Environment" class="headerlink" title="Test Environment"></a>Test Environment</h3><p>To facilitate testing, a simple server is started locally using Node.js to receive requests and return a page as a response. The content of server.js is as follows:</p><p><code>JavaScript</code>var http &#x3D; require(‘http’)var fs &#x3D; require(‘fs’)var server &#x3D; http.createServer((req,res) &#x3D;&gt; {  &#x2F;&#x2F; Return page content  fs.readFile(‘.&#x2F;index.html’, ‘utf-8’, (err,data) &#x3D;&gt; {    res.end(data);  });  &#x2F;&#x2F; Print cookie information in the request  console.log(req.headers.cookie)})server.listen(9000) </p><pre><code>The content of index.html is simpler, containing only a title and a p tag:```HTML```&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;    &lt;title&gt;This is a title&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;</code></pre><h3 id="Static-Page"><a href="#Static-Page" class="headerlink" title="Static Page"></a>Static Page</h3><p>This is the simplest version of a web scraper. The constructor calls the parent class’s parameterized constructor and adds a URL to the queue of URLs to be scraped. The visit method is the consumer, processing each URL request.</p><p><code>Java</code>public class StaticDocs extends BreadthCrawler {</p><pre><code>public StaticDocs(String crawlPath, boolean autoParse) &#123;    super(crawlPath, autoParse);    this.addSeed(&quot;http://127.0.0.1:9000/&quot;);&#125;@Overridepublic void visit(Page page, CrawlDatums next) &#123;    System.out.println(page.doc().title());    // This is a title&#125;public static void main(String[] args) throws Exception &#123;    StaticDocs crawler = new StaticDocs(&quot;crawl&quot;, true);    crawler.start(1);&#125;</code></pre><p>}</p><pre><code>### Cookie AuthenticationRequesting with a cookie in the header is equally simple. Just add the appropriate configuration in the constructor, and the Node.js command line will print the cookie content:```Java```public CookieDocs(String crawlPath) &#123;    super(crawlPath, true);    // Set request plugin    setRequester(new OkHttpRequester() &#123;        @Override        public Request.Builder createRequestBuilder(CrawlDatum crawlDatum) &#123;            return super.createRequestBuilder(crawlDatum)                    .header(&quot;Cookie&quot;, &quot;name=smallyu&quot;);        &#125;    &#125;);    this.addSeed(&quot;http://127.0.0.1:9000/&quot;);&#125;// name=smallyu</code></pre><h3 id="JavaScript-Generated-Data"><a href="#JavaScript-Generated-Data" class="headerlink" title="JavaScript-Generated Data"></a>JavaScript-Generated Data</h3><p>Testing the case of JavaScript-generated data requires some preparation. Modify index.html and add the following lines of code in the body tag:</p><p><code>JavaScript</code></p><div id="content">1</div><script>  document.getElementById('content').innerHTML = '2'</script>```<p>As expected, the content of the div returned directly by the request is 1, and the JavaScript, executed by the browser, changes the content of the div to 2. A web scraper accessing a static page can only reach the first step, which is to directly obtain the content returned by the request. Modify the visit method of StaticDocs.java to print the content of the div and confirm it is 1:</p><p><code>Java</code>System.out.println(page.select(“div”).text());&#x2F;&#x2F; 1</p><pre><code>Here is an official demo for obtaining JavaScript-generated data. WebCollector relies on Selenium and uses HtmlUnitDriver to run JavaScript:```Java```public class JsDocs &#123;    public static void main(String[] args) throws Exception &#123;        Executor executor = (CrawlDatum datum, CrawlDatums next) -&gt; &#123;            HtmlUnitDriver driver = new HtmlUnitDriver();            driver.setJavascriptEnabled(true);            driver.get(datum.url());            WebElement divEle = driver.findElement(By.id(&quot;content&quot;));            System.out.println(divEle.getText());            // 2        &#125;;        // Create a DBManager based on Berkeley DB        DBManager manager = new RocksDBManager(&quot;crawl&quot;);        // Create a Crawler with DBManager and Executor        Crawler crawler = new Crawler(manager, executor);        crawler.addSeed(&quot;http://127.0.0.1:9000/&quot;);        crawler.start(1);    &#125;&#125;</code></pre><p>If you have seen the homepage of WebCollector, you will notice a significant difference between this demo and other demos. When not requiring JavaScript-generated data, the new class extends BreadthCrawler, which extends AutoParseCrawler, which in turn extends Crawler. However, for obtaining JavaScript data, the demo directly instantiates Crawler, skipping BreadthCrawler and AutoParseCrawler.</p><img src="uml.png" width="50%" height="100%"><p>Why is this done? To reiterate, this is an official demo.</p><h3 id="JavaScript-Generated-Data-After-Cookie-Authentication"><a href="#JavaScript-Generated-Data-After-Cookie-Authentication" class="headerlink" title="JavaScript-Generated Data After Cookie Authentication"></a>JavaScript-Generated Data After Cookie Authentication</h3><p>According to the official example, it is clear that cookies cannot be set because the Crawler class does not provide a method for customizing headers. This header customization method is inherited from the AutoParseCrawler class. So how do you achieve both setting cookies and using HtmlUnitDriver?</p><p>The result is simple. After reviewing the WebCollector code, I discovered that AutoParseCrawler implements the Executor interface and assigns this to the parent class’s executor in its constructor. In other words, AutoParseCrawler itself is an Executor. The following code illustrates their relationship:</p><p><code>Java</code>public class Crawler {    protected Executor executor;</p><pre><code>public Crawler(DBManager dbManager, Executor executor) &#123;    // ...&#125;</code></pre><p>}</p><p>public class AutoParseCrawler extends Crawler implements Executor {    public AutoParseCrawler(boolean autoParse) {        &#x2F;&#x2F; Here, executor refers to the parent class        this.executor &#x3D; this;    }}</p><pre><code>Creating a new Crawler and passing in an executor is equivalent to directly creating an AutoParseCrawler. BreadthCrawler extends AutoParseCrawler, so BreadthCrawler itself is also an Executor. Looking again at the official demo for custom cookies, how can HtmlUnitDriver be used in it? By overriding the execute method of Executor.Therefore, to obtain JavaScript-generated data after defining a cookie, use a class that extends BreadthCrawler and override the execute method. Here is a complete demo:```Java```/** * @author smallyu * @date 2019.08.11 12:18 */public class JsWithCookieDocs extends BreadthCrawler &#123;    public JsWithCookieDocs(String crawlPath) &#123;        super(crawlPath, true);        // Set request plugin        setRequester(new OkHttpRequester() &#123;            @Override            public Request.Builder createRequestBuilder(CrawlDatum crawlDatum) &#123;                return super.createRequestBuilder(crawlDatum)                        .header(&quot;Cookie&quot;, &quot;name=smallyu&quot;);            &#125;        &#125;);        this.addSeed(&quot;http://127.0.0.1:9000/&quot;);    &#125;    // Directly override execute    @Override    public void execute(CrawlDatum datum, CrawlDatums next) throws Exception &#123;        super.execute(datum, next);        HtmlUnitDriver driver = new HtmlUnitDriver();        driver.setJavascriptEnabled(true);        driver.get(datum.url());        WebElement divEle = driver.findElement(By.id(&quot;content&quot;));        System.out.println(divEle.getText());        // 2        // Meanwhile, the Node.js command line prints the cookie content    &#125;    // No need for visit when execute is overridden    public void visit(Page page, CrawlDatums crawlDatums) &#123;&#125;    public static void main(String[] args) throws Exception &#123;        JsWithCookieDocs crawler = new JsWithCookieDocs(&quot;crawl&quot;);        crawler.start(1);    &#125;&#125;</code></pre><h3 id="External-Proxy"><a href="#External-Proxy" class="headerlink" title="External Proxy"></a>External Proxy</h3><p>Perhaps it is not over yet. In the initial conceptual image, both setting cookies and obtaining JavaScript-generated data were defined using internal Selenium and</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Long, Long Ago, there were numerous Python web scraping tutorials available online, and various training courses leveraged the trend to</summary>
        
      
    
    
    
    
    <category term="Programming Languages" scheme="https://en.smallyu.net/tags/Programming-Languages/"/>
    
  </entry>
  
  <entry>
    <title>Signs of Poor Work Performance</title>
    <link href="https://en.smallyu.net/2019/07/25/Signs%20of%20Poor%20Work%20Performance/"/>
    <id>https://en.smallyu.net/2019/07/25/Signs%20of%20Poor%20Work%20Performance/</id>
    <published>2019-07-24T16:05:30.000Z</published>
    <updated>2025-08-06T10:38:28.701Z</updated>
    
    <content type="html"><![CDATA[<p>It’s around midnight, the time I should be sleeping, but suddenly I feel like writing something.</p><ul><li><p><strong>Complaints</strong> </p><p>Constantly complaining about everything, showing dissatisfaction on their face and voicing it out, afraid that others might not know they have an opinion. :)</p></li><li><p><strong>Inability to Handle Work Pressure</strong></p><p>Complaints often stem from the work itself. A slightly heavier workload leads to complaints: there’s too much work, I’m so annoyed, I can’t finish, I can’t keep up, I don’t have time. In reality, it’s just a normal workload, no need for overtime, and everyone enjoys slacking off once in a while. :)</p></li><li><p><strong>Emotional</strong></p><p>When colleagues raise questions, the common response is to ignore them, and if things get slightly serious, they confront each other. The most surprising reason for anger could be “he doesn’t respect my work”. It’s just a job, what achievements can labor have? :)</p></li><li><p><strong>Self-Centered</strong></p><p>Cooperation and division of labor in normal work feel like asking the government for help; it needs to be at the right time, convenient, when they have time, and when they’re in a good mood. Otherwise, you might see an unpleasant face. I once thought everyone was equal. :)</p></li><li><p><strong>Your Fault, Not Mine</strong></p><p>Waiting for someone to solve the problem: it’s your fault, not mine. This issue needs you to fix it, not me. If there’s something, find you instead of me; if you can solve it, don’t let me get involved. :)</p></li><li><p><strong>Lack of Professional Skills</strong></p><ul><li><p><strong>Poor Modularization Ability</strong></p><p>Function components, module abstraction. A front-end engineer who doesn’t understand backend architecture isn’t a good coder. Due to a lack of understanding of the entire project structure, the reuse ability is too poor, leading to large workloads when requirements change, which causes the first point. :)</p></li><li><p><strong>Lack of Programming Skills</strong></p><p>Can write code but can’t program. Lacks basic computer knowledge, appears blind and powerless when encountering functionality, and due to their own limitations, the difficulty of work increases, leading to longer working hours and larger workloads, causing the first point. :)</p></li><li><p><strong>Lack of Self-Awareness</strong></p><p>What can you do, what can’t you do? :)</p></li><li><p><strong>Giant in Thought</strong></p><p>A giant in thought but a dwarf in action. Even if they know they have shortcomings and verbally express or take action to change, the effect is minimal. Generally, the reason for this phenomenon is that they haven’t thought it through. :)</p></li></ul></li><li><p><strong>Blindly Competitive</strong></p><p>Refuses others’ help, hoping others will be more friendly and cooperative in line with their abilities. Cares more about “completing” tasks by themselves rather than “completing tasks”.</p></li><li><p><strong>Unclear Goals</strong></p><p>What is the purpose of work? If it’s so painful, why not change industries? :)</p></li><li><p><strong>…</strong></p></li></ul><p>I have no malice, just describing some objective phenomena. I pity those who lack ability and feel helpless when facing tasks beyond their capability, but I also feel uncomfortable. Working with such people might be a nightmare. I try to avoid points I dislike and warn myself not to become like that. Improve myself, then I can have the qualification to dislike others. It’s around 1:05 AM, I need to sleep.</p><h3 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h3><p>Nearly a month has passed, and I seem to start understanding some behaviors and phenomena.</p><p>Here’s the thing, recently, I tried to use C# to develop a simple desktop application. My idea was simple: customize a few shortcut keys to replace multiple backspaces. For example, the global hotkey <code>Ctrl-5</code> would act like pressing the backspace key five times, and <code>Ctrl-6</code> would act like pressing it six times.</p><p>This idea came from my daily typing process. Due to the fast typing speed of both hands, which is like multi-threaded disordered execution, there often appeared misplaced letters in Pinyin, and with quick hands pressing the space key, a long string of incorrect words would appear on the screen. Pressing the backspace key multiple times each time is quite unpleasant, especially when the smooth flow of thoughts is interrupted. It feels like the backspace key not only affects the smooth typing but also brings a sense of having to take responsibility for previous small mistakes with a certain resentment.</p><p>Initially, I thought it would be simple: just register a set of global keys with the system and simulate keyboard input. However, during the actual development process, I encountered many difficulties. At first, I couldn’t even distinguish between Window and Form in WPF. The tutorials I found on Google mentioned various methods to register shortcuts, but few were truly usable. For simulating keystrokes, I had to rely on search engines because the methods like <code>Keys.send()</code> mentioned in official documents didn’t work (maybe the event level was too low).</p><p>After being able to achieve basic shortcut registration and keystroke simulation, I encountered new problems. The shortcuts were based on <code>Ctrl</code>, and pressing the shortcut would execute the program, simulating <code>Backspace</code>. However, the Ctrl key was still pressed down, and the system would interpret it as <code>Ctrl-Backspace</code>, which was not the desired effect. Then I switched Ctrl to Alt and finally determined that the Shift key combined with Backspace had no conflicts. But a new problem arose: the program-simulated keystrokes triggered at most twice, so the actual effect was at most two backspaces, no matter how many times I looped or changed the nInPints parameter.</p><p>So, I’m not saying developing such a thing is difficult, just that I encountered some problems I’m not good at solving. During that process, I experienced emotions like “I’m so annoyed”, “This is so hard”, “It’s really troublesome”, “It’s not that simple”.</p><p>Perhaps, we should have more understanding.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;It’s around midnight, the time I should be sleeping, but suddenly I feel like writing</summary>
        
      
    
    
    
    
    <category term="Work" scheme="https://en.smallyu.net/tags/Work/"/>
    
  </entry>
  
  <entry>
    <title>Kotlin: A Simplified Version of Scala</title>
    <link href="https://en.smallyu.net/2019/07/06/A%20Simplified%20Version%20of%20Scala/"/>
    <id>https://en.smallyu.net/2019/07/06/A%20Simplified%20Version%20of%20Scala/</id>
    <published>2019-07-06T02:18:22.000Z</published>
    <updated>2025-08-06T10:38:27.632Z</updated>
    
    <content type="html"><![CDATA[<p>A swordsman in the martial world must have a handy sword. A good programming language is like a good sword: the weight is appropriate, it feels comfortable, it’s elegant to wield, and its lethality is adequate. The official stance on Kotlin’s relationship with Scala is, “If you’re happy with Scala, you don’t need Kotlin.”</p><h3 id="Scripting"><a href="#Scripting" class="headerlink" title="Scripting"></a>Scripting</h3><p>Like Java, Scala’s basic unit of execution is a class, while Kotlin allows the main method in a file to run directly without requiring a class. Java’s entry function is defined within a class:</p><pre><code class="Java">public class Java &#123;    public static void main(String[] args) &#123;&#125;&#125;</code></pre><p>Scala’s entry function is defined within an object rather than a regular class:</p><pre><code class="Scala">object Scala &#123;  def main(args: Array[String]): Unit = &#123;&#125;&#125;</code></pre><p>Kotlin’s entry function is defined directly in a .kt file; thus, a class in Kotlin is merely a data structure where an entry function cannot be defined:</p><pre><code class="Kotlin">fun main(args: Array&lt;String&gt;) &#123;&#125;</code></pre><h3 id="Constructors-and-Singleton-Pattern"><a href="#Constructors-and-Singleton-Pattern" class="headerlink" title="Constructors and Singleton Pattern"></a>Constructors and Singleton Pattern</h3><p>Kotlin’s constructor, like Scala’s, is written in the class definition, and thus cannot include initialization code directly as Java’s constructors can. In Kotlin, the init block is used to execute initialization code:</p><pre><code class="Kotlin">class Test(arg: String) &#123;    init &#123;        println(&quot;This string is $&#123;arg&#125;&quot;)    &#125;&#125;fun main(args: Array&lt;String&gt;) &#123;    val test = Test(&quot;smallyu&quot;)&#125;// This string is smallyu</code></pre><p>If a second constructor is needed, you have to use a constructor function similar to ES6, or a secondary constructor like in Scala. This is indeed an awkward way of writing, making Java seem more user-friendly in comparison.</p><pre><code class="Kotlin">class Test(arg1: String) &#123;    init &#123;        println(&quot;This string is $&#123;arg1&#125;&quot;)    &#125;    constructor(arg2: Int): this(&quot;smallyu2&quot;) &#123;        println(&quot;This int is $&#123;arg2&#125;&quot;)    &#125;&#125;fun main(args: Array&lt;String&gt;) &#123;    val test = Test(1)&#125;// This string is smallyu2// This int is 1</code></pre><p>Kotlin’s constructor needs to be defined with the constructor keyword, which can be omitted by default, but if you want to add access modifiers, you naturally can’t omit it. Implementing the singleton pattern in Kotlin is similar to Java: make the constructor private, and expose the instance through a static method:</p><pre><code class="Kotlin">class Test private constructor() &#123;    companion object Factory &#123;        fun create(): Test = Test()    &#125;&#125;fun main(args: Array&lt;String&gt;) &#123;    val test = Test.Factory.create()&#125;</code></pre><p>In Kotlin, the object keyword defines a static block, and companion allows defining static blocks within the class, hence the companion object defines a method create() that can be accessed externally.</p><h3 id="Getter-and-Setter"><a href="#Getter-and-Setter" class="headerlink" title="Getter and Setter"></a>Getter and Setter</h3><p>Another interesting feature in Kotlin is the getter and setter. The principle behind data binding in frontend frameworks like React or Vue is using Object.defineProperty() to define an object’s getter and setter, allowing changes to the object to be synchronized with the page in real-time. Kotlin provides support for property getters and setters:</p><pre><code class="Kotlin">var test: Int    get() &#123;        println(&quot;There is test getter&quot;)        return 2    &#125;    set(arg) &#123;        println(&quot;The setter arg is $&#123;arg&#125;&quot;)    &#125;fun main(args: Array&lt;String&gt;) &#123;    println(test)    test = 3&#125;// There is test getter// 2// The setter arg is 3</code></pre><h3 id="Others"><a href="#Others" class="headerlink" title="Others"></a>Others</h3><p>I became interested in Kotlin because I found that Kotlin supports coroutines. If Kotlin truly has language-level coroutine support, combined with its ability to run on the JVM and develop multi-platform applications including server-side, Android, JavaScript, and Native, Kotlin would undoubtedly be an extremely powerful programming language. However, Kotlin’s coroutines are just an extension package and still require a compiler tool to introduce, so Go language remains dominant in coroutine support. For the JavaScript platform, Kotlin is not as easy to use as TypeScript. As for Android and Native, they are already Java’s application scenarios…</p><p>Kotlin provides a lot of syntactic sugar, seemingly reducing the amount of code a programmer has to write, but to proficiently apply Kotlin’s features, users must understand concepts similar to data classes, just like Scala’s case classes. Kotlin is less academic than Scala and does not have a significant advantage over Java in terms of engineering capabilities. Although Go language takes a different path and has widely criticized language features, it is satisfying to read and write. Therefore, like Scala, Kotlin will not have a broad application prospect. In other words, it will not be the next popular programming language.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;A swordsman in the martial world must have a handy sword. A good programming language is like a good sword: the weight is appropriate,</summary>
        
      
    
    
    
    
    <category term="Programming Languages" scheme="https://en.smallyu.net/tags/Programming-Languages/"/>
    
  </entry>
  
  <entry>
    <title>Does JavaScript Have Associative Arrays?</title>
    <link href="https://en.smallyu.net/2019/05/18/Does%20JavaScript%20Have%20Associative%20Arrays_/"/>
    <id>https://en.smallyu.net/2019/05/18/Does%20JavaScript%20Have%20Associative%20Arrays_/</id>
    <published>2019-05-18T10:50:32.000Z</published>
    <updated>2025-08-06T10:38:27.646Z</updated>
    
    <content type="html"><![CDATA[<p>If you have worked with PHP, you are certainly familiar with associative arrays. In C or Java, array indices start from 0, whereas in PHP, you can use strings as array indices in addition to numbers. Arrays with numeric indices are called indexed arrays, and arrays with string indices are called associative arrays. Both are valid arrays.</p><pre><code class="PHP">&lt;?php$arr[0] = 1;        // Indexed array$arr[&quot;a&quot;] = &quot;b&quot;;    // Associative arrayecho $arr[0];       // 1echo $arr[&quot;a&quot;];     // b</code></pre><p>In JavaScript, you can also use strings as array indices:</p><pre><code class="JavaScript">let arr = []arr[0] = 1arr[&#39;a&#39;] = &#39;b&#39;</code></pre><p>Yesterday, my pretty colleague and I encountered a puzzling issue when using arrays with string indices in JavaScript.</p><h3 id="The-Origin"><a href="#The-Origin" class="headerlink" title="The Origin"></a>The Origin</h3><p>In Express.js framework’s route handling, using <code>res.json()</code> to return an array, arrays with numeric indices are returned normally, but arrays with string indices always return empty. Here is a minimal code to describe the process:</p><pre><code class="JavaScript">app.get(&#39;/&#39;, (req, res) =&gt; &#123;  let arr = []  arr[&#39;a&#39;] = &#39;b&#39;  console.log(arr)  // [a: &#39;b&#39;]  res.json(arr)     // []&#125;)</code></pre><p>The expected returned array <code>arr</code> contains one element. The text content printed directly to the console with <code>console.log()</code> is <code>[a: &#39;b&#39;]</code>, which matches the expectation. However, if you make a page request to the route, the returned content is <code>[]</code>, which is puzzling. In other words, <code>res.json()</code> swallows the array content.</p><h3 id="Exploration"><a href="#Exploration" class="headerlink" title="Exploration"></a>Exploration</h3><p>To find the true cause of the problem, I looked into the definition of <code>res.json()</code> in the framework:</p><pre><code class="JavaScript">res.json = function json(obj) &#123;  var val = obj;  // ...  var body = stringify(val, replacer, spaces, escape)  // ...  return this.send(body);&#125;;</code></pre><p>The returned content <code>body</code> is processed by the <code>stringify()</code> method, which calls the <code>JSON.stringify()</code> method from JavaScript’s standard JSON library:</p><pre><code class="JavaScript">function stringify (value, replacer, spaces, escape) &#123;  var json = replacer || spaces    ? JSON.stringify(value, replacer, spaces)    : JSON.stringify(value);  // ...&#125;</code></pre><p>This means that the return value of <code>JSON.stringify()</code> will ignore array elements with string indices. To verify this phenomenon, a simple demo was tested:</p><pre><code class="JavaScript">let arr1 = [], arr2 = []arr1[0] = 1arr2[&#39;a&#39;] = &#39;b&#39;JSON.stringify(arr1)    // &quot;[1]&quot;JSON.stringify(arr2)    // &quot;[]&quot;</code></pre><p>So the question arises: why does JavaScript’s standard library method <code>JSON.stringify()</code> ignore elements with string indices in arrays? Is it intentional, because the official stance is against using strings as indices, or is it due to unavoidable reasons that prevent implementation? To find the root cause, I tried to locate the definition of <code>JSON.stringify()</code> in Chrome’s JavaScript engine, <a href="https://github.com/v8/v8">V8</a>.</p><p>V8 engine is written in C++, and the definition of <code>JSON.stringify()</code> should be this segment of code:</p><pre><code class="JavaScript">// ES6 section 24.3.2 JSON.stringify.BUILTIN(JsonStringify) &#123;  HandleScope scope(isolate);  JsonStringifier stringifier(isolate);  Handle&lt;Object&gt; object = args.atOrUndefined(isolate, 1);  Handle&lt;Object&gt; replacer = args.atOrUndefined(isolate, 2);  Handle&lt;Object&gt; indent = args.atOrUndefined(isolate, 3);  RETURN_RESULT_OR_FAILURE(isolate,                           stringifier.Stringify(object, replacer, indent));&#125;</code></pre><p>It can be inferred that <code>object</code> is the content processed and returned by <code>JSON.stringify()</code>, which is wrapped by the <code>args.atOrUndefined()</code> method before returning. Here, <code>atOrUndefined()</code> is called repeatedly with two parameters. It can be understood that the first parameter <code>isolate</code> holds complete parameter information, and the second parameter is the data index. Combined, the <code>atOrUndefined()</code> method processes the complete data.</p><p>Then, looking at the definition of <code>atOrUndefined()</code>, it calls the <code>at()</code> method, which in turn calls the <code>Arguments</code> class’s <code>at</code> method:</p><pre><code class="C++">Handle&lt;Object&gt; atOrUndefined(Isolate* isolate, int index) &#123;  if (index &gt;= length()) &#123;    return isolate-&gt;factory()-&gt;undefined_value();  &#125;  return at&lt;Object&gt;(index);&#125;Handle&lt;S&gt; at(int index) &#123;  DCHECK_LT(index, length());  return Arguments::at&lt;S&gt;(index);&#125;</code></pre><p>In the <code>Arguments::at()</code> method, the pointer <code>value</code> gets the memory address of the parameter to be processed, and then uses <code>reinterpret_cast</code> to perform a type conversion on the value of <code>value</code>.</p><pre><code class="C++">Handle&lt;S&gt; at(int index) &#123;  Object** value = &amp;((*this)[index]);  // This cast checks that the object we&#39;re accessing does indeed have the  // expected type.  S::cast(*value);  return Handle&lt;S&gt;(reinterpret_cast&lt;S**&gt;(value));&#125;</code></pre><p>Here, the value is returned, but it does not explain why elements with string indices in arrays are ignored. As long as it is the same array, its values will be stored in a contiguous address space. Even if <code>reinterpret_cast</code> processes pointer variables, it should output everything normally.</p><h3 id="The-Truth"><a href="#The-Truth" class="headerlink" title="The Truth"></a>The Truth</h3><p>Finally, through Google, I found a question and answer about using string indices in arrays (<a href="https://stackoverflow.com/questions/10326635/string-index-in-js-array">String index in js array</a>), which explained why arrays with string indices are so special. This is because there are no associative arrays in JavaScript!</p><pre><code class="JavaScript">let arr1 = [], arr2 = []arr1[0] = 1arr2[&#39;a&#39;] = &#39;b&#39;arr1.length     // 1arr2.length     // 0</code></pre><p>When an array is assigned a value using a string as an index, the array length does not change, and the assigned value is not stored as an array element. The reason you can use strings as indices to get and set array values is that JavaScript stores the strings as properties of the array.</p><pre><code class="JavaScript">let arr = []arr[&#39;a&#39;] = &#39;b&#39;arr.hasOwnProperty(&#39;a&#39;)   // true</code></pre><p>Therefore, <code>JSON.stringify()</code> processes the contents of the array, and <code>reinterpret_cast</code> only performs type conversion based on pointers to the array content. Of course, properties will not be output!</p><h3 id="Follow-up"><a href="#Follow-up" class="headerlink" title="Follow-up"></a>Follow-up</h3><ol><li><p>Why can <code>console.log()</code> output array properties? How is the content to be output defined?</p></li><li><p>Why is the value of <code>typeof []</code> in JavaScript <code>&quot;object&quot;</code>, meaning that the type of an array is an object, but the properties of an object are processed, while an array is not?</p></li></ol>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;If you have worked with PHP, you are certainly familiar with associative arrays. In C or Java, array indices start from 0, whereas in</summary>
        
      
    
    
    
    
    <category term="Programming Language" scheme="https://en.smallyu.net/tags/Programming-Language/"/>
    
  </entry>
  
  <entry>
    <title>Exception Handling Mechanisms in Mainstream Programming Languages</title>
    <link href="https://en.smallyu.net/2019/04/24/Exception%20Handling%20Mechanisms%20in%20Mainstream%20Programming%20Languages/"/>
    <id>https://en.smallyu.net/2019/04/24/Exception%20Handling%20Mechanisms%20in%20Mainstream%20Programming%20Languages/</id>
    <published>2019-04-24T02:19:04.000Z</published>
    <updated>2025-08-06T10:38:27.655Z</updated>
    
    <content type="html"><![CDATA[<p>When learning a programming language, it is important to start with its features rather than the language itself. Here, we attempt a simple, horizontal understanding of the exception and error handling mechanisms of various programming languages. The languages involved include C, C++, Go, Java, Scala, Kotlin, Ruby, Rust, JavaScript, PHP, Python, and Lisp.</p><h3 id="C"><a href="#C" class="headerlink" title="C"></a>C</h3><p>The C language does not have an exception handling mechanism. When an error occurs, a global error code <code>errno</code> is set. C provides the <code>perror()</code> and <code>strerror()</code> functions to display the description related to <code>errno</code>. The <code>perror()</code> function can be called directly, with a string parameter, and outputs <code>parameter: error text</code>. The <code>strerror()</code> function takes a number (error code) as a parameter and returns a pointer to the corresponding error text.</p><pre><code class="C">#include &lt;stdio.h&gt;#include &lt;errno.h&gt;#include &lt;string.h&gt;void main ()&#123;  // Opening a non-existent file will cause an error  fopen (&quot;unexist.txt&quot;, &quot;rb&quot;);  // 2  printf(&quot;%d\n&quot;, errno);  // No such file or directory  perror(&quot;&quot;);  // No such file or directory  printf(&quot;%s\n&quot;, strerror(errno));&#125;</code></pre><h3 id="C-1"><a href="#C-1" class="headerlink" title="C++"></a>C++</h3><p>C++ supports exception handling mechanisms. C++ can throw or catch two types of content: int or char* types, which can be caught and thrown by the program. This differs from Java, which does not support directly throwing basic types:</p><pre><code class="C++">#include &lt;iostream&gt;#include &lt;exception&gt;using namespace std;int main () &#123;    try    &#123;        throw &quot;error&quot;;    &#125;    catch(const char* msg)    &#123;        cout &lt;&lt; msg &lt;&lt; endl;    &#125;&#125; // error</code></pre><p>Another type is classes, which can be built-in standard exception classes or custom exception classes:</p><pre><code class="C++">#include &lt;iostream&gt;#include &lt;exception&gt;using namespace std;int main () &#123;    try    &#123;        throw exception();    &#125;    catch(std::exception&amp; e)    &#123;        cout &lt;&lt; e.what() &lt;&lt; endl;    &#125;&#125; // std::exception</code></pre><h3 id="Go"><a href="#Go" class="headerlink" title="Go"></a>Go</h3><p>Go, as a non-OOP language, does not support try-catch syntax but still has similar throw and catch features. Go has three error-related keywords: <code>panic()</code>, <code>recover()</code>, and <code>defer</code>. <code>panic()</code> throws an exception, <code>recover()</code> catches the exception, and the <code>defer</code> keyword defines what will be executed last, similar to <code>finally</code>:</p><pre><code class="Go">package mainimport &quot;fmt&quot;func main() &#123;  defer func() &#123;    err := recover()    fmt.Println(err)  &#125;()  panic(&quot;error&quot;)&#125;// error</code></pre><h3 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h3><p>Java, being a pure OOP language, only supports throwing and catching objects:</p><pre><code class="Java">public class ErrorTest &#123;    public static void main(String[] args) &#123;        try &#123;            throw new Exception();        &#125; catch (Exception e) &#123;            System.out.println(e);        &#125;    &#125;&#125;// java.lang.Exception</code></pre><h3 id="Scala"><a href="#Scala" class="headerlink" title="Scala"></a>Scala</h3><p>Scala and Java belong to the same category, supporting only throwing and catching objects. The syntax is slightly different from Java, but the concept is fundamentally the same:</p><pre><code class="Scala">object ErrorTest &#123;  def main(args: Array[String]): Unit = &#123;    try &#123;      throw new Exception()    &#125; catch &#123;      case e: Exception =&gt; print(e)    &#125;  &#125;&#125;// java.lang.Exception</code></pre><p>Moreover, Scala throws Java exceptions. Scala might not be considered an independent programming language but rather one that provides syntax sugar for Java. This point is worth deeper thinking and exploration.</p><h3 id="Kotlin"><a href="#Kotlin" class="headerlink" title="Kotlin"></a>Kotlin</h3><p>Kotlin is similar to Scala in nature, also throwing Java exceptions by default:</p><pre><code class="Kotlin">fun main(args: Array&lt;String&gt;) &#123;  try &#123;    throw Exception()  &#125; catch (e: Exception) &#123;    print(e)  &#125;&#125;// java.lang.Exception</code></pre><h3 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h3><p>Ruby uses the <code>raise</code> and <code>rescue</code> keywords instead of <code>try</code> and <code>catch</code> to implement throwing and catching exceptions. Ruby also supports the try-catch keywords, but they are not discussed here as I haven’t figured out their usage yet.</p><pre><code class="Ruby">begin  raise &quot;error&quot;   rescue Exception =&gt; e    puts eend// error</code></pre><h3 id="Rust"><a href="#Rust" class="headerlink" title="Rust"></a>Rust</h3><p>Rust does not have try-catch syntax or Go-like error handling functions. Instead, it uses <code>Option&lt;T&gt;</code> or the enhanced <code>Result&lt;T, E&gt;</code> for error handling. Rust’s pattern matching is similar to Scala’s:</p><pre><code class="Rust">fn main() &#123;  match find() &#123;    None =&gt; println!(&quot;none&quot;),    Some(i) =&gt; println!(&quot;&#123;&#125;&quot;, i),  &#125;&#125;fn find() -&gt; Option&lt;usize&gt; &#123;  if 1 == 1 &#123;    return Some(1);  &#125;  None&#125;// 1</code></pre><h3 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h3><p>Scripting languages do not enforce type constraints on variables, so exceptions cannot be distinguished by type. The content of the thrown error is relatively free:</p><pre><code class="JavaScript">try &#123;  throw 1&#125; catch (e) &#123;  console.log(e)&#125;// 1try &#123;  throw new Error(&#39;&#39;)&#125; catch (e) &#123;  console.log(e)&#125;// Error</code></pre><h3 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h3><p>PHP’s try-catch is similar to Java, with no special features:</p><pre><code class="PHP">&lt;?php  try &#123;      throw new Exception(&quot;error&quot;);  &#125; catch (Exception $e) &#123;      echo $e-&gt;getMessage();  &#125;</code></pre><h3 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h3><p>Python’s syntax shows the influence of Ruby. <code>raise</code> triggers an exception, and <code>except</code> catches it:</p><pre><code class="Python">try:  raiseexcept:  print(&quot;error&quot;)</code></pre><h3 id="Lisp"><a href="#Lisp" class="headerlink" title="Lisp"></a>Lisp</h3><p>Lisp is generally more complex. The content of Lisp’s exception handling is temporarily left as an open question. The following is one of the situations in Common Lisp that triggers an error. <code>declare</code> declares the type of function parameters, and passing the wrong parameters will cause an error:</p><pre><code class="Lisp">(defun df (a b)  (declare (double-float a b))  (* a b))  (df &quot;1&quot; 3)// *** - *: &quot;1&quot; is not a number</code></pre><h3 id="Future-Discussion"><a href="#Future-Discussion" class="headerlink" title="Future Discussion"></a>Future Discussion</h3><p>Initially, I wanted to sort out most of the concepts related to exceptions and error handling in these languages. However, I found it quite difficult and also failed to distinguish between “exception” and “checked exception,” leading to potential deviations in intention, title, and content. This time, I’ll just mention “exception,” and discuss “checked exception” in future content.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;When learning a programming language, it is important to start with its features rather than the language itself. Here, we attempt a</summary>
        
      
    
    
    
    
    <category term="Programming Languages" scheme="https://en.smallyu.net/tags/Programming-Languages/"/>
    
  </entry>
  
  <entry>
    <title>Design Flaws in Elevator Floor Display Screens</title>
    <link href="https://en.smallyu.net/2019/03/27/Design%20Flaws%20in%20Elevator%20Floor%20Display%20Screens/"/>
    <id>https://en.smallyu.net/2019/03/27/Design%20Flaws%20in%20Elevator%20Floor%20Display%20Screens/</id>
    <published>2019-03-27T14:29:49.000Z</published>
    <updated>2025-08-06T10:38:27.643Z</updated>
    
    <content type="html"><![CDATA[<p>Every time I take the elevator, I feel confused. There is an issue I’ve noticed for a long time.</p><h3 id="Elevator"><a href="#Elevator" class="headerlink" title="Elevator"></a>Elevator</h3><p>It’s not a big deal, but currently, the elevator in a certain building has this situation. When the elevator descends to the 1st floor, the floor display screen shows a downward arrow <code>↓</code>. When the elevator reaches the 1st floor and the door opens, the arrow still points downward. At this point, many people assume that the elevator is about to go down to the basement.</p><img src="f1.png" width="50%" height="50%"><p>This assumption is understandable because there’s another design flaw in the elevator. If someone is waiting for the elevator to go from the 10th floor to the 1st floor, and at the same time someone is riding the elevator from the 1st floor to the 20th floor, the elevator will stop and open the door on the 10th floor. Regardless of whether the person on the 10th floor gets on the elevator, it will continue to the 20th floor. The door opens on the 10th floor simply because the person who wants to go to the 1st floor pressed the elevator button.</p><img src="f10.png" width="50%" height="50%"><p>Due to this upward movement behavior of the elevator, it’s easy to infer that the elevator might behave similarly when going down. Seeing the arrow pointing down on the 1st floor, people might think the elevator is going to the basement, and because they pressed the button or someone just exited the elevator on this floor, the door opens. However, the truth is, the arrow merely retains the previous state of the elevator’s movement (downward), and whether it goes up or down next depends on which floor the first person to enter the elevator presses.</p><p>Not all elevators are like this. The correct approach should be that when the elevator has no tasks, the display screen should not show any arrows or display something like (–).</p><h3 id="Program"><a href="#Program" class="headerlink" title="Program"></a>Program</h3><p>When a task is completed (elevator operation ends), the task flag should be reset to its initial state (arrow cleared). This logic is very common in programming. Whether it’s UI or memory, users are not trustworthy, and neither is GC; manual recycling is the way to go. I encountered a pitfall today :(</p><p>The pitfall is simple and can be expressed in one sentence: executing an SQL statement in a loop without closing the Statement object.</p><p>Although the pitfall is simple, it affected normal business operations in the production environment. The default limit for DB2 is 1400- statements, after which errors occur. Be careful during development and pay attention to large data scenarios during self-testing. Hopefully, such errors won’t happen again in the future!</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Every time I take the elevator, I feel confused. There is an issue I’ve noticed for a long time.&lt;/p&gt;
&lt;h3 id=&quot;Elevator&quot;&gt;&lt;a</summary>
        
      
    
    
    
    
    <category term="Design" scheme="https://en.smallyu.net/tags/Design/"/>
    
  </entry>
  
  <entry>
    <title>Basic Syntax of Go Language</title>
    <link href="https://en.smallyu.net/2019/03/15/Basic%20Syntax%20of%20Go%20Language/"/>
    <id>https://en.smallyu.net/2019/03/15/Basic%20Syntax%20of%20Go%20Language/</id>
    <published>2019-03-15T13:18:11.000Z</published>
    <updated>2025-08-06T10:38:27.635Z</updated>
    
    <content type="html"><![CDATA[<p>Although Go language is not highly regarded in terms of language design by Wang Yin, its concise code structure is indeed captivating.</p><h3 id="Statements"><a href="#Statements" class="headerlink" title="Statements"></a>Statements</h3><p>Go language statements do not require a <code>;</code> at the end.</p><h3 id="Variables-and-Constants"><a href="#Variables-and-Constants" class="headerlink" title="Variables and Constants"></a>Variables and Constants</h3><p>Use <code>var</code> to declare variables. When variables need to be initialized, you can use the assignment symbol <code>:=</code> instead of <code>=</code> to omit the <code>var</code> keyword.</p><pre><code class="go">var a intvar b stringvar c int = 10var d = &quot;golang&quot;  // The compiler automatically infers the typed := 10</code></pre><p>Unlike C or Java, Go language’s type declaration is on the right side of the variable. Note that if declared variables in the program are not used, the program will not compile. Go is an engineering-oriented language, so some of its features might seem unreasonable but will improve efficiency in actual engineering.</p><p>Go’s variable assignment supports some cool writing styles, such as swapping the values of variables x and y using this counter-intuitive method:</p><pre><code class="go">x, y = y, x</code></pre><p>In Go, <code>const</code> is used to define constants. <code>true</code>, <code>false</code>, and <code>iota</code> are predefined constants. Among them, <code>iota</code> is a bit special. <code>iota</code> resets to 0 each time the <code>const</code> keyword appears, and before the next <code>const</code> appears, the value of <code>iota</code> increments by 1 each time it appears.</p><pre><code class="go">const a = iota   // 0const b = iota   // 0const (  c = iota       // 0  d = iota       // 1)</code></pre><h3 id="Arrays-and-Slices"><a href="#Arrays-and-Slices" class="headerlink" title="Arrays and Slices"></a>Arrays and Slices</h3><p>Declare an array of 3 elements and initialize it:</p><pre><code class="go">array := [3]int&#123;0, 1, 2&#125;array[0] = 3fmt.Println(array)</code></pre><p>Like other languages, Go cannot change the size of an array after declaration. Therefore, Go provides slices similar to Python. Slices can be created from arrays or using the <code>make()</code> function.</p><pre><code class="go">array := [3]int&#123;0, 1, 2&#125;slice1 := array[:2]       // Created from an arrayslice2 := make([]int, 3)  // Created directlyfmt.Println(slice1)       // [0 1]fmt.Println(slice2)       // [0 0 0]</code></pre><p>In addition to slices, maps are also created using the <code>make</code> function. The full type declaration of a map is <code>var myMap map[string]int</code>, meaning the variable <code>myMap</code> has a key of type <code>string</code> and a value of type <code>int</code>.</p><h3 id="Control-Flow"><a href="#Control-Flow" class="headerlink" title="Control Flow"></a>Control Flow</h3><p>Go allows <code>if-else</code> statements without parentheses around the condition, although adding them is also fine.</p><pre><code class="go">a := 1if a == 1 &#123;  print(1)&#125; else if (a == 2) &#123;  print(2)&#125; else &#123;  print(3)&#125;</code></pre><p><code>switch</code> statements do not require parentheses around the condition, nor do they require a <code>break</code>. Other matches will not execute, similar to Scala. Optimizing <code>switch</code> statements seems to be a common practice.</p><pre><code class="go">i := 0switch i &#123;case 0:  print(0)case 1:  print(1)&#125;</code></pre><p>Loop conditions also do not require parentheses. Go only supports <code>for</code> loops and has optimized for infinite loops, no longer requiring the <code>for(;;)</code> syntax.</p><pre><code class="go">for &#123;  print(1)&#125;</code></pre><h3 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h3><p>Go language originates from the C language faction, so from the beginning, Go is not an OOP or FP language and does not have the concept of classes or objects. Functions are first-class citizens in the program. Like in C, the <code>main</code> function (under the <code>main</code> package) is the entry point of the entire program.</p><pre><code class="go">func add(a int, b int) (int, int) &#123;  return a + b, a - b&#125;func main() &#123;  x, y := add(1, 2)  print(x, y)&#125;</code></pre><p>Go statements are concise and efficient, with the first parenthesis after the function name for parameters and the second for return values. Functions support multiple return values. If parameter types are the same, their type declarations can be combined, such as <code>(a, b int)</code>.</p><h3 id="Structs"><a href="#Structs" class="headerlink" title="Structs"></a>Structs</h3><p>Although Go does not have classes or objects, it does have powerful structs similar to those in C. Here, we define a <code>Person</code> struct with two properties <code>name</code> and <code>age</code>, and add a method <code>getInfo</code> to <code>Person</code> to output information about a <code>Person</code> object:</p><pre><code class="go">type Person struct &#123;  name string  age int&#125;func (p Person) getInfo() &#123;  print(p.name, p.age)&#125;func main() &#123;  smallyu := new(Person)  smallyu.name = &quot;smallyu&quot;  smallyu.age = 1  smallyu.getInfo()&#125;</code></pre><p>Understanding such a program with OOP thinking is not inappropriate. In addition to structs, Go also retains the concept of pointers. Java programmers might be a bit unfamiliar with pointers. Regarding the application of pointers in struct methods, a simple example can help understand:</p><pre><code class="go">type Person struct &#123;  name string&#125;func (p Person) setName() &#123;  p.name = &quot;set name&quot;&#125;func (p *Person) setName2() &#123;  p.name = &quot;set name&quot;&#125;func main() &#123;  smallyu := &amp;Person&#123;&quot;smallyu&quot;&#125;  smallyu.setName()  fmt.Println(smallyu)        // &amp;&#123;smallyu&#125;  bigyu := &amp;Person&#123;&quot;bigyu&quot;&#125;  bigyu.setName2()  fmt.Println(bigyu)          // &amp;&#123;set name&#125;&#125;</code></pre><p>Methods defined with value types have parameters as formal parameters; methods defined with reference types have parameters as actual parameters. <code>&amp;&#123;&#125;</code> is one way to initialize objects, equivalent to <code>new()</code>.</p><h3 id="Anonymous-Composition"><a href="#Anonymous-Composition" class="headerlink" title="Anonymous Composition"></a>Anonymous Composition</h3><p>The concept of anonymous composition in Go is equivalent to inheritance in OOP languages. A struct can inherit the properties and methods of another struct, roughly like this.</p><pre><code class="go">type Father struct &#123;  name string&#125;func (f Father) getName() &#123;  print(f.name)&#125;type Son struct &#123;  Father&#125;func main() &#123;  smallyu := &amp;Son&#123;&#125;  smallyu.name = &quot;smallyu&quot;  smallyu.getName()       // smallyu&#125;</code></pre><p><code>Son</code> does not define the <code>name</code> property or the <code>getName()</code> method; they are inherited from <code>Father</code>.</p><h3 id="Interfaces"><a href="#Interfaces" class="headerlink" title="Interfaces"></a>Interfaces</h3><p>Go’s interfaces are non-intrusive. As long as a struct implements all the methods in an interface, the program will consider the struct to have implemented that interface.</p><pre><code class="go">type IPerson interface &#123;  getName()&#125;type Person struct &#123;  name string&#125;func (p Person) getName() &#123;  print(p.name)&#125;func main() &#123;  var smallyu IPerson = &amp;Person&#123;&quot;smallyu&quot;&#125;  smallyu.getName()&#125;</code></pre><h3 id="Goroutines"><a href="#Goroutines" class="headerlink" title="Goroutines"></a>Goroutines</h3><p>The keyword for using goroutines is <code>go</code>. The naming itself reflects the importance of goroutines to Go. Goroutines are lightweight threads, and starting a goroutine is very simple:</p><pre><code class="go">func f(msg string) &#123;  println(msg)&#125;func main() &#123;  f(&quot;direct call&quot;)  go f(&quot;goroutine call&quot;)&#125;</code></pre><p>Running the program, you will find it only prints “direct call”. Does this seem familiar? <code>go</code> starts another “thread” to print the message, while the main thread has already ended. Adding <code>fmt.Scanln()</code> at the end of the program to prevent the main thread from ending will show all the print content.</p><h3 id="Channels"><a href="#Channels" class="headerlink" title="Channels"></a>Channels</h3><p>Channels are the means of communication between goroutines.</p><pre><code class="go">func main() &#123;  message := make(chan string)  go func() &#123;    message &lt;- &quot;ping&quot;  &#125;()  msg := &lt;-message  println(msg)&#125;</code></pre><p>The <code>make</code> function returns a <code>chan string</code> type channel. In the anonymous function, the string “ping” is sent into the channel, and then the data in the channel is output to the variable <code>msg</code>, finally printing the value of <code>msg</code> as “ping”.</p><h3 id="Error-Handling"><a href="#Error-Handling" class="headerlink" title="Error Handling"></a>Error Handling</h3><p>In Go, two functions are commonly used for error handling: the <code>panic</code> function and the <code>defer</code> function. The <code>panic</code> function prints an error message and terminates the entire program, similar to Java’s Throw Exception; the <code>defer</code> function will execute before the current context ends, similar to finally after try-catch; although the <code>panic</code> function terminates the entire program, it does not terminate the execution of the <code>defer</code> function, which can be used to print logs. Here is a simple example:</p><pre><code class="go">func main() &#123;  println(&quot;beginning&quot;)  defer func() &#123;    println(&quot;defer&quot;)  &#125; ()  println(&quot;middle&quot;)  panic(&quot;panic&quot;)  println(&quot;ending&quot;)&#125;</code></pre><p>Let’s analyze the program’s execution result. First, <code>beginning</code> is printed; then <code>defer</code> is encountered and not printed yet; <code>middle</code> is printed before <code>defer</code>; encountering <code>panic</code>, the program will terminate, printing <code>defer</code> and <code>panic</code>.</p><p>Note that <code>defer</code> is executed before the program ends, not</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Although Go language is not highly regarded in terms of language design by Wang Yin, its concise code structure is indeed</summary>
        
      
    
    
    
    
    <category term="Programming Language" scheme="https://en.smallyu.net/tags/Programming-Language/"/>
    
  </entry>
  
  <entry>
    <title>Basics of Scala Syntax</title>
    <link href="https://en.smallyu.net/2018/12/17/Basics%20of%20Scala%20Syntax/"/>
    <id>https://en.smallyu.net/2018/12/17/Basics%20of%20Scala%20Syntax/</id>
    <published>2018-12-17T03:06:03.000Z</published>
    <updated>2025-08-06T10:38:27.635Z</updated>
    
    <content type="html"><![CDATA[<p>The syntax of Scala is relatively complex. In the spirit of incremental software development, learning a programming language should start with finding an expressive way that one can master and then gradually build upon. Scala supports both object-oriented and functional programming, which is one reason for its complex syntax. Some tutorials are very comprehensive, but this comprehensiveness can make it difficult to distill the main points.</p><p>The following content focuses on the simplest basic syntax, hoping that based on this content, one can try to write object-oriented style Scala code.</p><h3 id="Statements"><a href="#Statements" class="headerlink" title="Statements"></a>Statements</h3><p>Scala allows statements to end without a <code>;</code>, similar to JavaScript.</p><h3 id="Variable-Definition"><a href="#Variable-Definition" class="headerlink" title="Variable Definition"></a>Variable Definition</h3><p><code>val</code> defines immutable variables (constants), <code>var</code> defines mutable variables:</p><pre><code class="Scala">val msg1 = &quot;Hello World&quot;var msg2 = &quot;Hello Wrold&quot;val msg3: String = &quot;Hello World&quot;</code></pre><p>When defining variables, type declarations are on the right side of the variable and are optional; they can be omitted as the compiler will automatically infer the type. Basic types in Scala include:</p><blockquote><p>Byte, Short, Int, Long, Char, String, Float, Double, Boolean</p></blockquote><h3 id="Function-Definition"><a href="#Function-Definition" class="headerlink" title="Function Definition"></a>Function Definition</h3><p>Functions are methods. Below is an example of defining a function:</p><pre><code class="Scala">def max(x: Int, y: Int): Int = &#123;  if (x &gt; y) &#123;    return x  &#125; else &#123;     return y  &#125;&#125;</code></pre><p>The significant differences from Java in method definitions are: first, using the <code>def</code> keyword to define functions; second, type declarations are on the right side of the variable; third, an <code>=</code> connects the function declaration and the function body.</p><p>Note that function parameters must have explicitly defined types; the compiler cannot automatically infer parameter types. The return type is optional unless the function uses recursion. Additionally, the <code>return</code> keyword is also optional; if there is no explicit return statement, the program will return the last computed result.</p><p>If the statement after <code>if</code> is a single statement, braces can be omitted. Therefore, the function can also be written like this:</p><pre><code class="Scala">def max2(x: Int, y: Int) = if (x &gt; y) x else y</code></pre><h3 id="Conditional-Structures"><a href="#Conditional-Structures" class="headerlink" title="Conditional Structures"></a>Conditional Structures</h3><p>The above example has already used an <code>if</code> statement. Scala’s <code>if</code> statement is not special, but compared to other languages, Scala uses pattern matching to replace the traditional <code>switch</code> structure:</p><pre><code class="Scala">val a = 1a match &#123;  case 1 =&gt; println(1)  case 2 =&gt; println(2)  case _ =&gt;&#125;</code></pre><p>The <code>_</code> wildcard matches all values and is used to capture the default case. In match expressions, cases never fall through to the next case, so no <code>break</code> or <code>return</code> is needed (if <code>_</code> is placed first, the program will not continue executing). However, be careful, if the program does not match any case, it will throw a <code>MatchError</code>.</p><h3 id="Loop-Structures"><a href="#Loop-Structures" class="headerlink" title="Loop Structures"></a>Loop Structures</h3><p>The <code>while</code> loop is not the recommended style of code in Scala:</p><pre><code class="Scala">var i = 0while (i &lt; 5) &#123;  println(i)  i += 1&#125;</code></pre><p>This is a typical <code>while</code> loop. Compared to imperative languages, Scala does not have the <code>++</code> operator; one must use statements like <code>i += 1</code>.</p><p>Mentioning <code>while</code> will inevitably bring up <code>for</code>. The <code>for</code> loop in Scala has some differences from imperative languages. In the following example, the program will print from 0 to 4:</p><pre><code class="Scala">for (i &lt;- 0 until 5) &#123;  println(i)&#125;</code></pre><p>Scala does not recommend <code>while</code> loops and prefers a functional programming style. The <code>foreach</code> method is one of them:</p><pre><code class="Scala">&quot;abc&quot;.foreach(c =&gt; println(c))</code></pre><p>The program will print the characters <code>a</code>, <code>b</code>, <code>c</code> each on a new line. If the function body has only one statement and one parameter, the code can be more concise:</p><pre><code class="Scala">&quot;abc&quot;.foreach(println)</code></pre><h3 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h3><p>Scala’s arrays are not implemented at the language level and can be used by instantiating the <code>Array</code> class. Correspondingly, array subscripts are represented using parentheses (i.e., method parameters):</p><pre><code class="Scala">val greet  = new Array greet(0) = &quot;a&quot;greet(1) = &quot;b&quot;greet(2) = &quot;c&quot;greet.foreach(println)</code></pre><p>When instantiating objects, default parameters can be directly passed. Array is indeed just a regular class; the following way of writing does not involve any black magic, it just uses a case class, which will be mentioned later.</p><pre><code class="Scala">val greet2 = Array(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)greet2.foreach(println)</code></pre><h3 id="Classes"><a href="#Classes" class="headerlink" title="Classes"></a>Classes</h3><p>Classes are defined using the <code>class</code> keyword, and classes contain fields and methods, i.e., typical object-oriented features. Unlike Python, Scala still supports access control:</p><pre><code class="Scala">class Accumulator &#123;  private var sum = 0  def add(b: Byte): Unit = &#123;    sum += b    println(sum)  &#125;&#125;</code></pre><h3 id="Singleton-Objects"><a href="#Singleton-Objects" class="headerlink" title="Singleton Objects"></a>Singleton Objects</h3><p>Singleton objects are equivalent to static classes in Java and are defined using the <code>object</code> keyword instead of <code>class</code>. Singleton objects are shared by the program and can be called directly. Singleton objects can serve as the entry point of the program by defining the <code>main</code> method within the singleton object. The following program instantiates an object <code>a</code> from the previously defined <code>Accumulator</code> class and calls its <code>add</code> method, ultimately printing <code>1</code>:</p><pre><code class="Scala">object Run &#123;  def main(args: Array[String]): Unit = &#123;    val a = new Accumulator    a.add(1)  &#125;&#125;</code></pre><p>In the same source file, when a singleton object and a class have the same name, the singleton object is called the companion object of the class, and the class is the companion class of the singleton object. A class can access the private properties and methods of its companion object.</p><h3 id="Constructors"><a href="#Constructors" class="headerlink" title="Constructors"></a>Constructors</h3><p>Scala’s rules for constructors are stricter than Java’s. Scala implements constructors through the concept of class parameters:</p><pre><code class="Scala">class Accumulator(a: Int, b: Int)</code></pre><p>If the class has no body, braces can be omitted. When instantiating this class, parameters need to be passed. In Java, overloaded constructors correspond to auxiliary constructors in Scala, which look like this:</p><pre><code class="Scala">class Accumulator(a: Int, b: Int) &#123;  def this(c: Int) = this(c, 1)&#125;</code></pre><p>This class now has two constructors:</p><pre><code class="Scala">val a1 = new Accumulator(1)val a2 = new Accumulator(1, 2)</code></pre><p>The strictness of Scala constructors lies in the fact that the second constructor can only leverage the first constructor or the superclass constructor.</p><h3 id="Inheritance-and-Overriding"><a href="#Inheritance-and-Overriding" class="headerlink" title="Inheritance and Overriding"></a>Inheritance and Overriding</h3><p>Scala’s inheritance is not significantly different from Java’s, except that method overriding must use the <code>override</code> keyword:</p><pre><code class="Scala">class A(a: Int) &#123;  def test = println(&quot;a&quot;)&#125;class B(b: Int) extends A(b) &#123;  override def test = println(&quot;b&quot;)&#125;</code></pre><h3 id="Traits"><a href="#Traits" class="headerlink" title="Traits"></a>Traits</h3><p>Traits are similar to singleton objects, except for the keyword used during definition. Traits, like regular classes, can contain fields and methods. The significance of traits lies in supporting mixins and allowing multiple traits to be mixed in. This feature is often compared with multiple inheritance.</p><pre><code class="Scala">trait A &#123;  def aMethod = println(&quot;A&quot;)&#125;trait B &#123;  def bMethod = println(&quot;B&quot;)&#125;class C extends A with B</code></pre><p>This way, an instance of <code>C</code> can call <code>aMethod</code> and <code>bMethod</code>:</p><pre><code class="Scala">val c = new Cc.aMethodc.bMethod</code></pre><h3 id="Case-Classes"><a href="#Case-Classes" class="headerlink" title="Case Classes"></a>Case Classes</h3><p>Case classes are defined by adding the <code>case</code> keyword before the <code>class</code>. This modifier allows the Scala compiler to automatically add some convenient settings to the class: 1. Instances can be created without the <code>new</code> keyword; 2. Parameters are automatically treated as class fields; 3. The class automatically has <code>toString</code>, <code>hashCode</code>, and <code>equals</code> methods:</p><pre><code class="Scala">case class A(a: Int) &#123;  def aMethod = println(a)&#125;object Run &#123;  def main(args: Array[String]): Unit = &#123;    val a = A(1)    a.aMethod     // 1    println(a)    // A(1)    println(a.a)  // 1  &#125;&#125;</code></pre><h3 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h3><p>Compared to Java, Scala supports abstract classes but not interfaces. Abstract classes are defined using <code>abstract</code>, and interfaces are replaced by traits. Scala also supports generics, annotations, and other syntax.</p><h3 id="Follow-Up"><a href="#Follow-Up" class="headerlink" title="Follow-Up"></a>Follow-Up</h3><p>The above content is not comprehensive and may not be sufficient. To use a programming language, in addition to mastering its basic syntax, one should also be familiar with its idiomatic usage, especially for multi-paradigm languages like Scala. This content will be continuously updated and improved, and other features of Scala will be discussed further.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;The syntax of Scala is relatively complex. In the spirit of incremental software development, learning a programming language should</summary>
        
      
    
    
    
    
    <category term="Programming Language" scheme="https://en.smallyu.net/tags/Programming-Language/"/>
    
  </entry>
  
  <entry>
    <title>Using Scala to Reimplement Java: A Shallow Practice</title>
    <link href="https://en.smallyu.net/2018/12/14/Using%20Scala%20to%20Reimplement%20Java:%20A%20Shallow%20Practice/"/>
    <id>https://en.smallyu.net/2018/12/14/Using%20Scala%20to%20Reimplement%20Java:%20A%20Shallow%20Practice/</id>
    <published>2018-12-14T04:36:36.000Z</published>
    <updated>2025-08-06T10:38:28.717Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Origin"><a href="#Origin" class="headerlink" title="Origin"></a>Origin</h3><p>I wanted to implement a Markdown parser using Java, and I have currently completed the parsing of multi-level headings. Essentially, it involves using regular expressions to match and replace the corresponding content. The program is relatively simple at this stage, and the main process is as follows:</p><p><img src="/mainProcess.png" alt="main process"></p><h3 id="Reimplementation"><a href="#Reimplementation" class="headerlink" title="Reimplementation"></a>Reimplementation</h3><p>Following the same process, I used Scala to implement this functionality, and I will continue to develop it using Scala. First, let’s read the file content. For IO operations, I referred to the “Scala Cookbook,” and it can be done in a single line of code:</p><pre><code class="scala">var srcLines = Source.fromFile(srcFile).getLines().toList</code></pre><p>Compared to verbose Java, Scala is indeed more concise. This is the method I previously used to read files in Java:</p><pre><code class="java">/**  * Read file content  *  * @param src File path to read  * @return File content  */private static String readFile(String src) throws IOException &#123;    StringBuffer content = new StringBuffer();    InputStream is = null;    BufferedReader reader = null;    is = new FileInputStream(src);    reader = new BufferedReader(new InputStreamReader(is));    String line = reader.readLine();    while (line != null) &#123;        content.append(line);        content.append(&quot;\n&quot;);        line = reader.readLine();    &#125;    if (reader != null) &#123;        reader.close();    &#125;    if (is != null) &#123;        is.close();    &#125;    return content.toString();&#125;</code></pre><p>The reason for converting the string to list operations in the Scala version is that there are differences between Scala and Java in using regex matching and replacement APIs. Java uses the Matcher object for iteration, which has methods for finding and replacing:</p><p><img src="/replaceProcess.png" alt="replace process"></p><p>In contrast, Scala’s Regex object has methods like findAllMatchIn and replaceAllIn, but the find method’s object is only for searching, and the replace method cannot locate the matched content. Therefore, in Scala, the file is read into a list, and the text content is traversed with indexes as follows:</p><pre><code class="scala">List.range(0, srcLines.size).foreach(index =&gt; &#123;  srcLines = srcLines.updated(index, regexReplace)&#125;)</code></pre><p>Whether or not there are matches, the loop performs an updated operation on the list, updating the original content to the content after regex replacement. This approach may be slightly inadequate, and I will continue to monitor and rectify performance issues. It can be seen that the programming philosophy of Scala differs somewhat from the typical OOP in Java.</p><p>Finally, regarding file writing, the SDK does not provide a specialized operation object, so you can use the PrintWriter from JDK:</p><pre><code class="scala">val pw = new PrintWriter(new File(outFile))pw.write(outString)pw.close()</code></pre><h3 id="Future-Work"><a href="#Future-Work" class="headerlink" title="Future Work"></a>Future Work</h3><p>“Scala is a language that grows with developers,” and I will use it to complete my graduation project.</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h3 id=&quot;Origin&quot;&gt;&lt;a href=&quot;#Origin&quot; class=&quot;headerlink&quot; title=&quot;Origin&quot;&gt;&lt;/a&gt;Origin&lt;/h3&gt;&lt;p&gt;I wanted to implement a Markdown parser using Java,</summary>
        
      
    
    
    
    
    <category term="Programming Languages" scheme="https://en.smallyu.net/tags/Programming-Languages/"/>
    
  </entry>
  
  <entry>
    <title>Getting One Piece Update Information with Python</title>
    <link href="https://en.smallyu.net/2018/12/02/Getting%20One%20Piece%20Update%20Information%20with%20Python/"/>
    <id>https://en.smallyu.net/2018/12/02/Getting%20One%20Piece%20Update%20Information%20with%20Python/</id>
    <published>2018-12-02T10:08:00.000Z</published>
    <updated>2025-08-06T10:38:27.655Z</updated>
    
    <content type="html"><![CDATA[<p>December 2nd, sunny, One Piece is on hiatus.</p><h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p>As a dedicated otaku, I must watch One Piece and Fairy Tail every week. Both of these anime are available on iQIYI and are VIP content. Every weekend, I look for anime resources on YouTube or other websites. The problem is that these resource websites are often not updated in a timely manner, and I frequently need to Google “anime name + latest episode number,” such as “One Piece 864.”</p><p>Remembering the exact latest episode number of an anime each week is not something a normal otaku would do, especially for two series. This means that every time before searching for resources, I need to go to iQIYI, search for One Piece, see the latest episode number, close the page, and then go to Google to search. The same steps are needed for Fairy Tail.</p><p>Moreover, seeing the latest episode number on iQIYI does not tell me if the show is on hiatus. I still need to find the “update time” tag on the complicated PC page to check the update status. As for the mobile page or app, there is no way to check the update status.</p><p>Another way to get the latest episode number is to search the anime name directly on Baidu, which shows the latest episodes in reverse order on the homepage (Baidu is better than Google in this regard), but it still does not indicate whether the updates are normal. Furthermore, my browser defaults to Google, so searching on Baidu requires typing “baidu,” pressing TAB to switch to the Baidu search engine, entering the search content, and hitting enter. This process is equally cumbersome.</p><h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><p>Write a simple Python script to fetch information from the iQIYI page so I can directly access the program to know the anime update status. First, import the necessary packages:</p><pre><code class="python">import urllib.requestfrom bs4 import BeautifulSoupfrom wsgiref.simple_server import make_server# One Piece page URLurl = &quot;http://www.iqiyi.com/a_19rrhb3xvl.html?vfm=2008_aldbd&quot;</code></pre><p><code>urllib</code> is used to send HTTP requests and receive page data; <code>bs4</code> (BeautifulSoup) is used to parse the page and easily retrieve content; <code>wsgiref</code> is used to set up an HTTP server to provide web services. The URL is a global variable storing the link to the One Piece page.</p><pre><code class="python"># Get data from the pagedef reciveData(url):    # Fetch page content    response = urllib.request.urlopen(url)    html = response.read()    # Parser    soup = BeautifulSoup(html, &quot;html.parser&quot;, from_encoding=&quot;utf-8&quot;)    # Update time    p = soup.find(&#39;p&#39;, class_=&quot;episodeIntro-update&quot;)    # Latest episode number    i = soup.find(&#39;i&#39;, class_=&quot;title-update-num&quot;)    return p, i</code></pre><p>These lines of code send a request and retrieve information from the page. Here, the update time and the latest episode number are obtained. Next, create an HTTP server to output the content to the page:</p><pre><code class="python"># Server environment handler functiondef application(environ, start_response):    # Get data    p, i = reciveData(url)    # Construct the page content    start_response(&#39;200 OK&#39;, [(&#39;Content-Type&#39;, &#39;text/html&#39;)])    content = (&#39;&lt;h3&gt;One Piece&lt;/h3&gt;&#39;               + &#39;msg: &#39; + p.contents[2].get_text().strip()                + &#39;&lt;br&gt;&#39;               + &#39;num: &#39; + i.get_text())    return [bytes(content, encoding=&quot;utf-8&quot;)]</code></pre><p>Finally, start a local server, and visit port 8010 to see the page. You can deploy the program to a server and then directly access it:</p><pre><code class="python"># Start the serverhttpd = make_server(&#39;&#39;, 8010, application) httpd.serve_forever()</code></pre><p>The result is shown as follows:</p><img src="preview.png" width="30%"><h3 id="Expansion"><a href="#Expansion" class="headerlink" title="Expansion"></a>Expansion</h3><p>Based on this idea, the program can be expanded. One approach is to get comprehensive anime update information from various websites and provide the service proactively; another is to offer customized anime update information based on user input; or combine both to offer a comprehensive, bookmarkable, and customizable service. Although this idea is somewhat pointless.</p><h3 id="Correction"><a href="#Correction" class="headerlink" title="Correction"></a>Correction</h3><p>There was a simple mistake in the previous code. The program only makes a network request the first time it runs, and since the web service remains running, the returned page content is always the initial data. Solving this problem is easy: encapsulate the network request operation in a function and call that function in the application function. (The code has been corrected. To keep it concise, the Fairy Tail part of the code and console log output have been removed.)</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;December 2nd, sunny, One Piece is on hiatus.&lt;/p&gt;
&lt;h3 id=&quot;Problem&quot;&gt;&lt;a href=&quot;#Problem&quot; class=&quot;headerlink&quot;</summary>
        
      
    
    
    
    
    <category term="Programming Language" scheme="https://en.smallyu.net/tags/Programming-Language/"/>
    
  </entry>
  
  <entry>
    <title>PHP 7, Making Code More Elegant (Translation)</title>
    <link href="https://en.smallyu.net/2018/11/01/PHP%207,%20Making%20Code%20More%20Elegant%20(Translation)/"/>
    <id>https://en.smallyu.net/2018/11/01/PHP%207,%20Making%20Code%20More%20Elegant%20(Translation)/</id>
    <published>2018-11-01T14:19:31.000Z</published>
    <updated>2025-08-06T10:38:27.726Z</updated>
    
    <content type="html"><![CDATA[<p>PHP 7 has been released for a long time, and it can make code more concise. Let’s take a look at its features.</p><h3 id="Scalar-Type-Declarations"><a href="#Scalar-Type-Declarations" class="headerlink" title="Scalar Type Declarations"></a>Scalar Type Declarations</h3><p>Scalars refer to string, int, float, and bool. Before PHP 7, to validate a function’s parameter types, you needed to manually check and throw exceptions:</p><pre><code class="php">&lt;?phpfunction add($num1, $num2) &#123;    if (!is_int($num1)) &#123;        throw new Exception(&quot;$num1 is not an integer&quot;);    &#125;    if (!is_int($num2)) &#123;        throw new Exception(&quot;$num2 is not an integer&quot;);    &#125;    return ($num1 + $num2);&#125;echo add(2, 4);     // 6echo add(1.5, 4);   // Fatal error: Uncaught Exception</code></pre><p>Now, you can directly declare the parameter types:</p><pre><code class="php">&lt;?phpfunction add(int $num1, int $num2) &#123;    return ($num1 + $num2);&#125;echo add(2, 4);     // 6echo add(&quot;2&quot;, 4);   // 6echo add(&quot;something&quot;, 4);   // Fatal error: Uncaught TypeError</code></pre><p>Since PHP runs in coercive mode by default, “2” is successfully parsed as 2. You can enable strict mode using the declare function:</p><pre><code class="php">&lt;?phpdeclare(strict_types=1);function add(int $num1, int $num2) &#123;    return ($num1 + $num2);&#125;echo add(2, 4);     // 6echo add(&quot;2&quot;, 4);   // Fatal error: Uncaught TypeError</code></pre><h3 id="Return-Type-Declarations"><a href="#Return-Type-Declarations" class="headerlink" title="Return Type Declarations"></a>Return Type Declarations</h3><p>Just like parameters, return values can now have specified types:</p><pre><code class="php">&lt;?phpfunction add($num1, $num2): int &#123;    return ($num1 + $num2);&#125;echo add(2, 4);     // 6echo add(2.5, 4);   // 6</code></pre><p>2.5 + 4 returns the int type 6, which is implicit type conversion. To avoid implicit conversion, you can use strict mode to throw exceptions:</p><pre><code class="php">&lt;?phpdeclare(strict_types=1);function add($num1, $num2): int &#123;    return ($num1 + $num2);&#125;echo add(2, 4); // 6echo add(2.5, 4); // Fatal error: Uncaught TypeError</code></pre><h3 id="Null-Coalescing-Operator"><a href="#Null-Coalescing-Operator" class="headerlink" title="Null Coalescing Operator"></a>Null Coalescing Operator</h3><p>In PHP 5, to check a variable and assign a default value if it’s not defined, you needed lengthy code:</p><pre><code class="php">$username = isset($_GET[&#39;username&#39;]) ? $_GET[&#39;username&#39;] : &#39;&#39;;</code></pre><p>In PHP 7, you can use the new “??” operator:</p><pre><code class="php">$username = $_GET[&#39;username&#39;] ?? &#39;&#39;;</code></pre><p>This is just syntactic sugar but it makes our code much simpler.</p><h3 id="Spaceship-Operator"><a href="#Spaceship-Operator" class="headerlink" title="Spaceship Operator"></a>Spaceship Operator</h3><p>Also called the combined comparison operator, it compares two expressions. It returns -1, 0, or 1 when $a is less than, equal to, or greater than $b, respectively.</p><pre><code class="php">echo 1 &lt;=&gt; 1;   // 0echo 1 &lt;=&gt; 2;   // -1echo 2 &lt;=&gt; 1;   // 1</code></pre><h3 id="Grouped-Namespace-Declarations"><a href="#Grouped-Namespace-Declarations" class="headerlink" title="Grouped Namespace Declarations"></a>Grouped Namespace Declarations</h3><p>Classes, functions, and constants within the same namespace can now be imported using a single use expression:</p><pre><code class="php">&lt;?php// Before PHP 7use net\smallyu\ClassA;use net\smallyu\ClassB;use net\smallyu\ClassC as C;use function net\smallyu\funA;use function net\smallyu\funB;use function net\smallyu\funC;use const net\smallyu\ConstA;use const net\smallyu\ConstB;use const net\smallyu\ConstC;// PHP 7use net\smallyu\&#123;ClassA, ClassB, ClassC&#125;;use function net\smallyu\&#123;funA, funB, funC&#125;;use const net\smallyu\&#123;ConstA, ConstB, ConstC&#125;;</code></pre><h3 id="Generator-Features"><a href="#Generator-Features" class="headerlink" title="Generator Features"></a>Generator Features</h3><p>Generators in PHP have the same form as regular functions. Generators are used in foreach iterations and are more memory-efficient than arrays. Here is an example of a generator:</p><pre><code class="php">&lt;?php// Returns a generatorfunction getValues($max) &#123;    for ($i = 0; $i &lt; $max; $i++) &#123;        yield $i * 2;    &#125;&#125;// Using the generatorforeach(getValues(99999) as $value) &#123;    echo &quot;Values: $value \n&quot;;&#125;</code></pre><p>In the code, the yield expression appears, which acts like return, returning a value from the function once and resuming from where it left off.</p><p>Before PHP 7, generators couldn’t use return to return a value. Now, they can, and return doesn’t affect yield’s normal iteration. The return value can also be retrieved using $gen-&gt;getReturn():</p><pre><code class="php">&lt;?php$gen = (function() &#123;    yield &quot;First Yield&quot;;    yield &quot;Second Yield&quot;;    return &quot;return Value&quot;;&#125;)();foreach ($gen as $val) &#123;    echo $val, PHP_EOL;&#125;echo $gen-&gt;getReturn();</code></pre><p>PHP 7 also supports generator delegation, allowing one generator to call another generator:</p><pre><code class="php">&lt;?phpfunction gen() &#123;    yield &quot;yield 1 from gen1&quot;;    yield &quot;yield 2 from gen1&quot;;    yield from gen2();&#125;function gen2() &#123;    yield &quot;yield 3 from gen2&quot;;    yield &quot;yield 4 from gen2&quot;;&#125;foreach (gen() as $val) &#123;    echo $val, PHP_EOL;&#125;</code></pre><h3 id="Anonymous-Classes"><a href="#Anonymous-Classes" class="headerlink" title="Anonymous Classes"></a>Anonymous Classes</h3><p>PHP 7 also introduces anonymous classes.</p><h3 id="Closures"><a href="#Closures" class="headerlink" title="Closures"></a>Closures</h3><p>PHP 7 offers better support for closures:</p><pre><code class="php">&lt;?phpclass A &#123; private $x = 1; &#125;// Before PHP 7$getAFun = function() &#123; return $this-&gt;x; &#125;;$getA = $getAFun-&gt;bindTo(new A, &#39;A&#39;); // Intermediate closureecho $getA();// PHP 7 and later$getA = function() &#123; return $this-&gt;x; &#125;;echo $getA-&gt;call(new A);</code></pre><h3 id="Nullable-Types"><a href="#Nullable-Types" class="headerlink" title="Nullable Types"></a>Nullable Types</h3><p>Nullable types are one of the new features in PHP 7.1. By adding a question mark before a type declaration, the parameter can be of the specified type or NULL. This can be used for return types:</p><pre><code class="php">&lt;?phpfunction testReturn(): ?string &#123;    return &#39;testing&#39;;&#125;var_dump(testReturn());     // string(7) &quot;testing&quot;function testReturn2(): ?string &#123;    return null;&#125;var_dump(testReturn2());    // NULL</code></pre><p>It can also be used for parameter types:</p><pre><code class="php">&lt;?phpfunction test(?string $name) &#123;    var_dump($name);&#125;test(&#39;testing&#39;);    // string(7) &quot;testing&quot;test(null);         // NULLtest();     // Fatal error: Uncaught ArgumentCountError</code></pre><h3 id="Array-Destructuring"><a href="#Array-Destructuring" class="headerlink" title="Array Destructuring"></a>Array Destructuring</h3><p>Simplified list() syntax:</p><pre><code class="php">&lt;?php$records = [    [1, &#39;smallyu&#39;],    [2, &#39;bigyu&#39;],];// list() stylelist($firstId, $firstName) = $records[0];// [] style, PHP 7.1[$firstId, $firstName] = $records[0];var_dump($firstId);     // int(1)var_dump($firstName);   // string(7) &quot;smallyu&quot;</code></pre><p>Another new feature is that both list() and [] now support keys:</p><pre><code class="php">&lt;?php$records = [    [&quot;id&quot; =&gt; 1, &quot;name&quot; =&gt; &#39;smallyu&#39;],    [&quot;id&quot; =&gt; 2, &quot;name&quot; =&gt; &#39;bigyu&#39;],];// list() stylelist(&quot;id&quot; =&gt; $firstId, &quot;name&quot; =&gt; $firstName) = $records[0];// [] style, PHP 7.1[&quot;id&quot; =&gt; $firstId, &quot;name&quot; =&gt; $firstName] = $records[0];var_dump($firstId);     // int(1)var_dump($firstName);   // string(7) &quot;smallyu&quot;</code></pre><h3 id="References"><a href="#References" class="headerlink" title="References"></a>References</h3><ul><li><p>“Building RESTful Web Services with PHP 7” Chapter 2: PHP 7, To Code It Better</p></li><li><p><a href="http://php.net/manual/en/migration70.new-features.php">PHP: New Features - Manual</a></p></li></ul>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;PHP 7 has been released for a long time, and it can make code more concise. Let’s take a look at its features.&lt;/p&gt;
&lt;h3</summary>
        
      
    
    
    
    
    <category term="Programming Languages" scheme="https://en.smallyu.net/tags/Programming-Languages/"/>
    
  </entry>
  
  <entry>
    <title>Java 11 Tutorial (Translation)</title>
    <link href="https://en.smallyu.net/2018/10/31/Java%2011%20Tutorial%20(Translation)/"/>
    <id>https://en.smallyu.net/2018/10/31/Java%2011%20Tutorial%20(Translation)/</id>
    <published>2018-10-31T02:20:56.000Z</published>
    <updated>2025-08-06T10:38:27.717Z</updated>
    
    <content type="html"><![CDATA[<p>Java 11 has been released, and many people are still using Java 8. This tutorial covers some important language features and APIs.</p><h3 id="Local-Variable-Type-Inference"><a href="#Local-Variable-Type-Inference" class="headerlink" title="Local Variable Type Inference"></a>Local Variable Type Inference</h3><p>Local variables are those declared within the method body. Java 10 introduced a new keyword <code>var</code> to replace type declarations when declaring local variables.</p><p>Before Java 10, you had to declare a variable like this:</p><pre><code class="java">String text = &quot;Hello Java 9&quot;;</code></pre><p>Now you can use <code>var</code> instead of <code>String</code>. The compiler will automatically infer the correct type from the variable’s assignment. For instance, the type of <code>text</code> is inferred as <code>String</code>:</p><pre><code class="java">var text = &quot;Hello Java 10&quot;;</code></pre><p>Variables declared with <code>var</code> are still static and cannot be assigned a different type after declaration:</p><pre><code class="java">var text = &quot;Hello Java11&quot;;text = 23;  // Compilation error: incompatible types</code></pre><p>You can also use <code>final</code> to declare constants:</p><pre><code class="java">final var text = &quot;Banana&quot;;text = &quot;Joe&quot;;   // Compilation error</code></pre><p>However, <code>var</code> cannot be used when the compiler cannot infer the type, such as in these cases:</p><pre><code class="java">var a;var nothing = null;var lambda = () -&gt; System.out.println(&quot;Pity!&quot;);var method = this::someMethod;</code></pre><p>When variable declarations involve generics, <code>var</code> proves particularly advantageous. The following example uses <code>var</code> to replace the verbose <code>Map&lt;String, List&lt;Integer&gt;&gt;</code>:</p><pre><code class="java">var myList = new ArrayList&lt;Map&lt;String, List&lt;Integer&gt;&gt;&gt;();for (var current : myList) &#123;    // The type of &#39;current&#39; is inferred as Map&lt;String, List&lt;Integer&gt;&gt;    System.out.println(current);&#125;</code></pre><p>The <code>var</code> keyword in Java 11 also supports use in lambda expression parameters, and you can add annotations to these parameters:</p><pre><code class="java">Predicate&lt;String&gt; predicate = (@Nullable var a) -&gt; true;</code></pre><blockquote><p>Tip: In Intellij IDEA, hold down the CTRL key to see the inferred type of a variable.</p></blockquote><h2 id="HTTP-Client"><a href="#HTTP-Client" class="headerlink" title="HTTP Client"></a>HTTP Client</h2><p>Java 9 introduced a new API, HttpClient, for handling HTTP requests experimentally. Now, Java 11 standardizes it, and it can be accessed from the <code>java.net</code> module.</p><p>The new HttpClient can be used in both synchronous and asynchronous scenarios. Synchronous requests block the thread until a response is received. BodyHandlers define the type of response data (e.g., <code>String</code>, <code>Byte[]</code>, <code>File</code>).</p><pre><code class="java">var request = HttpRequest.newBuilder()        .uri(URI.create(&quot;https://blog.smallyu.net&quot;))        .GET()        .build();var client = HttpClient.newHttpClient();var response = client.send(request, HttpResponse.BodyHandlers.ofString());System.out.println(response.body());// Remember to import the java.net.http module in module-info.java</code></pre><p>You can also make asynchronous requests. Calling <code>sendAsync</code> will not block the current thread; it constructs an asynchronous operation chain and executes the corresponding action upon receiving a response:</p><pre><code class="java">var request = HttpRequest.newBuilder()        .uri(URI.create(&quot;https://blog.smallyu.net&quot;))        .build();var client = HttpClient.newHttpClient();client.sendAsync(request, HttpResponse.BodyHandlers.ofString())        .thenApply(HttpResponse::body)        .thenAccept(System.out::println);// Sleep the thread to prevent it from ending before receiving the responseThread.sleep(3000);</code></pre><blockquote><p>The <code>.GET()</code> method is the default request method.</p></blockquote><p>The next example demonstrates how to send a request using the POST method to a specified URL. Similar to <code>BodyHandlers</code>, <code>BodyPublishers</code> defines the type of data to be sent:</p><pre><code class="java">var request = HttpRequest.newBuilder()        .uri(URI.create(&quot;https://postman-echo.com/post&quot;))        .header(&quot;Content-Type&quot;, &quot;text/plain&quot;)        .POST(HttpRequest.BodyPublishers.ofString(&quot;Hi there!&quot;))        .build();var client = HttpClient.newHttpClient();var response = client.send(request, HttpResponse.BodyHandlers.ofString());System.out.println(response.statusCode());      // 200</code></pre><p>The last example shows how to perform authentication using BASIC-AUTH:</p><pre><code class="java">var request = HttpRequest.newBuilder()    .uri(URI.create(&quot;https://postman-echo.com/basic-auth&quot;))    .build();var client = HttpClient.newBuilder()    .authenticator(new Authenticator() &#123;        @Override        protected PasswordAuthentication getPasswordAuthentication() &#123;            return new PasswordAuthentication(&quot;postman&quot;, &quot;password&quot;.toCharArray());        &#125;    &#125;)    .build();var response = client.send(request, HttpResponse.BodyHandlers.ofString());System.out.println(response.statusCode());      // 200</code></pre><h3 id="Collections-Framework"><a href="#Collections-Framework" class="headerlink" title="Collections Framework"></a>Collections Framework</h3><p>Collections frameworks like List, Set, and Map have new methods added. <code>List.of</code> creates an immutable list from the given parameters, and <code>List.copyOf</code> creates a copy of an existing list.</p><pre><code class="java">var list = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);var copy = List.copyOf(list);System.out.println(list == copy);   // true</code></pre><p>Since the list is immutable, the copied list and the original list are the same instance. If a mutable list is copied, the copied list will be a new instance without affecting the original list:</p><pre><code class="java">var list = new ArrayList&lt;String&gt;();var copy = List.copyOf(list);System.out.println(list == copy);   // false</code></pre><p>To create an immutable map, simply alternate the keys and values as parameters:</p><pre><code class="java">var map = Map.of(&quot;A&quot;, 1, &quot;B&quot;, 2);System.out.println(map);    // &#123;B=2, A=1&#125;</code></pre><blockquote><p>The immutable lists in Java 11 use the same interface as lists in older versions, but modifying an immutable list (e.g., adding or removing elements) will throw a <code>java.lang.UnsupportedOperationException</code>. Fortunately, when you try to modify an immutable list, Intellij IDEA will check and warn you.</p></blockquote><h3 id="Streams"><a href="#Streams" class="headerlink" title="Streams"></a>Streams</h3><p>Streams, introduced in Java 8, now have three new methods. <code>Stream.ofNullable</code> creates a stream from a single element:</p><pre><code class="java">Stream.ofNullable(null)    .count()   // 0</code></pre><p><code>dropWhile</code> and <code>takeWhile</code> methods are used to discard some elements in the stream:</p><pre><code class="java">Stream.of(1, 2, 3, 2, 1)    .dropWhile(n -&gt; n &lt; 3)    .collect(Collectors.toList());  // [3, 2, 1]Stream.of(1, 2, 3, 2, 1)    .takeWhile(n -&gt; n &lt; 3)    .collect(Collectors.toList());  // [1, 2]</code></pre><h3 id="Strings"><a href="#Strings" class="headerlink" title="Strings"></a>Strings</h3><p>The <code>String</code> class also has several new methods:</p><pre><code class="java">&quot; &quot;.isBlank();                // true&quot; Foo Bar &quot;.strip();          // &quot;Foo Bar&quot;&quot; Foo Bar &quot;.stripTrailing();  // &quot; Foo Bar&quot;&quot; Foo Bar &quot;.stripLeading();   // &quot;Foo Bar &quot;&quot;Java&quot;.repeat(3);             // &quot;JavaJavaJava&quot;&quot;A\nB\nC&quot;.lines().count();    // 3</code></pre><h3 id="Other-JVM-Features"><a href="#Other-JVM-Features" class="headerlink" title="Other JVM Features"></a>Other JVM Features</h3><p>Java 11 includes many new features; the above are just the tip of the iceberg. There is much more to explore…</p><h3 id="References"><a href="#References" class="headerlink" title="References"></a>References</h3><ul><li><a href="https://winterbe.com/posts/2018/09/24/java-11-tutorial/">Java 11 Tutorial</a></li></ul>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Java 11 has been released, and many people are still using Java 8. This tutorial covers some important language features and</summary>
        
      
    
    
    
    
    <category term="Programming Language" scheme="https://en.smallyu.net/tags/Programming-Language/"/>
    
  </entry>
  
</feed>
